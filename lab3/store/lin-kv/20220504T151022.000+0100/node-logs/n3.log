DEBUG:root:received {"dest":"n3","body":{"type":"init","node_id":"n3","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c0","id":0}
INFO:root:node n3 initialized
DEBUG:root:sending {"dest": "c0", "src": "n3", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:node
n1
current time
1651673423267879140
node_time
1651673423267864237
dif
14903
True

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":4,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":11}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 2, "in_reply_to": 4, "type": "RequestVoteRes", "term": 1, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651673423290042071

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":9,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":19}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 3, "in_reply_to": 9, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":3,"type":"AppendEntries","term":0,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":27}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 4, "in_reply_to": 3, "type": "AppendEntriesRes", "res": false, "term": 1}}
INFO:root:msg term
0
current term
1
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":14,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":37}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 5, "in_reply_to": 14, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":11,"type":"AppendEntries","term":1,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":47}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 6, "in_reply_to": 11, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":19,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":53}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 7, "in_reply_to": 19, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
2
sec, min max hb
0.33362295437922745
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 8, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 9, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 10, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 11, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 12, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":10,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":65}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":11,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":68}
INFO:root:voting for myself
n3
at time
1651673423558702310
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 13, "in_reply_to": 10, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 14, "in_reply_to": 11, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":10,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":72}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":14,"in_reply_to":12,"type":"RequestVoteRes","term":2,"res":true},"id":77}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 15, "in_reply_to": 10, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673423408022644, 'n2': 1651673423495535852, 'n3': 1651673423558692003, 'n4': 1651673423561604711, 'n5': 1651673423562348916}
curr time
1651673423562529816

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":14,"in_reply_to":8,"type":"RequestVoteRes","term":1,"res":false},"id":78}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":13,"in_reply_to":11,"type":"RequestVoteRes","term":2,"res":true},"id":80}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":13,"in_reply_to":10,"type":"RequestVoteRes","term":2,"res":true},"id":83}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":23,"type":"AppendEntries","term":1,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":88}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":26,"in_reply_to":9,"type":"RequestVoteRes","term":2,"res":true},"id":91}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673423576025160, 'n2': 1651673423495535852, 'n3': 1651673423558692003, 'n4': 1651673423561604711, 'n5': 1651673423562348916}
curr time
1651673423576223067

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673423576025160, 'n2': 1651673423495535852, 'n3': 1651673423558692003, 'n4': 1651673423576720600, 'n5': 1651673423562348916}
curr time
1651673423576878297

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673423576025160, 'n2': 1651673423495535852, 'n3': 1651673423577568808, 'n4': 1651673423576720600, 'n5': 1651673423562348916}
curr time
1651673423577713482

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 16, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 17, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 18, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 19, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 20, "in_reply_to": 23, "type": "AppendEntriesRes", "res": false, "term": 2}}
INFO:root:msg term
1
current term
2
log
[(('pass', None), 0), [['pass', None], 0]]
msg entries
[]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673423576025160, 'n2': 1651673423596077945, 'n3': 1651673423577568808, 'n4': 1651673423576720600, 'n5': 1651673423562348916}
curr time
1651673423596248885

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":18,"in_reply_to":18,"type":"AppendEntriesRes","res":true,"term":2,"next":3,"commit":0},"id":105}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":31,"in_reply_to":17,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":107}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":32,"type":"AppendEntries","term":2,"prevIndex":0,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":109}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 21, "in_reply_to": 32, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":19,"in_reply_to":19,"type":"AppendEntriesRes","res":true,"term":2,"next":3,"commit":0},"id":112}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":20,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":117}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 22, "in_reply_to": 20, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 23, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 24, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 25, "type": "AppendEntries", "term": 2, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 26, "type": "AppendEntries", "term": 2, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":35,"in_reply_to":24,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":131}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":21,"in_reply_to":25,"type":"AppendEntriesRes","res":true,"term":2,"next":3,"commit":0},"id":132}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":21,"in_reply_to":26,"type":"AppendEntriesRes","res":true,"term":2,"next":3,"commit":0},"id":133}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 27, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 28, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 29, "type": "AppendEntries", "term": 2, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 30, "type": "AppendEntries", "term": 2, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":36,"in_reply_to":28,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":137}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":22,"in_reply_to":29,"type":"AppendEntriesRes","res":true,"term":2,"next":3,"commit":0},"id":138}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":22,"in_reply_to":30,"type":"AppendEntriesRes","res":true,"term":2,"next":3,"commit":0},"id":140}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":25,"type":"RequestVote","term":3,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":143}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 31, "in_reply_to": 25, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673423809685174

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
4
sec, min max hb
0.418114221456822
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 32, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 33, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 34, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 35, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 36, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":31,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":154}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 37, "in_reply_to": 31, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673423826504776

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":34,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":158}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":41,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":161}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":27,"in_reply_to":32,"type":"RequestVoteRes","term":2,"res":false},"id":166}
INFO:root:voting for myself
n3
at time
1651673423835863616
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 38, "in_reply_to": 34, "type": "RequestVoteRes", "term": 4, "res": true}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 39, "in_reply_to": 41, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673423837062620

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673423837338407, 'n2': 1651673423836727737, 'n3': 1651673423835850908, 'n4': 1651673423825745967, 'n5': 1651673423795648810}
curr time
1651673423837517108

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":26,"type":"RequestVote","term":3,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n5"},"id":173}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":35,"in_reply_to":35,"type":"RequestVoteRes","term":4,"res":true},"id":177}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":38,"in_reply_to":34,"type":"RequestVoteRes","term":4,"res":true},"id":178}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 40, "in_reply_to": 26, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673423842853281

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673423837338407, 'n2': 1651673423836727737, 'n3': 1651673423835850908, 'n4': 1651673423843152314, 'n5': 1651673423842453045}
curr time
1651673423843332734

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673423837338407, 'n2': 1651673423836727737, 'n3': 1651673423844122168, 'n4': 1651673423843152314, 'n5': 1651673423842453045}
curr time
1651673423844282374

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":44,"in_reply_to":33,"type":"RequestVoteRes","term":4,"res":true},"id":181}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":31,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n5"},"id":187}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":39,"type":"AppendEntries","term":4,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":191}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673423837338407, 'n2': 1651673423854082788, 'n3': 1651673423844122168, 'n4': 1651673423843152314, 'n5': 1651673423842453045}
curr time
1651673423854364188

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 41, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 42, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 43, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 44, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 45, "in_reply_to": 31, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651673423865382242

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 46, "in_reply_to": 39, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":43,"in_reply_to":43,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":206}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":36,"in_reply_to":36,"type":"RequestVoteRes","term":4,"res":false},"id":208}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 47, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 48, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 49, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 50, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":40,"in_reply_to":44,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":212}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n5
timeout dict
{'n1': 1651673423837338407, 'n2': 1651673423854082788, 'n3': 1651673423844122168, 'n4': 1651673423868191829, 'n5': 1651673423879626112}
curr time
1651673423879847052

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":44,"in_reply_to":49,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":217}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":43,"type":"AppendEntries","term":4,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":220}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 51, "in_reply_to": 43, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":45,"in_reply_to":50,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":222}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":33,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":227}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 52, "in_reply_to": 33, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651673423900660940

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":49,"type":"AppendEntries","term":4,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":237}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 53, "in_reply_to": 49, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 3, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 54, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 55, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 56, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 57, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 58, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 59, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 60, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 61, "type": "AppendEntries", "term": 4, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":51,"in_reply_to":56,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":246}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":48,"in_reply_to":57,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":249}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":38,"in_reply_to":58,"type":"AppendEntriesRes","res":false,"term":4},"id":254}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":50,"in_reply_to":59,"type":"AppendEntriesRes","res":false,"term":4},"id":255}
INFO:root:387##########:
node
n3
current term
4
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 62, "type": "AppendEntries", "term": 4, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
4
next I
{'n1': 2, 'n2': 2, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 63, "type": "AppendEntries", "term": 4, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":49,"in_reply_to":61,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":256}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":52,"in_reply_to":60,"type":"AppendEntriesRes","res":true,"term":4,"next":3,"commit":0},"id":258}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":39,"in_reply_to":62,"type":"AppendEntriesRes","res":true,"term":4,"next":4,"commit":0},"id":259}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":52,"type":"AppendEntries","term":4,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":263}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 64, "in_reply_to": 52, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":52,"in_reply_to":63,"type":"AppendEntriesRes","res":true,"term":4,"next":4,"commit":0},"id":267}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":56,"type":"AppendEntries","term":4,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":277}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 65, "in_reply_to": 56, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 3, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-13:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":62,"type":"RequestVote","term":5,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":288}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 66, "in_reply_to": 62, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-14:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
INFO:root:election timeout, starting new election

  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
INFO:root:starting new elections, new term
5
sec, min max hb
0.472316350354553
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 67, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 68, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 69, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 70, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 71, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":45,"in_reply_to":67,"type":"RequestVoteRes","term":4,"res":false},"id":298}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":69,"type":"RequestVote","term":5,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":299}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673424070796232, 'n2': 1651673423991323722, 'n3': 1651673423844122168, 'n4': 1651673424060165834, 'n5': 1651673423985761780}
curr time
1651673424072049762

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":57,"in_reply_to":68,"type":"RequestVoteRes","term":4,"res":false},"id":301}
INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n3
at time
1651673424072885999
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 72, "in_reply_to": 69, "type": "RequestVoteRes", "term": 5, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424070796232, 'n2': 1651673424073473993, 'n3': 1651673424072877207, 'n4': 1651673424060165834, 'n5': 1651673423985761780}
curr time
1651673424073636508

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":58,"in_reply_to":71,"type":"RequestVoteRes","term":5,"res":false},"id":303}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":72,"in_reply_to":69,"type":"RequestVoteRes","term":5,"res":true},"id":304}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":66,"in_reply_to":70,"type":"RequestVoteRes","term":5,"res":false},"id":305}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424070796232, 'n2': 1651673424073473993, 'n3': 1651673424072877207, 'n4': 1651673424060165834, 'n5': 1651673424075835876}
curr time
1651673424076519887

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424070796232, 'n2': 1651673424073473993, 'n3': 1651673424077541340, 'n4': 1651673424060165834, 'n5': 1651673424075835876}
curr time
1651673424077690589

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424070796232, 'n2': 1651673424073473993, 'n3': 1651673424077541340, 'n4': 1651673424078394640, 'n5': 1651673424075835876}
curr time
1651673424078565874

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":69,"type":"RequestVote","term":6,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":311}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":60,"type":"RequestVote","term":5,"prevLogIndex":5,"lastLogTerm":0,"candidateId":"n2"},"id":312}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 73, "in_reply_to": 69, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
5
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 74, "in_reply_to": 60, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
6
sec, min max hb
0.45233689708306446
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 75, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 76, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 77, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 78, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 79, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
7
sec, min max hb
0.46799354358803724
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 80, "type": "RequestVote", "term": 7, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 81, "type": "RequestVote", "term": 7, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 82, "type": "RequestVote", "term": 7, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 83, "type": "RequestVote", "term": 7, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 84, "type": "RequestVote", "term": 7, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":77,"type":"RequestVote","term":6,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":324}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":48,"in_reply_to":75,"type":"RequestVoteRes","term":5,"res":false},"id":327}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":82,"type":"RequestVote","term":7,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":330}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":61,"in_reply_to":79,"type":"RequestVoteRes","term":6,"res":false},"id":333}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":49,"in_reply_to":80,"type":"RequestVoteRes","term":5,"res":false},"id":334}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 85, "in_reply_to": 77, "type": "RequestVoteRes", "term": 7, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673424094796769

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673424095083649, 'n2': 1651673424085523141, 'n3': 1651673424094283798, 'n4': 1651673424084659806, 'n5': 1651673424075835876}
curr time
1651673424095270226

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n3
at time
1651673424095717850
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 86, "in_reply_to": 82, "type": "RequestVoteRes", "term": 7, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424095083649, 'n2': 1651673424085523141, 'n3': 1651673424095709887, 'n4': 1651673424084659806, 'n5': 1651673424099123929}
curr time
1651673424099378807

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424085523141, 'n3': 1651673424095709887, 'n4': 1651673424084659806, 'n5': 1651673424099123929}
curr time
1651673424100008873

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":62,"in_reply_to":84,"type":"RequestVoteRes","term":6,"res":false},"id":336}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":85,"in_reply_to":77,"type":"RequestVoteRes","term":7,"res":false},"id":340}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":76,"type":"RequestVote","term":7,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":344}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":86,"in_reply_to":82,"type":"RequestVoteRes","term":7,"res":true},"id":347}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":67,"type":"RequestVote","term":6,"prevLogIndex":5,"lastLogTerm":0,"candidateId":"n2"},"id":350}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":70,"in_reply_to":76,"type":"RequestVoteRes","term":6,"res":false},"id":354}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424085523141, 'n3': 1651673424095709887, 'n4': 1651673424084659806, 'n5': 1651673424106712870}
curr time
1651673424106892959

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424085523141, 'n3': 1651673424107321432, 'n4': 1651673424084659806, 'n5': 1651673424106712870}
curr time
1651673424107455570

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 87, "in_reply_to": 76, "type": "RequestVoteRes", "term": 7, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":71,"in_reply_to":81,"type":"RequestVoteRes","term":6,"res":false},"id":358}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424085523141, 'n3': 1651673424111455082, 'n4': 1651673424107823129, 'n5': 1651673424106712870}
curr time
1651673424111720089

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 88, "in_reply_to": 67, "type": "RequestVoteRes", "term": 7, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673424114137878

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424114453255, 'n3': 1651673424111455082, 'n4': 1651673424107823129, 'n5': 1651673424106712870}
curr time
1651673424114614421

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424115029844, 'n3': 1651673424111455082, 'n4': 1651673424107823129, 'n5': 1651673424106712870}
curr time
1651673424115163762

INFO:root:resposta
False
majority
3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
8
sec, min max hb
0.4792918980375666
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 89, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 90, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 91, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 92, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 93, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":67,"type":"RequestVote","term":8,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n5"},"id":364}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":81,"in_reply_to":78,"type":"RequestVoteRes","term":8,"res":false},"id":367}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":91,"type":"RequestVote","term":8,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":371}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":82,"in_reply_to":83,"type":"RequestVoteRes","term":8,"res":false},"id":376}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":72,"type":"RequestVote","term":9,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n5"},"id":378}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":54,"in_reply_to":89,"type":"RequestVoteRes","term":6,"res":false},"id":383}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":83,"type":"RequestVote","term":8,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":385}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":76,"in_reply_to":93,"type":"RequestVoteRes","term":9,"res":false},"id":386}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 94, "in_reply_to": 67, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651673424127849642

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":79,"type":"RequestVote","term":10,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n5"},"id":391}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n5
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424115029844, 'n3': 1651673424111455082, 'n4': 1651673424131197362, 'n5': 1651673424126432835}
curr time
1651673424131459763

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n3
at time
1651673424131982121
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 95, "in_reply_to": 91, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424099856743, 'n2': 1651673424115029844, 'n3': 1651673424131974059, 'n4': 1651673424133471357, 'n5': 1651673424126432835}
curr time
1651673424133710365

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":95,"in_reply_to":91,"type":"RequestVoteRes","term":8,"res":true},"id":396}
INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 96, "in_reply_to": 72, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":89,"type":"AppendEntries","term":8,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":405}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":75,"type":"AppendEntries","term":6,"prevIndex":5,"prevTerm":0,"entries":[],"commit":0},"id":406}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424143914581, 'n2': 1651673424115029844, 'n3': 1651673424131974059, 'n4': 1651673424133471357, 'n5': 1651673424141484540}
curr time
1651673424144171930

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 97, "in_reply_to": 83, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":61,"type":"RequestVote","term":7,"prevLogIndex":5,"lastLogTerm":0,"candidateId":"n1"},"id":417}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424143914581, 'n2': 1651673424115029844, 'n3': 1651673424131974059, 'n4': 1651673424144759675, 'n5': 1651673424154243912}
curr time
1651673424154576812

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 98, "in_reply_to": 79, "type": "RequestVoteRes", "term": 8, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424143914581, 'n2': 1651673424115029844, 'n3': 1651673424158710843, 'n4': 1651673424144759675, 'n5': 1651673424155172504}
curr time
1651673424158996060

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 99, "in_reply_to": 89, "type": "AppendEntriesRes", "res": true, "term": 8, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":79,"in_reply_to":90,"type":"RequestVoteRes","term":6,"res":false},"id":424}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 100, "in_reply_to": 75, "type": "AppendEntriesRes", "res": false, "term": 8}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":90,"type":"AppendEntries","term":10,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":432}
INFO:root:msg term
6
current term
8
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
msg entries
[]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 101, "in_reply_to": 61, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":93,"in_reply_to":92,"type":"RequestVoteRes","term":8,"res":false},"id":434}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673424178603929

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424166986857, 'n2': 1651673424179538808, 'n3': 1651673424158710843, 'n4': 1651673424159878803, 'n5': 1651673424155172504}
curr time
1651673424179986253

INFO:root:resposta
False
majority
3

INFO:root:vote ended, new leader is
n3

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424166986857, 'n2': 1651673424179538808, 'n3': 1651673424158710843, 'n4': 1651673424159878803, 'n5': 1651673424181830887}
curr time
1651673424182705103

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 102, "in_reply_to": 90, "type": "AppendEntriesRes", "res": true, "term": 10, "next": 3, "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
10
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424166986857, 'n2': 1651673424179538808, 'n3': 1651673424158710843, 'n4': 1651673424185330066, 'n5': 1651673424181830887}
curr time
1651673424185836913

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":105,"type":"RequestVote","term":11,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":462}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 103, "in_reply_to": 105, "type": "RequestVoteRes", "term": 11, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673424313258057

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
12
sec, min max hb
0.4753373192858812
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 104, "type": "RequestVote", "term": 12, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":111,"type":"AppendEntries","term":11,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":472}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 105, "in_reply_to": 111, "type": "AppendEntriesRes", "res": false, "term": 12}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 106, "type": "RequestVote", "term": 12, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:msg term
11
current term
12
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
msg entries
[]

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 107, "type": "RequestVote", "term": 12, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 108, "type": "RequestVote", "term": 12, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 109, "type": "RequestVote", "term": 12, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":107,"type":"RequestVote","term":12,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":479}
INFO:root:voting for myself
n3
at time
1651673424327809890
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 110, "in_reply_to": 107, "type": "RequestVoteRes", "term": 12, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":90,"in_reply_to":106,"type":"RequestVoteRes","term":11,"res":false},"id":484}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":110,"in_reply_to":107,"type":"RequestVoteRes","term":12,"res":true},"id":485}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":97,"in_reply_to":109,"type":"RequestVoteRes","term":11,"res":false},"id":486}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424166986857, 'n2': 1651673424332963610, 'n3': 1651673424327797611, 'n4': 1651673424323495182, 'n5': 1651673424181830887}
curr time
1651673424333182210

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424166986857, 'n2': 1651673424332963610, 'n3': 1651673424333686371, 'n4': 1651673424323495182, 'n5': 1651673424181830887}
curr time
1651673424333842807

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424166986857, 'n2': 1651673424332963610, 'n3': 1651673424333686371, 'n4': 1651673424323495182, 'n5': 1651673424334544261}
curr time
1651673424334703110

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":70,"in_reply_to":104,"type":"RequestVoteRes","term":10,"res":false},"id":488}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":114,"in_reply_to":108,"type":"RequestVoteRes","term":12,"res":true},"id":489}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424339790052, 'n2': 1651673424332963610, 'n3': 1651673424333686371, 'n4': 1651673424323495182, 'n5': 1651673424334544261}
curr time
1651673424339998754

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424339790052, 'n2': 1651673424332963610, 'n3': 1651673424333686371, 'n4': 1651673424340527058, 'n5': 1651673424334544261}
curr time
1651673424340695654

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
13
sec, min max hb
0.33872057364379027
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 111, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 112, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 113, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 114, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 115, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":113,"type":"RequestVote","term":13,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":494}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":93,"type":"RequestVote","term":12,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":497}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":115,"in_reply_to":114,"type":"RequestVoteRes","term":13,"res":true},"id":502}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":72,"in_reply_to":111,"type":"RequestVoteRes","term":11,"res":false},"id":503}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":99,"in_reply_to":115,"type":"RequestVoteRes","term":11,"res":false},"id":505}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":96,"in_reply_to":112,"type":"RequestVoteRes","term":13,"res":true},"id":507}
INFO:root:voting for myself
n3
at time
1651673424354419600
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 116, "in_reply_to": 113, "type": "RequestVoteRes", "term": 13, "res": true}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 117, "in_reply_to": 93, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673424356247720

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":116,"in_reply_to":113,"type":"RequestVoteRes","term":13,"res":true},"id":510}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424339790052, 'n2': 1651673424355644788, 'n3': 1651673424354407701, 'n4': 1651673424357216753, 'n5': 1651673424334544261}
curr time
1651673424358117697

INFO:root:election timeout, starting new election

INFO:root:resposta
True
majority
3

INFO:root:starting new elections, new term
14
sec, min max hb
0.41548140216553625
0.3333333333333333
0.5

INFO:root:antes  #487
0

INFO:root:Requesting new Vote

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 118, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:Got a response to the vote Request #475

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 119, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 120, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 121, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 122, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673424361262895, 'n2': 1651673424355644788, 'n3': 1651673424354407701, 'n4': 1651673424357216753, 'n5': 1651673424334544261}
curr time
1651673424362256501

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673424361262895, 'n2': 1651673424355644788, 'n3': 1651673424354407701, 'n4': 1651673424357216753, 'n5': 1651673424364652916}
curr time
1651673424364845054

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673424361262895, 'n2': 1651673424365369689, 'n3': 1651673424354407701, 'n4': 1651673424357216753, 'n5': 1651673424364652916}
curr time
1651673424365555236

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651673424361262895, 'n2': 1651673424365369689, 'n3': 1651673424366406078, 'n4': 1651673424357216753, 'n5': 1651673424364652916}
curr time
1651673424366566725

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":100,"type":"RequestVote","term":14,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":515}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":75,"in_reply_to":118,"type":"RequestVoteRes","term":11,"res":false},"id":519}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 123, "in_reply_to": 100, "type": "RequestVoteRes", "term": 14, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651673424370300317

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":119,"type":"RequestVote","term":14,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":523}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651673424373799528, 'n2': 1651673424369521456, 'n3': 1651673424366406078, 'n4': 1651673424357216753, 'n5': 1651673424364652916}
curr time
1651673424374088368

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 124, "in_reply_to": 119, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":120,"type":"RequestVote","term":14,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":527}
INFO:root:voting for myself
n3
at time
1651673424377882409
nr votes
2

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 125, "in_reply_to": 120, "type": "RequestVoteRes", "term": 14, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":124,"in_reply_to":121,"type":"RequestVoteRes","term":14,"res":false},"id":535}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":125,"in_reply_to":120,"type":"RequestVoteRes","term":14,"res":true},"id":537}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673424373799528, 'n2': 1651673424369521456, 'n3': 1651673424377867303, 'n4': 1651673424380138758, 'n5': 1651673424364652916}
curr time
1651673424380739840

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673424373799528, 'n2': 1651673424369521456, 'n3': 1651673424381357888, 'n4': 1651673424380138758, 'n5': 1651673424364652916}
curr time
1651673424382466486

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 126, "type": "AppendEntries", "term": 14, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 127, "type": "AppendEntries", "term": 14, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 128, "type": "AppendEntries", "term": 14, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 129, "type": "AppendEntries", "term": 14, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":103,"in_reply_to":122,"type":"RequestVoteRes","term":11,"res":false},"id":538}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":77,"in_reply_to":126,"type":"AppendEntriesRes","res":false,"term":11},"id":541}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424373799528, 'n2': 1651673424369521456, 'n3': 1651673424381357888, 'n4': 1651673424380138758, 'n5': 1651673424408852226}
curr time
1651673424409193920

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n3
current term
14
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 130, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":104,"in_reply_to":129,"type":"AppendEntriesRes","res":true,"term":14,"next":4,"commit":0},"id":546}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":127,"type":"RequestVote","term":15,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":548}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":130,"in_reply_to":128,"type":"AppendEntriesRes","res":false,"term":15},"id":553}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":105,"in_reply_to":119,"type":"RequestVoteRes","term":14,"res":false},"id":554}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":106,"in_reply_to":127,"type":"AppendEntriesRes","res":true,"term":14,"next":3,"commit":0},"id":557}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":79,"in_reply_to":130,"type":"AppendEntriesRes","res":true,"term":14,"next":10,"commit":0},"id":561}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":134,"type":"RequestVote","term":16,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":562}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":108,"type":"AppendEntries","term":14,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":568}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 131, "in_reply_to": 127, "type": "RequestVoteRes", "term": 15, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673424430148278

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":141,"type":"RequestVote","term":17,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":575}
INFO:root:387##########:
node
n3
current term
15
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 132, "type": "AppendEntries", "term": 15, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n4
timeout dict
{'n1': 1651673424409792888, 'n2': 1651673424436805039, 'n3': 1651673424381357888, 'n4': 1651673424435927448, 'n5': 1651673424429292602}
curr time
1651673424436993623

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 133, "in_reply_to": 134, "type": "RequestVoteRes", "term": 16, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":146,"type":"RequestVote","term":18,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":586}
INFO:root:election started and voted vor
n4
at time
1651673424440802007

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":114,"type":"RequestVote","term":16,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":593}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 134, "in_reply_to": 108, "type": "AppendEntriesRes", "res": false, "term": 16}}
INFO:root:msg term
14
current term
16
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
msg entries
[]

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 135, "in_reply_to": 141, "type": "RequestVoteRes", "term": 17, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673424449094489

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 136, "in_reply_to": 146, "type": "RequestVoteRes", "term": 18, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673424452831156

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 137, "in_reply_to": 114, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651673424457831840

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":150,"in_reply_to":132,"type":"AppendEntriesRes","res":false,"term":18},"id":611}
INFO:root:387##########:
node
n3
current term
18
next I
{'n1': 10, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 138, "type": "AppendEntries", "term": 18, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0], [["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":123,"type":"AppendEntries","term":18,"prevIndex":1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":614}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 139, "in_reply_to": 123, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":154,"type":"AppendEntries","term":18,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":619}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 140, "in_reply_to": 154, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":158,"in_reply_to":138,"type":"AppendEntriesRes","res":true,"term":18,"next":5,"commit":0},"id":628}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 10, 'n2': 3, 'n3': 3, 'n4': 5, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-25:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":163,"type":"AppendEntries","term":18,"prevIndex":3,"prevTerm":0,"entries":[],"commit":0},"id":634}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 141, "in_reply_to": 163, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 4, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
19
sec, min max hb
0.3621542481062688
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 142, "type": "RequestVote", "term": 19, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 143, "type": "RequestVote", "term": 19, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 144, "type": "RequestVote", "term": 19, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 145, "type": "RequestVote", "term": 19, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 146, "type": "RequestVote", "term": 19, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":144,"type":"RequestVote","term":19,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n3"},"id":644}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":129,"type":"RequestVote","term":19,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":645}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":89,"in_reply_to":142,"type":"RequestVoteRes","term":19,"res":true},"id":650}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":132,"in_reply_to":143,"type":"RequestVoteRes","term":19,"res":true},"id":651}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":113,"in_reply_to":146,"type":"RequestVoteRes","term":19,"res":true},"id":652}
INFO:root:voting for myself
n3
at time
1651673424572422472
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 147, "in_reply_to": 144, "type": "RequestVoteRes", "term": 19, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":165,"in_reply_to":145,"type":"RequestVoteRes","term":18,"res":false},"id":655}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 148, "in_reply_to": 129, "type": "RequestVoteRes", "term": 19, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424574398449, 'n2': 1651673424573682861, 'n3': 1651673424572412625, 'n4': 1651673424560471417, 'n5': 1651673424429292602}
curr time
1651673424574595274

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424574398449, 'n2': 1651673424575386156, 'n3': 1651673424572412625, 'n4': 1651673424560471417, 'n5': 1651673424429292602}
curr time
1651673424575550069

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673424574398449, 'n2': 1651673424575386156, 'n3': 1651673424572412625, 'n4': 1651673424560471417, 'n5': 1651673424576249184}
curr time
1651673424576379472

INFO:root:resposta
True
majority
3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
20
sec, min max hb
0.35238287235807614
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 149, "type": "RequestVote", "term": 20, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 150, "type": "RequestVote", "term": 20, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 151, "type": "RequestVote", "term": 20, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 152, "type": "RequestVote", "term": 20, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 153, "type": "RequestVote", "term": 20, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":147,"in_reply_to":144,"type":"RequestVoteRes","term":19,"res":true},"id":658}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":151,"type":"RequestVote","term":20,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n3"},"id":662}
INFO:root:antes  #487
2

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":91,"in_reply_to":149,"type":"RequestVoteRes","term":20,"res":true},"id":665}
INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651673424574398449, 'n2': 1651673424575386156, 'n3': 1651673424572412625, 'n4': 1651673424584248640, 'n5': 1651673424576249184}
curr time
1651673424584413584

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651673424574398449, 'n2': 1651673424575386156, 'n3': 1651673424584952656, 'n4': 1651673424584248640, 'n5': 1651673424576249184}
curr time
1651673424585139843

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:voting for myself
n3
at time
1651673424586011809
nr votes
2

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 154, "in_reply_to": 151, "type": "RequestVoteRes", "term": 20, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673424586809923, 'n2': 1651673424575386156, 'n3': 1651673424586004119, 'n4': 1651673424584248640, 'n5': 1651673424576249184}
curr time
1651673424587002388

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 155, "type": "AppendEntries", "term": 20, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 156, "type": "AppendEntries", "term": 20, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 157, "type": "AppendEntries", "term": 20, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 158, "type": "AppendEntries", "term": 20, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":167,"in_reply_to":152,"type":"RequestVoteRes","term":18,"res":false},"id":666}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":115,"in_reply_to":153,"type":"RequestVoteRes","term":20,"res":true},"id":667}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":154,"in_reply_to":151,"type":"RequestVoteRes","term":20,"res":true},"id":668}
INFO:root:election ended

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424586809923, 'n2': 1651673424575386156, 'n3': 1651673424586004119, 'n4': 1651673424595760940, 'n5': 1651673424576249184}
curr time
1651673424596748694

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424586809923, 'n2': 1651673424575386156, 'n3': 1651673424586004119, 'n4': 1651673424595760940, 'n5': 1651673424598250732}
curr time
1651673424598421912

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424586809923, 'n2': 1651673424575386156, 'n3': 1651673424598921046, 'n4': 1651673424595760940, 'n5': 1651673424598250732}
curr time
1651673424599070800

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":134,"in_reply_to":150,"type":"RequestVoteRes","term":19,"res":false},"id":669}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":92,"in_reply_to":155,"type":"AppendEntriesRes","res":true,"term":20,"next":4,"commit":0},"id":672}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":116,"in_reply_to":158,"type":"AppendEntriesRes","res":true,"term":20,"next":4,"commit":0},"id":675}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":168,"in_reply_to":157,"type":"AppendEntriesRes","res":true,"term":20,"next":7,"commit":0},"id":676}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":137,"type":"RequestVote","term":20,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":679}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424586809923, 'n2': 1651673424601539560, 'n3': 1651673424598921046, 'n4': 1651673424595760940, 'n5': 1651673424598250732}
curr time
1651673424601739962

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 159, "in_reply_to": 137, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":143,"type":"RequestVote","term":21,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":690}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 160, "in_reply_to": 143, "type": "RequestVoteRes", "term": 20, "res": false}}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":149,"type":"RequestVote","term":22,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":699}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 161, "in_reply_to": 149, "type": "RequestVoteRes", "term": 20, "res": false}}
INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 162, "type": "AppendEntries", "term": 20, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 163, "type": "AppendEntries", "term": 20, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-34:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":155,"type":"RequestVote","term":23,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":709}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 164, "in_reply_to": 155, "type": "RequestVoteRes", "term": 20, "res": false}}
INFO:root:election ended

    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":160,"type":"RequestVote","term":24,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":719}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 165, "in_reply_to": 160, "type": "RequestVoteRes", "term": 20, "res": false}}
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":97,"in_reply_to":162,"type":"AppendEntriesRes","res":true,"term":20,"next":4,"commit":0},"id":723}
    heartbeat(dest)
INFO:root:election ended

  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":167,"type":"RequestVote","term":26,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":734}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":168,"in_reply_to":163,"type":"AppendEntriesRes","res":false,"term":26},"id":735}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 166, "in_reply_to": 167, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":174,"type":"RequestVote","term":27,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":744}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 167, "in_reply_to": 174, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":176,"type":"RequestVote","term":27,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":751}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 168, "in_reply_to": 176, "type": "RequestVoteRes", "term": 20, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":186,"type":"RequestVote","term":28,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":765}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 169, "in_reply_to": 186, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":105,"type":"RequestVote","term":21,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n1"},"id":776}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
3
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 170, "in_reply_to": 105, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:election started and voted vor
n1
at time
1651673424824580299

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":192,"type":"RequestVote","term":29,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":780}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 171, "in_reply_to": 192, "type": "RequestVoteRes", "term": 21, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":130,"type":"RequestVote","term":21,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n5"},"id":791}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
22
sec, min max hb
0.3478170050199218
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 172, "type": "RequestVote", "term": 22, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 173, "type": "RequestVote", "term": 22, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 174, "type": "RequestVote", "term": 22, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 175, "type": "RequestVote", "term": 22, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
3
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 177, "in_reply_to": 130, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651673424833916195

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":174,"type":"RequestVote","term":22,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n3"},"id":798}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 176, "type": "RequestVote", "term": 22, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:voting for myself
n3
at time
1651673424845564252
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 178, "in_reply_to": 174, "type": "RequestVoteRes", "term": 22, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":184,"type":"RequestVote","term":21,"prevLogIndex":6,"lastLogTerm":0,"candidateId":"n4"},"id":805}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":187,"in_reply_to":175,"type":"RequestVoteRes","term":21,"res":false},"id":812}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":136,"type":"RequestVote","term":22,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n5"},"id":813}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":113,"type":"RequestVote","term":22,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n1"},"id":820}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":140,"in_reply_to":176,"type":"RequestVoteRes","term":22,"res":true},"id":825}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 179, "in_reply_to": 184, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673424848871330

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424823925535, 'n2': 1651673424826641148, 'n3': 1651673424845553870, 'n4': 1651673424849161719, 'n5': 1651673424830779122}
curr time
1651673424849347638

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
3
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 180, "in_reply_to": 136, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
3
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 181, "in_reply_to": 113, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673424850408318, 'n2': 1651673424826641148, 'n3': 1651673424845553870, 'n4': 1651673424849161719, 'n5': 1651673424850966859}
curr time
1651673424851140924

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":178,"in_reply_to":174,"type":"RequestVoteRes","term":22,"res":true},"id":826}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":116,"in_reply_to":172,"type":"RequestVoteRes","term":22,"res":true},"id":828}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":198,"in_reply_to":173,"type":"RequestVoteRes","term":29,"res":false},"id":836}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":201,"type":"RequestVote","term":30,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":842}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673424850408318, 'n2': 1651673424826641148, 'n3': 1651673424861419719, 'n4': 1651673424849161719, 'n5': 1651673424850966859}
curr time
1651673424861682055

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673424862389791, 'n2': 1651673424826641148, 'n3': 1651673424861419719, 'n4': 1651673424849161719, 'n5': 1651673424850966859}
curr time
1651673424862518477

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 182, "type": "AppendEntries", "term": 22, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 183, "type": "AppendEntries", "term": 22, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 184, "type": "AppendEntries", "term": 22, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":121,"in_reply_to":182,"type":"AppendEntriesRes","res":true,"term":22,"next":4,"commit":0},"id":853}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 185, "type": "AppendEntries", "term": 22, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":192,"in_reply_to":184,"type":"AppendEntriesRes","res":true,"term":22,"next":7,"commit":0},"id":856}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673424862389791, 'n2': 1651673424870571257, 'n3': 1651673424861419719, 'n4': 1651673424849161719, 'n5': 1651673424850966859}
curr time
1651673424870803586

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":144,"in_reply_to":185,"type":"AppendEntriesRes","res":true,"term":22,"next":4,"commit":0},"id":857}
INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 186, "in_reply_to": 201, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":210,"type":"RequestVote","term":31,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":863}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 187, "in_reply_to": 210, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":215,"type":"RequestVote","term":32,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":871}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":216,"in_reply_to":183,"type":"AppendEntriesRes","res":false,"term":32},"id":873}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 188, "in_reply_to": 215, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":223,"type":"RequestVote","term":33,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":883}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 189, "in_reply_to": 223, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":229,"type":"RequestVote","term":34,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":893}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 190, "in_reply_to": 229, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 191, "type": "AppendEntries", "term": 22, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 192, "type": "AppendEntries", "term": 22, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-46:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":126,"in_reply_to":191,"type":"AppendEntriesRes","res":true,"term":22,"next":4,"commit":0},"id":903}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":233,"in_reply_to":192,"type":"AppendEntriesRes","res":false,"term":34},"id":904}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":238,"type":"RequestVote","term":36,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":909}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":239,"type":"RequestVote","term":36,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":910}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 193, "in_reply_to": 238, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 194, "in_reply_to": 239, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":248,"type":"RequestVote","term":37,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":928}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 195, "in_reply_to": 248, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":202,"type":"RequestVote","term":23,"prevLogIndex":6,"lastLogTerm":0,"candidateId":"n4"},"id":937}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
6
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 196, "in_reply_to": 202, "type": "RequestVoteRes", "term": 23, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673425064858860

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":255,"type":"RequestVote","term":38,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":947}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 197, "in_reply_to": 255, "type": "RequestVoteRes", "term": 23, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
24
sec, min max hb
0.4849582170216835
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 198, "type": "RequestVote", "term": 24, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 199, "type": "RequestVote", "term": 24, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 200, "type": "RequestVote", "term": 24, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 201, "type": "RequestVote", "term": 24, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 202, "type": "RequestVote", "term": 24, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":135,"type":"RequestVote","term":23,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n1"},"id":959}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":200,"type":"RequestVote","term":24,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n3"},"id":964}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":156,"type":"RequestVote","term":23,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n5"},"id":969}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 203, "in_reply_to": 135, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425085734241

INFO:root:voting for myself
n3
at time
1651673425086052716
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 204, "in_reply_to": 200, "type": "RequestVoteRes", "term": 24, "res": true}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 205, "in_reply_to": 156, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673425086925016

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":261,"type":"RequestVote","term":39,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":974}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":139,"in_reply_to":198,"type":"RequestVoteRes","term":23,"res":false},"id":978}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 206, "in_reply_to": 261, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425089088462, 'n2': 1651673425088440700, 'n3': 1651673425086042326, 'n4': 1651673425064298968, 'n5': 1651673425086630962}
curr time
1651673425089254763

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":265,"in_reply_to":199,"type":"RequestVoteRes","term":39,"res":false},"id":983}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":208,"in_reply_to":201,"type":"RequestVoteRes","term":23,"res":false},"id":987}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":204,"in_reply_to":200,"type":"RequestVoteRes","term":24,"res":true},"id":989}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":160,"in_reply_to":202,"type":"RequestVoteRes","term":23,"res":false},"id":993}
INFO:root:Got a response to the vote Request #475

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
25
sec, min max hb
0.4224963102145105
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 207, "type": "RequestVote", "term": 25, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 208, "type": "RequestVote", "term": 25, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 209, "type": "RequestVote", "term": 25, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 210, "type": "RequestVote", "term": 25, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 211, "type": "RequestVote", "term": 25, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
26
sec, min max hb
0.46486705193228584
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 212, "type": "RequestVote", "term": 26, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 213, "type": "RequestVote", "term": 26, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 214, "type": "RequestVote", "term": 26, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 215, "type": "RequestVote", "term": 26, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 216, "type": "RequestVote", "term": 26, "prevLogIndex": 3, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":213,"type":"RequestVote","term":24,"prevLogIndex":6,"lastLogTerm":0,"candidateId":"n4"},"id":999}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":209,"type":"RequestVote","term":25,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n3"},"id":1005}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425089088462, 'n2': 1651673425094784368, 'n3': 1651673425086042326, 'n4': 1651673425064298968, 'n5': 1651673425086630962}
curr time
1651673425100655624

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673425089088462, 'n2': 1651673425094784368, 'n3': 1651673425086042326, 'n4': 1651673425110032272, 'n5': 1651673425086630962}
curr time
1651673425110266977

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673425089088462, 'n2': 1651673425094784368, 'n3': 1651673425110827641, 'n4': 1651673425110032272, 'n5': 1651673425086630962}
curr time
1651673425110999551

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651673425089088462, 'n2': 1651673425094784368, 'n3': 1651673425110827641, 'n4': 1651673425110032272, 'n5': 1651673425111778608}
curr time
1651673425112032555

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":144,"type":"RequestVote","term":24,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n1"},"id":1013}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":165,"type":"RequestVote","term":24,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n5"},"id":1016}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":170,"type":"RequestVote","term":25,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n5"},"id":1021}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 217, "in_reply_to": 213, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":214,"type":"RequestVote","term":26,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n3"},"id":1023}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425115754939

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 218, "in_reply_to": 209, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":269,"in_reply_to":208,"type":"RequestVoteRes","term":39,"res":false},"id":1030}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425117017399

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":174,"in_reply_to":211,"type":"RequestVoteRes","term":25,"res":true},"id":1034}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 219, "in_reply_to": 144, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425121154200

INFO:root:leader alive, resuming timeout checker

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 220, "in_reply_to": 165, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425123162386

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 221, "in_reply_to": 170, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:Bad election request, term is not up to date
None
at time
1651673425125560278

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":273,"in_reply_to":213,"type":"RequestVoteRes","term":39,"res":false},"id":1037}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":218,"in_reply_to":209,"type":"RequestVoteRes","term":26,"res":false},"id":1038}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":150,"type":"RequestVote","term":25,"prevLogIndex":3,"lastLogTerm":0,"candidateId":"n1"},"id":1041}
INFO:root:voting for myself
n3
at time
1651673425126224950
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":217,"in_reply_to":210,"type":"RequestVoteRes","term":24,"res":false},"id":1045}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":276,"type":"RequestVote","term":40,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1047}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":153,"in_reply_to":207,"type":"RequestVoteRes","term":25,"res":true},"id":1052}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":177,"in_reply_to":216,"type":"RequestVoteRes","term":25,"res":false},"id":1054}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":156,"in_reply_to":212,"type":"RequestVoteRes","term":26,"res":true},"id":1065}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 222, "in_reply_to": 214, "type": "RequestVoteRes", "term": 26, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425118058041, 'n2': 1651673425132886225, 'n3': 1651673425126163633, 'n4': 1651673425112567057, 'n5': 1651673425123776126}
curr time
1651673425133286833

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425118058041, 'n2': 1651673425132886225, 'n3': 1651673425126163633, 'n4': 1651673425112567057, 'n5': 1651673425136964130}
curr time
1651673425137377570

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673425118058041, 'n2': 1651673425139269148, 'n3': 1651673425126163633, 'n4': 1651673425112567057, 'n5': 1651673425136964130}
curr time
1651673425139613890

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673425118058041, 'n2': 1651673425139269148, 'n3': 1651673425140840989, 'n4': 1651673425112567057, 'n5': 1651673425136964130}
curr time
1651673425141175361

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":222,"in_reply_to":214,"type":"RequestVoteRes","term":26,"res":true},"id":1070}
INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 223, "in_reply_to": 150, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":283,"type":"RequestVote","term":41,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1072}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":221,"in_reply_to":215,"type":"RequestVoteRes","term":24,"res":false},"id":1075}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":289,"type":"RequestVote","term":42,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1083}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673425145023943

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673425142846477, 'n2': 1651673425139269148, 'n3': 1651673425140840989, 'n4': 1651673425145479467, 'n5': 1651673425136964130}
curr time
1651673425145669203

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 224, "in_reply_to": 276, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673425147610804, 'n2': 1651673425146850416, 'n3': 1651673425140840989, 'n4': 1651673425145479467, 'n5': 1651673425136964130}
curr time
1651673425147835961

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 225, "type": "AppendEntries", "term": 26, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 226, "type": "AppendEntries", "term": 26, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 227, "type": "AppendEntries", "term": 26, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 228, "type": "AppendEntries", "term": 26, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673425147610804, 'n2': 1651673425146850416, 'n3': 1651673425140840989, 'n4': 1651673425145479467, 'n5': 1651673425153767600}
curr time
1651673425154030558

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673425154640054, 'n2': 1651673425146850416, 'n3': 1651673425140840989, 'n4': 1651673425145479467, 'n5': 1651673425153767600}
curr time
1651673425154839106

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673425154640054, 'n2': 1651673425146850416, 'n3': 1651673425155297090, 'n4': 1651673425145479467, 'n5': 1651673425153767600}
curr time
1651673425155416133

INFO:root:resposta
True
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 229, "in_reply_to": 283, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673425154640054, 'n2': 1651673425155703835, 'n3': 1651673425155297090, 'n4': 1651673425156168368, 'n5': 1651673425153767600}
curr time
1651673425156372506

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":162,"in_reply_to":225,"type":"AppendEntriesRes","res":true,"term":26,"next":4,"commit":0},"id":1099}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 230, "in_reply_to": 289, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":226,"in_reply_to":227,"type":"AppendEntriesRes","res":true,"term":26,"next":7,"commit":0},"id":1100}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":183,"in_reply_to":228,"type":"AppendEntriesRes","res":true,"term":26,"next":4,"commit":0},"id":1101}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":293,"in_reply_to":226,"type":"AppendEntriesRes","res":false,"term":42},"id":1103}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":296,"type":"RequestVote","term":43,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1107}
INFO:root:leader alive, resuming timeout checker

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 231, "in_reply_to": 296, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":302,"type":"RequestVote","term":44,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1117}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 232, "in_reply_to": 302, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 233, "type": "AppendEntries", "term": 26, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 234, "type": "AppendEntries", "term": 26, "prevIndex": 3, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 7, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-56:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":165,"in_reply_to":233,"type":"AppendEntriesRes","res":true,"term":26,"next":4,"commit":0},"id":1127}
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":306,"in_reply_to":234,"type":"AppendEntriesRes","res":false,"term":44},"id":1128}
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":309,"type":"RequestVote","term":45,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1131}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 235, "in_reply_to": 309, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":315,"type":"RequestVote","term":46,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1142}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 236, "in_reply_to": 315, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":321,"type":"RequestVote","term":47,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1152}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 237, "in_reply_to": 321, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","body":{"key":0,"from":4,"to":2,"type":"cas","msg_id":1},"src":"c14","id":1155}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 238, "type": "AppendEntries", "term": 26, "entries": [[["cas", [0, [4, 2]]], 26]], "prevIndex": 3, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 239, "type": "AppendEntries", "term": 26, "entries": [[["cas", [0, [4, 2]]], 26]], "prevIndex": 3, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 240, "type": "AppendEntries", "term": 26, "entries": [[["cas", [0, [4, 2]]], 26]], "prevIndex": 3, "prevTerm": 0, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":189,"in_reply_to":240,"type":"AppendEntriesRes","res":true,"term":26,"next":5,"commit":0},"id":1162}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":169,"in_reply_to":238,"type":"AppendEntriesRes","res":true,"term":26,"next":5,"commit":0},"id":1163}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":325,"in_reply_to":239,"type":"AppendEntriesRes","res":false,"term":47},"id":1165}
INFO:root:election ended

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":328,"type":"RequestVote","term":48,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1168}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 241, "in_reply_to": 328, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":173,"type":"RequestVote","term":27,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1178}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
4
 last log term
26

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 242, "in_reply_to": 173, "type": "RequestVoteRes", "term": 27, "res": true}}
INFO:root:election started and voted vor
n1
at time
1651673425341968294

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
28
sec, min max hb
0.3622175427022325
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 243, "type": "RequestVote", "term": 28, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 244, "type": "RequestVote", "term": 28, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 245, "type": "RequestVote", "term": 28, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 246, "type": "RequestVote", "term": 28, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 247, "type": "RequestVote", "term": 28, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":245,"type":"RequestVote","term":28,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n3"},"id":1188}
INFO:root:voting for myself
n3
at time
1651673425348890181
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 248, "in_reply_to": 245, "type": "RequestVoteRes", "term": 28, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":335,"type":"RequestVote","term":49,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1193}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 249, "in_reply_to": 335, "type": "RequestVoteRes", "term": 28, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":248,"in_reply_to":245,"type":"RequestVoteRes","term":28,"res":true},"id":1196}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":192,"in_reply_to":247,"type":"RequestVoteRes","term":27,"res":false},"id":1197}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425350890946, 'n3': 1651673425353251651, 'n4': 1651673425158695591, 'n5': 1651673425259636218}
curr time
1651673425353490411

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425350890946, 'n3': 1651673425353251651, 'n4': 1651673425158695591, 'n5': 1651673425354365892}
curr time
1651673425354541403

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":234,"in_reply_to":246,"type":"RequestVoteRes","term":26,"res":false},"id":1199}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":338,"in_reply_to":244,"type":"RequestVoteRes","term":49,"res":false},"id":1201}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425350890946, 'n3': 1651673425353251651, 'n4': 1651673425360527569, 'n5': 1651673425354365892}
curr time
1651673425360781368

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425361354285, 'n3': 1651673425353251651, 'n4': 1651673425360527569, 'n5': 1651673425354365892}
curr time
1651673425361525784

INFO:root:resposta
False
majority
3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
29
sec, min max hb
0.4439617017709887
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 250, "type": "RequestVote", "term": 29, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 251, "type": "RequestVote", "term": 29, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 252, "type": "RequestVote", "term": 29, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 253, "type": "RequestVote", "term": 29, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":196,"type":"RequestVote","term":28,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n5"},"id":1206}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 254, "type": "RequestVote", "term": 29, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
30
sec, min max hb
0.45161718406681634
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":252,"type":"RequestVote","term":29,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n3"},"id":1212}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":237,"in_reply_to":253,"type":"RequestVoteRes","term":26,"res":false},"id":1217}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":341,"in_reply_to":251,"type":"RequestVoteRes","term":49,"res":false},"id":1219}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 256, "in_reply_to": 196, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425374021777

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 257, "in_reply_to": 252, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673425374654321

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425361354285, 'n3': 1651673425374311827, 'n4': 1651673425374916906, 'n5': 1651673425372500750}
curr time
1651673425375089579

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425375660484, 'n3': 1651673425374311827, 'n4': 1651673425374916906, 'n5': 1651673425372500750}
curr time
1651673425375830423

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":257,"in_reply_to":252,"type":"RequestVoteRes","term":30,"res":false},"id":1222}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 255, "type": "RequestVote", "term": 30, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 258, "type": "RequestVote", "term": 30, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 259, "type": "RequestVote", "term": 30, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 260, "type": "RequestVote", "term": 30, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 261, "type": "RequestVote", "term": 30, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":205,"type":"RequestVote","term":30,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n5"},"id":1228}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":179,"type":"RequestVote","term":28,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1229}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":259,"type":"RequestVote","term":30,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n3"},"id":1236}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":202,"type":"RequestVote","term":29,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n5"},"id":1239}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":208,"in_reply_to":254,"type":"RequestVoteRes","term":30,"res":false},"id":1241}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673425341039221, 'n2': 1651673425375660484, 'n3': 1651673425383705885, 'n4': 1651673425374916906, 'n5': 1651673425372500750}
curr time
1651673425383921244

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
4
 last log term
26

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 262, "in_reply_to": 205, "type": "RequestVoteRes", "term": 30, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651673425385241453

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":186,"type":"RequestVote","term":30,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1247}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":240,"in_reply_to":260,"type":"RequestVoteRes","term":26,"res":false},"id":1250}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":345,"type":"RequestVote","term":50,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1251}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 263, "in_reply_to": 179, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651673425388802488

INFO:root:voting for myself
n3
at time
1651673425389110846
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 264, "in_reply_to": 259, "type": "RequestVoteRes", "term": 30, "res": true}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 265, "in_reply_to": 202, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673425390087021

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425388349954, 'n2': 1651673425375660484, 'n3': 1651673425389100066, 'n4': 1651673425374916906, 'n5': 1651673425390350063}
curr time
1651673425390555286

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
4
 last log term
26

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 266, "in_reply_to": 186, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425391069964, 'n2': 1651673425375660484, 'n3': 1651673425389100066, 'n4': 1651673425391723493, 'n5': 1651673425390350063}
curr time
1651673425391955940

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":353,"type":"RequestVote","term":51,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1262}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":264,"in_reply_to":259,"type":"RequestVoteRes","term":30,"res":true},"id":1266}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":191,"type":"RequestVote","term":32,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1272}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 267, "in_reply_to": 345, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":350,"in_reply_to":258,"type":"RequestVoteRes","term":50,"res":false},"id":1275}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 268, "in_reply_to": 353, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425391069964, 'n2': 1651673425395564678, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425390350063}
curr time
1651673425397088485

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
4
 last log term
26

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 269, "in_reply_to": 191, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425397913525, 'n2': 1651673425399312454, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425390350063}
curr time
1651673425399538835

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":194,"type":"RequestVote","term":32,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1284}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
4
 last log term
26

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 270, "in_reply_to": 194, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":199,"type":"RequestVote","term":32,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1294}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
4
 last log term
26

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":362,"type":"RequestVote","term":52,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1302}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 271, "in_reply_to": 199, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":202,"in_reply_to":243,"type":"RequestVoteRes","term":32,"res":false},"id":1304}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 272, "in_reply_to": 362, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425415483209, 'n2': 1651673425413692040, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425390350063}
curr time
1651673425416182057

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":213,"in_reply_to":261,"type":"RequestVoteRes","term":30,"res":false},"id":1312}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425415483209, 'n2': 1651673425413692040, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425418103363}
curr time
1651673425418470813

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":205,"in_reply_to":250,"type":"RequestVoteRes","term":32,"res":false},"id":1313}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425422119192, 'n2': 1651673425413692040, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425418103363}
curr time
1651673425422558869

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":209,"in_reply_to":255,"type":"RequestVoteRes","term":32,"res":false},"id":1318}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673425426558861, 'n2': 1651673425413692040, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425418103363}
curr time
1651673425427064344

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":224,"type":"AppendEntries","term":30,"prevIndex":4,"prevTerm":26,"entries":[],"commit":0},"id":1336}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 273, "in_reply_to": 224, "type": "AppendEntriesRes", "res": true, "term": 30, "next": 5, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":370,"type":"RequestVote","term":53,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1343}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 274, "in_reply_to": 370, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":377,"type":"RequestVote","term":54,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1355}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 275, "in_reply_to": 377, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":220,"type":"AppendEntries","term":32,"prevIndex":4,"prevTerm":26,"entries":[],"commit":0},"id":1366}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":383,"type":"RequestVote","term":55,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1369}
INFO:root:vote ended, new leader is
n3

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673425495504007, 'n2': 1651673425482511259, 'n3': 1651673425396843825, 'n4': 1651673425391723493, 'n5': 1651673425453176423}
curr time
1651673425496052478

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 276, "in_reply_to": 220, "type": "AppendEntriesRes", "res": true, "term": 32, "next": 5, "commit": 0}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 277, "in_reply_to": 383, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":388,"type":"RequestVote","term":56,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1380}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 278, "in_reply_to": 388, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":395,"type":"RequestVote","term":57,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1397}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 279, "in_reply_to": 395, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":402,"type":"RequestVote","term":58,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1408}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 280, "in_reply_to": 402, "type": "RequestVoteRes", "term": 32, "res": false}}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":230,"type":"AppendEntries","term":32,"prevIndex":4,"prevTerm":26,"entries":[],"commit":0},"id":1417}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 281, "in_reply_to": 230, "type": "AppendEntriesRes", "res": true, "term": 32, "next": 5, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":409,"type":"RequestVote","term":59,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1422}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 282, "in_reply_to": 409, "type": "RequestVoteRes", "term": 32, "res": false}}
INFO:root:election ended

INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":415,"type":"RequestVote","term":60,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1432}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 283, "in_reply_to": 415, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":421,"type":"RequestVote","term":61,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1442}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 284, "in_reply_to": 421, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":427,"type":"RequestVote","term":62,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1452}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 285, "in_reply_to": 427, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":435,"type":"RequestVote","term":64,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1465}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 286, "in_reply_to": 435, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":436,"type":"RequestVote","term":64,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1467}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 287, "in_reply_to": 436, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":445,"type":"RequestVote","term":65,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1482}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 288, "in_reply_to": 445, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":451,"type":"RequestVote","term":66,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1493}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 289, "in_reply_to": 451, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":457,"type":"RequestVote","term":67,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1503}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 290, "in_reply_to": 457, "type": "RequestVoteRes", "term": 32, "res": false}}
INFO:root:node
n1
current time
1651673425816475424
node_time
1651673425396843825
dif
419631599
False

INFO:root:lead is dead

INFO:root:starting new elections, new term
33
sec, min max hb
0.3683122296062942
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 291, "type": "RequestVote", "term": 33, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 292, "type": "RequestVote", "term": 33, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 293, "type": "RequestVote", "term": 33, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 294, "type": "RequestVote", "term": 33, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 295, "type": "RequestVote", "term": 33, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":270,"type":"RequestVote","term":33,"prevLogIndex":8,"lastLogTerm":26,"candidateId":"n4"},"id":1512}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":293,"type":"RequestVote","term":33,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n3"},"id":1519}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
8
 last log term
26

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 296, "in_reply_to": 270, "type": "RequestVoteRes", "term": 33, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651673425822882163

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":462,"in_reply_to":292,"type":"RequestVoteRes","term":67,"res":false},"id":1524}
INFO:root:voting for myself
n3
at time
1651673425824683920
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 297, "in_reply_to": 293, "type": "RequestVoteRes", "term": 33, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425599175403, 'n2': 1651673425825745660, 'n3': 1651673425824673719, 'n4': 1651673425822274124, 'n5': 1651673425453176423}
curr time
1651673425825965606

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":244,"in_reply_to":295,"type":"RequestVoteRes","term":33,"res":false},"id":1525}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":241,"in_reply_to":291,"type":"RequestVoteRes","term":33,"res":false},"id":1527}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":274,"in_reply_to":294,"type":"RequestVoteRes","term":33,"res":false},"id":1528}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":297,"in_reply_to":293,"type":"RequestVoteRes","term":33,"res":true},"id":1529}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425599175403, 'n2': 1651673425825745660, 'n3': 1651673425824673719, 'n4': 1651673425822274124, 'n5': 1651673425827589509}
curr time
1651673425831449005

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":465,"type":"RequestVote","term":68,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1532}
INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425832079958, 'n2': 1651673425825745660, 'n3': 1651673425824673719, 'n4': 1651673425822274124, 'n5': 1651673425827589509}
curr time
1651673425832254806

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425832079958, 'n2': 1651673425825745660, 'n3': 1651673425824673719, 'n4': 1651673425833084272, 'n5': 1651673425827589509}
curr time
1651673425833231202

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673425832079958, 'n2': 1651673425825745660, 'n3': 1651673425833648040, 'n4': 1651673425833084272, 'n5': 1651673425827589509}
curr time
1651673425833783691

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 298, "in_reply_to": 465, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":277,"type":"AppendEntries","term":33,"prevIndex":8,"prevTerm":26,"entries":[],"commit":0},"id":1542}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
8
0
n3
[]

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":472,"type":"RequestVote","term":69,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1547}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 299, "in_reply_to": 472, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":478,"type":"RequestVote","term":70,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1557}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 300, "in_reply_to": 478, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":484,"type":"RequestVote","term":71,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1567}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 301, "in_reply_to": 484, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":490,"type":"RequestVote","term":72,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1577}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 302, "in_reply_to": 490, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":285,"type":"AppendEntries","term":33,"prevIndex":8,"prevTerm":26,"entries":[],"commit":0},"id":1582}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
8
0
n3
[]

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":499,"type":"RequestVote","term":74,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1595}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 303, "in_reply_to": 499, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":500,"type":"RequestVote","term":74,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1596}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 304, "in_reply_to": 500, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":509,"type":"RequestVote","term":75,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1612}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 305, "in_reply_to": 509, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":293,"type":"AppendEntries","term":33,"prevIndex":8,"prevTerm":26,"entries":[],"commit":0},"id":1623}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
8
0
n3
[]

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":515,"type":"RequestVote","term":76,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1626}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 306, "in_reply_to": 515, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":522,"type":"RequestVote","term":77,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1637}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 307, "in_reply_to": 522, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
34
sec, min max hb
0.3429465813830584
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 308, "type": "RequestVote", "term": 34, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 309, "type": "RequestVote", "term": 34, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 310, "type": "RequestVote", "term": 34, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 311, "type": "RequestVote", "term": 34, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 312, "type": "RequestVote", "term": 34, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":310,"type":"RequestVote","term":34,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n3"},"id":1647}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":252,"in_reply_to":308,"type":"RequestVoteRes","term":33,"res":false},"id":1651}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":526,"in_reply_to":309,"type":"RequestVoteRes","term":77,"res":false},"id":1652}
INFO:root:voting for myself
n3
at time
1651673426075799354
nr votes
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 313, "in_reply_to": 310, "type": "RequestVoteRes", "term": 34, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673426076562021, 'n2': 1651673426037107087, 'n3': 1651673426075787834, 'n4': 1651673426025289799, 'n5': 1651673425827589509}
curr time
1651673426076716554

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673426076562021, 'n2': 1651673426077132179, 'n3': 1651673426075787834, 'n4': 1651673426025289799, 'n5': 1651673425827589509}
curr time
1651673426077253595

INFO:root:resposta
False
majority
3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
35
sec, min max hb
0.4539589911117121
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 314, "type": "RequestVote", "term": 35, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 315, "type": "RequestVote", "term": 35, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 316, "type": "RequestVote", "term": 35, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 317, "type": "RequestVote", "term": 35, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 318, "type": "RequestVote", "term": 35, "prevLogIndex": 4, "lastLogTerm": 26, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":297,"in_reply_to":311,"type":"RequestVoteRes","term":33,"res":false},"id":1653}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":257,"type":"RequestVote","term":34,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n5"},"id":1655}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":313,"in_reply_to":310,"type":"RequestVoteRes","term":34,"res":true},"id":1659}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":256,"type":"RequestVote","term":34,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n1"},"id":1662}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":260,"in_reply_to":312,"type":"RequestVoteRes","term":34,"res":true},"id":1665}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":316,"type":"RequestVote","term":35,"prevLogIndex":4,"lastLogTerm":26,"candidateId":"n3"},"id":1670}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":529,"in_reply_to":315,"type":"RequestVoteRes","term":77,"res":false},"id":1678}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":260,"in_reply_to":314,"type":"RequestVoteRes","term":34,"res":false},"id":1679}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673426076562021, 'n2': 1651673426077132179, 'n3': 1651673426075787834, 'n4': 1651673426084837573, 'n5': 1651673425827589509}
curr time
1651673426085312795

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 319, "in_reply_to": 257, "type": "RequestVoteRes", "term": 35, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673426086129415

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673426076562021, 'n2': 1651673426077132179, 'n3': 1651673426086368839, 'n4': 1651673426084837573, 'n5': 1651673426085788899}
curr time
1651673426086500506

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 320, "in_reply_to": 256, "type": "RequestVoteRes", "term": 35, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673426087424341

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651673426087144496, 'n2': 1651673426077132179, 'n3': 1651673426086368839, 'n4': 1651673426084837573, 'n5': 1651673426087636224}
curr time
1651673426087792839

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:voting for myself
n3
at time
1651673426088469902
nr votes
2

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":300,"in_reply_to":317,"type":"RequestVoteRes","term":33,"res":false},"id":1680}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":532,"type":"RequestVote","term":78,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1683}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 321, "in_reply_to": 316, "type": "RequestVoteRes", "term": 35, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":263,"in_reply_to":318,"type":"RequestVoteRes","term":34,"res":false},"id":1690}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":321,"in_reply_to":316,"type":"RequestVoteRes","term":35,"res":true},"id":1693}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673426087144496, 'n2': 1651673426095035222, 'n3': 1651673426088462258, 'n4': 1651673426084837573, 'n5': 1651673426087636224}
curr time
1651673426095284852

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673426095777653, 'n2': 1651673426095035222, 'n3': 1651673426088462258, 'n4': 1651673426084837573, 'n5': 1651673426087636224}
curr time
1651673426095926993

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673426095777653, 'n2': 1651673426095035222, 'n3': 1651673426088462258, 'n4': 1651673426097216695, 'n5': 1651673426087636224}
curr time
1651673426097378528

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 322, "in_reply_to": 532, "type": "RequestVoteRes", "term": 35, "res": false}}
INFO:root:node
n1
current time
1651673426099721021
node_time
1651673426088462258
dif
11258763
True

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n1
current time
1651673426100082301
node_time
1651673426088462258
dif
11620043
True

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":304,"type":"AppendEntries","term":33,"prevIndex":8,"prevTerm":26,"entries":[],"commit":0},"id":1696}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673426095777653, 'n2': 1651673426097841616, 'n3': 1651673426088462258, 'n4': 1651673426097216695, 'n5': 1651673426101991139}
curr time
1651673426102195941

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651673426095777653, 'n2': 1651673426097841616, 'n3': 1651673426102694824, 'n4': 1651673426097216695, 'n5': 1651673426101991139}
curr time
1651673426102846397

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 323, "type": "AppendEntries", "term": 35, "prevIndex": 4, "prevTerm": 26, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 324, "type": "AppendEntries", "term": 35, "prevIndex": 4, "prevTerm": 26, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 325, "type": "AppendEntries", "term": 35, "prevIndex": 4, "prevTerm": 26, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 326, "type": "AppendEntries", "term": 35, "prevIndex": 4, "prevTerm": 26, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":537,"in_reply_to":324,"type":"AppendEntriesRes","res":false,"term":78},"id":1705}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":306,"in_reply_to":325,"type":"AppendEntriesRes","res":false,"term":33},"id":1706}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 327, "in_reply_to": 304, "type": "AppendEntriesRes", "res": false, "term": 35}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":263,"in_reply_to":323,"type":"AppendEntriesRes","res":true,"term":35,"next":5,"commit":0},"id":1707}
INFO:root:msg term
33
current term
35
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
msg entries
[]

INFO:root:387##########:
node
n3
current term
35
next I
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 4, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 328, "type": "AppendEntries", "term": 35, "prevIndex": 3, "prevTerm": 0, "entries": [[["cas", [0, [4, 2]]], 26]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":540,"type":"RequestVote","term":79,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1711}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 329, "in_reply_to": 540, "type": "RequestVoteRes", "term": 35, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":266,"in_reply_to":326,"type":"AppendEntriesRes","res":true,"term":35,"next":5,"commit":0},"id":1715}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":308,"in_reply_to":328,"type":"AppendEntriesRes","res":true,"term":35,"next":10,"commit":0},"id":1722}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":546,"type":"RequestVote","term":80,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1725}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 330, "in_reply_to": 546, "type": "RequestVoteRes", "term": 35, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":552,"type":"RequestVote","term":81,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1735}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 331, "in_reply_to": 552, "type": "RequestVoteRes", "term": 35, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":558,"type":"RequestVote","term":82,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1745}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 332, "in_reply_to": 558, "type": "RequestVoteRes", "term": 35, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 10, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 333, "type": "AppendEntries", "term": 35, "prevIndex": 4, "prevTerm": 26, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 10, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 334, "type": "AppendEntries", "term": 35, "prevIndex": 4, "prevTerm": 26, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 10, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]

Exception in thread Thread-80:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":268,"in_reply_to":333,"type":"AppendEntriesRes","res":true,"term":35,"next":5,"commit":0},"id":1755}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":562,"in_reply_to":334,"type":"AppendEntriesRes","res":false,"term":82},"id":1756}
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":565,"type":"RequestVote","term":83,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1759}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 335, "in_reply_to": 565, "type": "RequestVoteRes", "term": 35, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":571,"type":"RequestVote","term":84,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1770}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 336, "in_reply_to": 571, "type": "RequestVoteRes", "term": 35, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":577,"type":"RequestVote","term":85,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":1779}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['pass', None], 0], (('cas', (0, (4, 2))), 26)]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 337, "in_reply_to": 577, "type": "RequestVoteRes", "term": 35, "res": false}}

DEBUG:root:received {"dest":"n1","body":{"type":"init","node_id":"n1","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c4","id":4}
INFO:root:node n1 initialized
DEBUG:root:sending {"dest": "c4", "src": "n1", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 2, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 3, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 4, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 5, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":2,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":7}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 6, "in_reply_to": 2, "type": "RequestVoteRes", "term": 1, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651590137827951728

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":8,"in_reply_to":2,"type":"AppendEntriesRes","res":false,"term":1},"id":22}
INFO:root:387##########:
node
n1
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 7, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":3,"in_reply_to":3,"type":"AppendEntriesRes","res":false,"term":1},"id":23}
INFO:root:387##########:
node
n1
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 8, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":3,"in_reply_to":4,"type":"AppendEntriesRes","res":false,"term":1},"id":26}
INFO:root:387##########:
node
n1
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 1}
log
[(('pass', None), 0)]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 9, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":3,"in_reply_to":5,"type":"AppendEntriesRes","res":false,"term":1},"id":29}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":9,"in_reply_to":7,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":31}
INFO:root:387##########:
node
n1
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}
log
[(('pass', None), 0)]
dest
n5

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":4,"in_reply_to":9,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":32}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 10, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":4,"in_reply_to":8,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":33}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":4,"in_reply_to":10,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":35}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":6,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":38}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 11, "in_reply_to": 6, "type": "RequestVoteRes", "term": 1, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":5,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":40}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 12, "in_reply_to": 5, "type": "RequestVoteRes", "term": 1, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":7,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":58}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 13, "in_reply_to": 7, "type": "RequestVoteRes", "term": 1, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
2

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 14, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 15, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 16, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 17, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 18, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":14,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":68}
INFO:root:alrady voted in cur election
None
at time
1651590137929681102

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 19, "in_reply_to": 14, "type": "RequestVoteRes", "term": 2, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":19,"in_reply_to":14,"type":"RequestVoteRes","term":2,"res":true},"id":73}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":14,"in_reply_to":16,"type":"RequestVoteRes","term":2,"res":false},"id":74}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":13,"in_reply_to":15,"type":"RequestVoteRes","term":2,"res":false},"id":75}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":13,"in_reply_to":17,"type":"RequestVoteRes","term":2,"res":false},"id":76}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":13,"in_reply_to":18,"type":"RequestVoteRes","term":2,"res":false},"id":77}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":14,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":80}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 20, "in_reply_to": 14, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651590138013761555

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":14,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":83}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 21, "in_reply_to": 14, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":16,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":94}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 22, "in_reply_to": 16, "type": "RequestVoteRes", "term": 3, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
4

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 23, "type": "RequestVote", "term": 4, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 24, "type": "RequestVote", "term": 4, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 25, "type": "RequestVote", "term": 4, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 26, "type": "RequestVote", "term": 4, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 27, "type": "RequestVote", "term": 4, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":23,"type":"RequestVote","term":4,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":110}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":18,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":111}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":22,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":117}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":22,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":121}
INFO:root:alrady voted in cur election
None
at time
1651590138126083541

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 28, "in_reply_to": 23, "type": "RequestVoteRes", "term": 4, "res": true}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 29, "in_reply_to": 18, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651590138128234597

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":27,"in_reply_to":24,"type":"RequestVoteRes","term":4,"res":false},"id":127}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":23,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":128}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":28,"in_reply_to":25,"type":"RequestVoteRes","term":4,"res":false},"id":135}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":23,"in_reply_to":26,"type":"RequestVoteRes","term":4,"res":false},"id":137}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":28,"in_reply_to":23,"type":"RequestVoteRes","term":4,"res":true},"id":144}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":26,"in_reply_to":27,"type":"RequestVoteRes","term":4,"res":false},"id":146}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 30, "in_reply_to": 22, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 31, "in_reply_to": 22, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 32, "in_reply_to": 23, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":32,"type":"RequestVote","term":5,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":160}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 33, "in_reply_to": 32, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":33,"type":"RequestVote","term":5,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":172}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 34, "in_reply_to": 33, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 35, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 36, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 37, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 38, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 39, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":35,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":182}
INFO:root:alrady voted in cur election
None
at time
1651590138204735628

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 40, "in_reply_to": 35, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":39,"in_reply_to":36,"type":"RequestVoteRes","term":5,"res":false},"id":187}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":36,"in_reply_to":37,"type":"RequestVoteRes","term":4,"res":false},"id":188}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":40,"in_reply_to":35,"type":"RequestVoteRes","term":5,"res":true},"id":189}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":30,"in_reply_to":38,"type":"RequestVoteRes","term":5,"res":false},"id":190}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":39,"in_reply_to":39,"type":"RequestVoteRes","term":5,"res":false},"id":191}
DEBUG:root:received {"dest":"n1","body":{"key":0,"from":2,"to":4,"type":"cas","msg_id":1},"src":"c13","id":192}
DEBUG:root:received {"dest":"n1","body":{"key":1,"value":3,"type":"write","msg_id":1},"src":"c14","id":193}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 41, "type": "AppendEntries", "term": 5, "entries": [[["write", [1, 3]], 5]], "prevIndex": 1, "prevTerm": 5, "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 42, "type": "AppendEntries", "term": 5, "entries": [[["write", [1, 3]], 5]], "prevIndex": 1, "prevTerm": 5, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 43, "type": "AppendEntries", "term": 5, "entries": [[["write", [1, 3]], 5]], "prevIndex": 1, "prevTerm": 5, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 44, "type": "AppendEntries", "term": 5, "entries": [[["write", [1, 3]], 5]], "prevIndex": 1, "prevTerm": 5, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":37,"in_reply_to":42,"type":"AppendEntriesRes","res":false,"term":4},"id":198}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
6

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 45, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 5, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 46, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 5, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 47, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 5, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 48, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 5, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 49, "type": "RequestVote", "term": 6, "prevLogIndex": 2, "lastLogTerm": 5, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":31,"in_reply_to":43,"type":"AppendEntriesRes","res":false,"term":5},"id":199}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":40,"in_reply_to":41,"type":"AppendEntriesRes","res":false,"term":5},"id":200}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":41,"type":"RequestVote","term":6,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":201}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":38,"type":"RequestVote","term":5,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":202}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":40,"in_reply_to":44,"type":"AppendEntriesRes","res":false,"term":5},"id":205}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":32,"type":"RequestVote","term":6,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":210}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 2, 'n3': 1, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 50, "type": "AppendEntries", "term": 6, "prevIndex": 0, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":41,"type":"RequestVote","term":6,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":214}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 2, 'n3': 1, 'n4': 1, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n4

DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":45,"type":"RequestVote","term":6,"prevLogIndex":2,"lastLogTerm":5,"candidateId":"n1"},"id":233}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 51, "type": "AppendEntries", "term": 6, "prevIndex": 0, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":50,"in_reply_to":46,"type":"RequestVoteRes","term":6,"res":false},"id":242}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":47,"in_reply_to":47,"type":"RequestVoteRes","term":6,"res":false},"id":243}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":48,"in_reply_to":50,"type":"AppendEntriesRes","res":true,"term":6,"next":2,"commit":0},"id":244}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":41,"in_reply_to":48,"type":"RequestVoteRes","term":6,"res":false},"id":245}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":50,"in_reply_to":49,"type":"RequestVoteRes","term":6,"res":false},"id":249}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 52, "type": "AppendEntries", "term": 6, "prevIndex": 0, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 53, "in_reply_to": 41, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 54, "in_reply_to": 38, "type": "RequestVoteRes", "term": 6, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651590138252027168

INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 55, "type": "AppendEntries", "term": 6, "prevIndex": 0, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 56, "in_reply_to": 32, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 57, "in_reply_to": 41, "type": "RequestVoteRes", "term": 6, "res": false}}
INFO:root:alrady voted in cur election
None
at time
1651590138254485649

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 58, "in_reply_to": 45, "type": "RequestVoteRes", "term": 6, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":42,"in_reply_to":51,"type":"AppendEntriesRes","res":true,"term":6,"next":2,"commit":0},"id":252}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":51,"in_reply_to":52,"type":"AppendEntriesRes","res":true,"term":6,"next":2,"commit":0},"id":254}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":58,"in_reply_to":45,"type":"RequestVoteRes","term":6,"res":true},"id":258}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":51,"in_reply_to":55,"type":"AppendEntriesRes","res":true,"term":6,"next":2,"commit":0},"id":259}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":52,"type":"RequestVote","term":7,"prevLogIndex":1,"lastLogTerm":5,"candidateId":"n2"},"id":260}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 59, "in_reply_to": 52, "type": "RequestVoteRes", "term": 6, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 60, "type": "AppendEntries", "term": 6, "prevIndex": 1, "prevTerm": 5, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 61, "type": "AppendEntries", "term": 6, "prevIndex": 1, "prevTerm": 5, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 62, "type": "AppendEntries", "term": 6, "prevIndex": 1, "prevTerm": 5, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 63, "type": "AppendEntries", "term": 6, "prevIndex": 1, "prevTerm": 5, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":50,"type":"RequestVote","term":8,"prevLogIndex":1,"lastLogTerm":5,"candidateId":"n3"},"id":270}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 64, "in_reply_to": 50, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":53,"in_reply_to":63,"type":"AppendEntriesRes","res":true,"term":6,"next":2,"commit":0},"id":279}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":45,"in_reply_to":62,"type":"AppendEntriesRes","res":true,"term":6,"next":2,"commit":0},"id":281}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":56,"in_reply_to":61,"type":"AppendEntriesRes","res":false,"term":8},"id":284}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":59,"in_reply_to":60,"type":"AppendEntriesRes","res":false,"term":8},"id":286}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":55,"type":"RequestVote","term":7,"prevLogIndex":1,"lastLogTerm":5,"candidateId":"n5"},"id":287}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 2, 'n3': 1, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 65, "type": "AppendEntries", "term": 6, "prevIndex": 0, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 66, "type": "AppendEntries", "term": 6, "prevIndex": 0, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 67, "in_reply_to": 55, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":46,"type":"RequestVote","term":7,"prevLogIndex":1,"lastLogTerm":5,"candidateId":"n4"},"id":293}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 68, "in_reply_to": 46, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":62,"in_reply_to":66,"type":"AppendEntriesRes","res":false,"term":8},"id":306}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 0, 'n3': 1, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 69, "type": "AppendEntries", "term": 6, "prevIndex": -1, "prevTerm": 5, "entries": [[["pass", null], 0], [["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":59,"in_reply_to":65,"type":"AppendEntriesRes","res":false,"term":8},"id":309}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 70, "type": "AppendEntries", "term": 6, "prevIndex": -1, "prevTerm": 5, "entries": [[["pass", null], 0], [["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":63,"in_reply_to":69,"type":"AppendEntriesRes","res":false,"term":8},"id":315}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":60,"in_reply_to":70,"type":"AppendEntriesRes","res":false,"term":8},"id":314}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': -1, 'n3': 0, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 71, "type": "AppendEntries", "term": 6, "prevIndex": -2, "prevTerm": 5, "entries": [[["write", [1, 3]], 5]], "commit": 0}}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': -1, 'n3': -1, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 72, "type": "AppendEntries", "term": 6, "prevIndex": -2, "prevTerm": 5, "entries": [[["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":61,"in_reply_to":72,"type":"AppendEntriesRes","res":false,"term":8},"id":318}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":64,"in_reply_to":71,"type":"AppendEntriesRes","res":false,"term":8},"id":319}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': -1, 'n3': -2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 73, "type": "AppendEntries", "term": 6, "prevIndex": -3, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': -2, 'n3': -2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 74, "type": "AppendEntries", "term": 6, "prevIndex": -3, "prevTerm": 0, "entries": [[["cas", [0, [2, 4]]], 5], [["write", [1, 3]], 5]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":62,"in_reply_to":73,"type":"AppendEntriesRes","res":false,"term":8},"id":322}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":65,"in_reply_to":74,"type":"AppendEntriesRes","res":false,"term":8},"id":323}
INFO:root:387##########:
node
n1
current term
6
next I
{'n1': 1, 'n2': -2, 'n3': -3, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), (('cas', (0, (2, 4))), 5), (('write', (1, 3)), 5)]
dest
n3

ERROR:root:fatal exception in handler
Traceback (most recent call last):
  File "/home/peter/Documents/tf/lab3/ms.py", line 27, in exitOnError
    fn(*args)
  File "/home/peter/Documents/tf/lab3/raft.py", line 400, in handle
    send(node_id, dest, type='AppendEntries', term=current_term, prevIndex = nextIndex[dest]-1,prevTerm=log[nextIndex[dest]-1][1] ,entries=log[nextIndex[dest]:],commit=commitIndex)
IndexError: list index out of range

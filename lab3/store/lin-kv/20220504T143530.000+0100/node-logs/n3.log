DEBUG:root:received {"dest":"n3","body":{"type":"init","node_id":"n3","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c0","id":0}
INFO:root:node n3 initialized
DEBUG:root:sending {"dest": "c0", "src": "n3", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:node
n1
current time
1651671331094023689
node_time
1651671331094018885
dif
4804
True

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":4,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":11}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 2, "in_reply_to": 4, "type": "RequestVoteRes", "term": 1, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671331103422341

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":9,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":19}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 3, "in_reply_to": 9, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":3,"type":"AppendEntries","term":0,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":27}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 4, "in_reply_to": 3, "type": "AppendEntriesRes", "res": false, "term": 1}}
INFO:root:msg term
0
current term
1
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":9,"type":"AppendEntries","term":1,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":37}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 5, "in_reply_to": 9, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":8,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":48}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 6, "in_reply_to": 8, "type": "RequestVoteRes", "term": 1, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
2

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 7, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 8, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 9, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 10, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 11, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":10,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":57}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":9,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":62}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 12, "in_reply_to": 10, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671331210928690

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":16,"in_reply_to":8,"type":"RequestVoteRes","term":2,"res":false},"id":68}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":14,"in_reply_to":11,"type":"RequestVoteRes","term":2,"res":false},"id":72}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":14,"in_reply_to":7,"type":"RequestVoteRes","term":1,"res":false},"id":71}
INFO:root:voting for myself
n3
at time
1651671331214089913
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 13, "in_reply_to": 9, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331123804429, 'n2': 1651671331214280501, 'n3': 1651671331214085843, 'n4': 1651671331207350052, 'n5': 1651671331210730481}
curr time
1651671331214331853

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331123804429, 'n2': 1651671331214280501, 'n3': 1651671331214085843, 'n4': 1651671331207350052, 'n5': 1651671331214458087}
curr time
1651671331214501782

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331214624926, 'n2': 1651671331214280501, 'n3': 1651671331214085843, 'n4': 1651671331207350052, 'n5': 1651671331214458087}
curr time
1651671331214667411

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":13,"in_reply_to":10,"type":"RequestVoteRes","term":2,"res":false},"id":74}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":13,"in_reply_to":9,"type":"RequestVoteRes","term":2,"res":true},"id":78}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":17,"type":"AppendEntries","term":2,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":80}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":16,"type":"AppendEntries","term":2,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":82}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331214624926, 'n2': 1651671331214280501, 'n3': 1651671331214085843, 'n4': 1651671331217934709, 'n5': 1651671331214458087}
curr time
1651671331218057887

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331214624926, 'n2': 1651671331214280501, 'n3': 1651671331218236219, 'n4': 1651671331217934709, 'n5': 1651671331214458087}
curr time
1651671331218286520

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 14, "in_reply_to": 17, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 2, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 15, "in_reply_to": 16, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":17,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":92}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 16, "in_reply_to": 17, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":22,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":102}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 17, "in_reply_to": 22, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
3

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 18, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 19, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 20, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 21, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 22, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":20,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":112}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":22,"in_reply_to":18,"type":"RequestVoteRes","term":2,"res":false},"id":115}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":27,"type":"AppendEntries","term":3,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":116}
INFO:root:voting for myself
n3
at time
1651671331315326976
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 23, "in_reply_to": 20, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331316119027, 'n2': 1651671331310191323, 'n3': 1651671331315320083, 'n4': 1651671331218658201, 'n5': 1651671331218510692}
curr time
1651671331316212658

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 24, "in_reply_to": 27, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":21,"in_reply_to":21,"type":"RequestVoteRes","term":3,"res":false},"id":120}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":23,"in_reply_to":20,"type":"RequestVoteRes","term":3,"res":true},"id":121}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":30,"in_reply_to":19,"type":"RequestVoteRes","term":3,"res":true},"id":122}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331316119027, 'n2': 1651671331316455440, 'n3': 1651671331315320083, 'n4': 1651671331317387816, 'n5': 1651671331218510692}
curr time
1651671331317633999

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331316119027, 'n2': 1651671331316455440, 'n3': 1651671331317893361, 'n4': 1651671331317387816, 'n5': 1651671331218510692}
curr time
1651671331317974086

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331316119027, 'n2': 1651671331318313708, 'n3': 1651671331317893361, 'n4': 1651671331317387816, 'n5': 1651671331218510692}
curr time
1651671331318392372

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 25, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":22,"in_reply_to":22,"type":"RequestVoteRes","term":3,"res":false},"id":125}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 26, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 27, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 28, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671331316119027, 'n2': 1651671331318313708, 'n3': 1651671331317893361, 'n4': 1651671331317387816, 'n5': 1651671331321008514}
curr time
1651671331321085048

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":23,"in_reply_to":27,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":131}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":31,"in_reply_to":26,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":132}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":24,"in_reply_to":28,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":133}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":26,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":138}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":27,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":139}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 29, "in_reply_to": 26, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671331418213307

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 30, "in_reply_to": 27, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":36,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":156}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 31, "in_reply_to": 36, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":33,"type":"AppendEntries","term":4,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":163}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 32, "in_reply_to": 33, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":42,"type":"AppendEntries","term":4,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":172}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 33, "in_reply_to": 42, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 34, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 35, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 36, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 37, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 38, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":36,"type":"RequestVote","term":5,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":180}
INFO:root:voting for myself
n3
at time
1651671331440826076
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 39, "in_reply_to": 36, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":26,"in_reply_to":34,"type":"RequestVoteRes","term":2,"res":false},"id":182}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":45,"in_reply_to":35,"type":"RequestVoteRes","term":5,"res":true},"id":184}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":37,"in_reply_to":37,"type":"RequestVoteRes","term":4,"res":false},"id":185}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":39,"in_reply_to":36,"type":"RequestVoteRes","term":5,"res":true},"id":186}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":35,"in_reply_to":38,"type":"RequestVoteRes","term":4,"res":false},"id":187}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331443820175, 'n2': 1651671331433833126, 'n3': 1651671331440815576, 'n4': 1651671331427070131, 'n5': 1651671331419469894}
curr time
1651671331444026423

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331443820175, 'n2': 1651671331444332844, 'n3': 1651671331440815576, 'n4': 1651671331427070131, 'n5': 1651671331419469894}
curr time
1651671331444408950

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331443820175, 'n2': 1651671331444332844, 'n3': 1651671331440815576, 'n4': 1651671331444708616, 'n5': 1651671331419469894}
curr time
1651671331444773533

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331443820175, 'n2': 1651671331444332844, 'n3': 1651671331444945326, 'n4': 1651671331444708616, 'n5': 1651671331419469894}
curr time
1651671331445007725

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 40, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 41, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 42, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 43, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671331443820175, 'n2': 1651671331444332844, 'n3': 1651671331444945326, 'n4': 1651671331444708616, 'n5': 1651671331446622648}
curr time
1651671331446715505

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":46,"in_reply_to":41,"type":"AppendEntriesRes","res":true,"term":5,"next":2,"commit":0},"id":192}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":38,"in_reply_to":42,"type":"AppendEntriesRes","res":true,"term":5,"next":2,"commit":0},"id":193}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":36,"in_reply_to":43,"type":"AppendEntriesRes","res":true,"term":5,"next":2,"commit":0},"id":194}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":48,"type":"AppendEntries","term":5,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":198}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 44, "in_reply_to": 48, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":52,"type":"AppendEntries","term":5,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":205}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 45, "in_reply_to": 52, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":57,"type":"RequestVote","term":6,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":213}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 46, "in_reply_to": 57, "type": "RequestVoteRes", "term": 6, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671331546212776

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":62,"type":"AppendEntries","term":6,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":222}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 47, "in_reply_to": 62, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":43,"type":"RequestVote","term":7,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":230}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 48, "in_reply_to": 43, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":49,"type":"AppendEntries","term":7,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":240}
INFO:root:vote ended, new leader is
n3

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
6
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671331443820175, 'n2': 1651671331553213543, 'n3': 1651671331444945326, 'n4': 1651671331450798216, 'n5': 1651671331574620766}
curr time
1651671331575032393

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 49, "in_reply_to": 49, "type": "AppendEntriesRes", "res": true, "term": 7, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":69,"type":"RequestVote","term":8,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":247}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 50, "in_reply_to": 69, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671331588251605

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":74,"type":"AppendEntries","term":8,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":256}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 51, "in_reply_to": 74, "type": "AppendEntriesRes", "res": true, "term": 8, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":32,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":264}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 52, "in_reply_to": 32, "type": "RequestVoteRes", "term": 8, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651671331614508791

INFO:root:node
n5
current time
1651671331620273166
node_time
1651671331444945326
dif
175327840
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":51,"type":"RequestVote","term":9,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":274}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 53, "in_reply_to": 51, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":81,"type":"RequestVote","term":10,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":284}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 54, "in_reply_to": 81, "type": "RequestVoteRes", "term": 10, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671331642984880

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
11

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 55, "type": "RequestVote", "term": 11, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 56, "type": "RequestVote", "term": 11, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 57, "type": "RequestVote", "term": 11, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 58, "type": "RequestVote", "term": 11, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 59, "type": "RequestVote", "term": 11, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
12

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 60, "type": "RequestVote", "term": 12, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 61, "type": "RequestVote", "term": 12, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 62, "type": "RequestVote", "term": 12, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 63, "type": "RequestVote", "term": 12, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 64, "type": "RequestVote", "term": 12, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":57,"type":"RequestVote","term":11,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":293}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":86,"type":"AppendEntries","term":10,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":300}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":58,"type":"RequestVote","term":11,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":302}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":38,"in_reply_to":55,"type":"RequestVoteRes","term":3,"res":false},"id":303}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 65, "in_reply_to": 57, "type": "RequestVoteRes", "term": 12, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651671331653331617

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 66, "in_reply_to": 86, "type": "AppendEntriesRes", "res": false, "term": 12}}
INFO:root:msg term
10
current term
12
log
[(('pass', None), 0), [['pass', None], 0]]
msg entries
[]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 67, "in_reply_to": 58, "type": "RequestVoteRes", "term": 12, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651671331654395700

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671331654603772, 'n2': 1651671331653588200, 'n3': 1651671331653013113, 'n4': 1651671331637501457, 'n5': 1651671331654132536}
curr time
1651671331654749924

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":62,"type":"RequestVote","term":12,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":310}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":61,"in_reply_to":59,"type":"RequestVoteRes","term":11,"res":true},"id":311}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":65,"in_reply_to":57,"type":"RequestVoteRes","term":12,"res":false},"id":314}
INFO:root:voting for myself
n3
at time
1651671331657274085
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 68, "in_reply_to": 62, "type": "RequestVoteRes", "term": 12, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331654603772, 'n2': 1651671331653588200, 'n3': 1651671331657263821, 'n4': 1651671331637501457, 'n5': 1651671331657869015}
curr time
1651671331658026791

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331654603772, 'n2': 1651671331653588200, 'n3': 1651671331658652729, 'n4': 1651671331637501457, 'n5': 1651671331657869015}
curr time
1651671331661277721

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":40,"in_reply_to":60,"type":"RequestVoteRes","term":3,"res":false},"id":317}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":68,"in_reply_to":62,"type":"RequestVoteRes","term":12,"res":true},"id":320}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":57,"type":"AppendEntries","term":9,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":321}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331653588200, 'n3': 1651671331658652729, 'n4': 1651671331637501457, 'n5': 1651671331657869015}
curr time
1651671331663045545

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331653588200, 'n3': 1651671331663451768, 'n4': 1651671331637501457, 'n5': 1651671331657869015}
curr time
1651671331663592056

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 69, "type": "AppendEntries", "term": 12, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 70, "type": "AppendEntries", "term": 12, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 71, "type": "AppendEntries", "term": 12, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 72, "type": "AppendEntries", "term": 12, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":89,"in_reply_to":56,"type":"RequestVoteRes","term":11,"res":true},"id":325}
INFO:root:election ended

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 73, "in_reply_to": 57, "type": "AppendEntriesRes", "res": false, "term": 12}}
INFO:root:msg term
9
current term
12
log
[(('pass', None), 0), [['pass', None], 0]]
msg entries
[]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331673923870, 'n3': 1651671331663451768, 'n4': 1651671331671281959, 'n5': 1651671331657869015}
curr time
1651671331674089413

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":66,"type":"RequestVote","term":12,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":331}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":69,"in_reply_to":64,"type":"RequestVoteRes","term":12,"res":true},"id":337}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":60,"in_reply_to":58,"type":"RequestVoteRes","term":10,"res":false},"id":338}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":63,"in_reply_to":63,"type":"RequestVoteRes","term":10,"res":false},"id":341}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":64,"in_reply_to":71,"type":"AppendEntriesRes","res":true,"term":12,"next":2,"commit":0},"id":342}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":92,"in_reply_to":61,"type":"RequestVoteRes","term":12,"res":true},"id":345}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":94,"type":"RequestVote","term":12,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":348}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 74, "in_reply_to": 66, "type": "RequestVoteRes", "term": 12, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671331677913990

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":71,"in_reply_to":72,"type":"AppendEntriesRes","res":true,"term":12,"next":2,"commit":0},"id":353}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":66,"in_reply_to":73,"type":"error","code":11,"text":"Not Leader"},"id":355}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":97,"type":"AppendEntries","term":12,"prevIndex":0,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":359}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":75,"type":"AppendEntries","term":12,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":364}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n5
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331673923870, 'n3': 1651671331663451768, 'n4': 1651671331671281959, 'n5': 1651671331688878510}
curr time
1651671331689038326

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n5
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331673923870, 'n3': 1651671331663451768, 'n4': 1651671331689283739, 'n5': 1651671331688878510}
curr time
1651671331689359309

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n5
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331673923870, 'n3': 1651671331663451768, 'n4': 1651671331689568766, 'n5': 1651671331688878510}
curr time
1651671331689648054

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n5
timeout dict
{'n1': 1651671331662865288, 'n2': 1651671331689896243, 'n3': 1651671331663451768, 'n4': 1651671331689854810, 'n5': 1651671331688878510}
curr time
1651671331689975375

INFO:root:resposta
True
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 75, "in_reply_to": 94, "type": "RequestVoteRes", "term": 12, "res": false}}
WARNING:root:unknown message type error
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 76, "in_reply_to": 97, "type": "AppendEntriesRes", "res": true, "term": 12, "next": 3, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 77, "in_reply_to": 75, "type": "AppendEntriesRes", "res": true, "term": 12, "next": 3, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
13

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 78, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 79, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 80, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 81, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 82, "type": "RequestVote", "term": 13, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":100,"in_reply_to":70,"type":"AppendEntriesRes","res":true,"term":12,"next":2,"commit":0},"id":369}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":80,"type":"RequestVote","term":13,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":372}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":73,"type":"RequestVote","term":13,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":381}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 83, "in_reply_to": 80, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 84, "in_reply_to": 73, "type": "RequestVoteRes", "term": 13, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":80,"type":"RequestVote","term":13,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":390}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 85, "type": "AppendEntries", "term": 13, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 86, "type": "AppendEntries", "term": 13, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":45,"in_reply_to":78,"type":"RequestVoteRes","term":3,"res":false},"id":395}
INFO:root:voting for myself
n3
at time
1651671331697512726
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 87, "in_reply_to": 80, "type": "RequestVoteRes", "term": 13, "res": true}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331695246321, 'n3': 1651671331697508233, 'n4': 1651671331695681543, 'n5': 1651671331695325521}
curr time
1651671331699449998

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 88, "type": "AppendEntries", "term": 13, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 89, "type": "AppendEntries", "term": 13, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":87,"in_reply_to":80,"type":"RequestVoteRes","term":13,"res":true},"id":400}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":105,"type":"AppendEntries","term":12,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":402}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331695246321, 'n3': 1651671331700774284, 'n4': 1651671331695681543, 'n5': 1651671331695325521}
curr time
1651671331700864015

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 90, "in_reply_to": 105, "type": "AppendEntriesRes", "res": false, "term": 13}}
INFO:root:msg term
12
current term
13
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":86,"in_reply_to":82,"type":"RequestVoteRes","term":13,"res":false},"id":410}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331701158562, 'n3': 1651671331700774284, 'n4': 1651671331695681543, 'n5': 1651671331703986490}
curr time
1651671331704070547

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":78,"in_reply_to":81,"type":"RequestVoteRes","term":13,"res":false},"id":413}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":79,"in_reply_to":88,"type":"AppendEntriesRes","res":true,"term":13,"next":2,"commit":0},"id":414}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331701158562, 'n3': 1651671331700774284, 'n4': 1651671331705768781, 'n5': 1651671331703986490}
curr time
1651671331705835766

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":111,"in_reply_to":79,"type":"RequestVoteRes","term":13,"res":false},"id":419}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":112,"in_reply_to":86,"type":"AppendEntriesRes","res":true,"term":13,"next":2,"commit":0},"id":421}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":113,"type":"AppendEntries","term":13,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":422}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":89,"type":"AppendEntries","term":13,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":424}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331708314056, 'n3': 1651671331700774284, 'n4': 1651671331705995001, 'n5': 1651671331703986490}
curr time
1651671331708386662

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 91, "in_reply_to": 113, "type": "AppendEntriesRes", "res": true, "term": 13, "next": 3, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 92, "in_reply_to": 89, "type": "AppendEntriesRes", "res": true, "term": 13, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":91,"in_reply_to":89,"type":"AppendEntriesRes","res":true,"term":13,"next":2,"commit":0},"id":427}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":120,"type":"RequestVote","term":14,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":439}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 93, "in_reply_to": 120, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
14

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 94, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 95, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 96, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 97, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 98, "type": "RequestVote", "term": 14, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":96,"type":"RequestVote","term":14,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":449}
INFO:root:voting for myself
n3
at time
1651671331744860969
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 99, "in_reply_to": 96, "type": "RequestVoteRes", "term": 14, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":124,"in_reply_to":95,"type":"RequestVoteRes","term":14,"res":false},"id":452}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":99,"in_reply_to":96,"type":"RequestVoteRes","term":14,"res":true},"id":453}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":47,"in_reply_to":94,"type":"RequestVoteRes","term":3,"res":false},"id":454}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331745347191, 'n3': 1651671331744857518, 'n4': 1651671331705995001, 'n5': 1651671331709561811}
curr time
1651671331745468476

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":84,"in_reply_to":97,"type":"RequestVoteRes","term":13,"res":false},"id":455}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":96,"in_reply_to":98,"type":"RequestVoteRes","term":13,"res":false},"id":456}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331698730314, 'n2': 1651671331745347191, 'n3': 1651671331745672021, 'n4': 1651671331705995001, 'n5': 1651671331709561811}
curr time
1651671331745786231

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331745878937, 'n2': 1651671331745347191, 'n3': 1651671331745672021, 'n4': 1651671331705995001, 'n5': 1651671331709561811}
curr time
1651671331745897227

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331745878937, 'n2': 1651671331745347191, 'n3': 1651671331745672021, 'n4': 1651671331745947090, 'n5': 1651671331709561811}
curr time
1651671331745965154

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331745878937, 'n2': 1651671331745347191, 'n3': 1651671331745672021, 'n4': 1651671331745947090, 'n5': 1651671331746013959}
curr time
1651671331746031362

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":128,"type":"RequestVote","term":15,"prevLogIndex":2,"lastLogTerm":14,"candidateId":"n2"},"id":461}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
14

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 100, "in_reply_to": 128, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":88,"type":"RequestVote","term":14,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":471}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 101, "in_reply_to": 88, "type": "RequestVoteRes", "term": 14, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 102, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 103, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 104, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 105, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":94,"type":"RequestVote","term":15,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":482}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 106, "in_reply_to": 94, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":100,"in_reply_to":105,"type":"AppendEntriesRes","res":true,"term":14,"next":5,"commit":0},"id":491}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":135,"in_reply_to":103,"type":"AppendEntriesRes","res":false,"term":16},"id":493}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":137,"type":"RequestVote","term":16,"prevLogIndex":2,"lastLogTerm":14,"candidateId":"n2"},"id":496}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
14

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 107, "in_reply_to": 137, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":98,"in_reply_to":104,"type":"AppendEntriesRes","res":false,"term":15},"id":500}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
15

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 108, "type": "RequestVote", "term": 15, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 109, "type": "RequestVote", "term": 15, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 110, "type": "RequestVote", "term": 15, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 111, "type": "RequestVote", "term": 15, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 112, "type": "RequestVote", "term": 15, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":110,"type":"RequestVote","term":15,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":508}
INFO:root:voting for myself
n3
at time
1651671331789654624
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 113, "in_reply_to": 110, "type": "RequestVoteRes", "term": 15, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":113,"in_reply_to":110,"type":"RequestVoteRes","term":15,"res":true},"id":511}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":52,"in_reply_to":108,"type":"RequestVoteRes","term":3,"res":false},"id":512}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":141,"in_reply_to":109,"type":"RequestVoteRes","term":16,"res":false},"id":513}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":102,"in_reply_to":112,"type":"RequestVoteRes","term":14,"res":false},"id":514}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":100,"in_reply_to":111,"type":"RequestVoteRes","term":15,"res":false},"id":515}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671331745878937, 'n2': 1651671331784374962, 'n3': 1651671331790830477, 'n4': 1651671331785150955, 'n5': 1651671331784315369}
curr time
1651671331790990404

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331791232557, 'n2': 1651671331784374962, 'n3': 1651671331790830477, 'n4': 1651671331785150955, 'n5': 1651671331784315369}
curr time
1651671331791273941

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331791232557, 'n2': 1651671331791382523, 'n3': 1651671331790830477, 'n4': 1651671331785150955, 'n5': 1651671331784315369}
curr time
1651671331791419817

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331791232557, 'n2': 1651671331791382523, 'n3': 1651671331790830477, 'n4': 1651671331785150955, 'n5': 1651671331791523123}
curr time
1651671331791558852

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671331791232557, 'n2': 1651671331791382523, 'n3': 1651671331790830477, 'n4': 1651671331791656333, 'n5': 1651671331791523123}
curr time
1651671331791690316

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":103,"type":"RequestVote","term":16,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":518}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 114, "in_reply_to": 103, "type": "RequestVoteRes", "term": 15, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":145,"type":"RequestVote","term":17,"prevLogIndex":2,"lastLogTerm":14,"candidateId":"n2"},"id":528}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
14

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 115, "in_reply_to": 145, "type": "RequestVoteRes", "term": 15, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":110,"type":"RequestVote","term":17,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n4"},"id":538}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 116, "in_reply_to": 110, "type": "RequestVoteRes", "term": 15, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":152,"type":"RequestVote","term":18,"prevLogIndex":2,"lastLogTerm":14,"candidateId":"n2"},"id":550}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
14

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 117, "in_reply_to": 152, "type": "RequestVoteRes", "term": 15, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":157,"type":"AppendEntries","term":18,"prevIndex":2,"prevTerm":14,"entries":[],"commit":0},"id":559}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 118, "in_reply_to": 157, "type": "AppendEntriesRes", "res": false, "term": 15}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":159,"type":"AppendEntries","term":18,"prevIndex":1,"prevTerm":0,"entries":[[["write",[1,1]],14]],"commit":0},"id":563}
INFO:root:vote ended, new leader is
n3

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671331791232557, 'n2': 1651671331852375028, 'n3': 1651671331790830477, 'n4': 1651671331841961109, 'n5': 1651671331791523123}
curr time
1651671331852462334

INFO:root:commiting command
[['write', [1, 1]], 14]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 119, "in_reply_to": 159, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 4, "commit": 0}}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":59,"type":"RequestVote","term":4,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":569}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 120, "in_reply_to": 59, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651671331915681354

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":164,"type":"RequestVote","term":19,"prevLogIndex":2,"lastLogTerm":14,"candidateId":"n2"},"id":579}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14]]
prevlog index
2
 last log term
14

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 121, "in_reply_to": 164, "type": "RequestVoteRes", "term": 18, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":171,"type":"RequestVote","term":20,"prevLogIndex":2,"lastLogTerm":14,"candidateId":"n2"},"id":590}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14]]
prevlog index
2
 last log term
14

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 122, "in_reply_to": 171, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:node
n2
current time
1651671331980389447
node_time
1651671331790830477
dif
189558970
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":179,"type":"RequestVote","term":21,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":603}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 123, "in_reply_to": 179, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671331993241552

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":184,"type":"AppendEntries","term":21,"prevIndex":3,"prevTerm":20,"entries":[],"commit":0},"id":612}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 124, "in_reply_to": 184, "type": "AppendEntriesRes", "res": false, "term": 21}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":187,"type":"AppendEntries","term":21,"prevIndex":3,"prevTerm":20,"entries":[],"commit":0},"id":617}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 125, "in_reply_to": 187, "type": "AppendEntriesRes", "res": false, "term": 21}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":190,"type":"AppendEntries","term":21,"prevIndex":2,"prevTerm":14,"entries":[[["cas",[1,[2,0]]],20]],"commit":0},"id":623}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 126, "in_reply_to": 190, "type": "AppendEntriesRes", "res": false, "term": 21}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":192,"type":"AppendEntries","term":21,"prevIndex":1,"prevTerm":0,"entries":[[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":627}
INFO:root:commiting command
[['write', [1, 1]], 14]

INFO:root:commiting command
[['cas', [1, [2, 0]]], 20]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 127, "in_reply_to": 192, "type": "AppendEntriesRes", "res": true, "term": 21, "next": 6, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":195,"type":"AppendEntries","term":21,"prevIndex":0,"prevTerm":0,"entries":[[["pass",null],0],[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":632}
INFO:root:commiting command
[['pass', None], 0]

INFO:root:commiting command
[['write', [1, 1]], 14]

INFO:root:commiting command
[['cas', [1, [2, 0]]], 20]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 128, "in_reply_to": 195, "type": "AppendEntriesRes", "res": true, "term": 21, "next": 9, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
22

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 129, "type": "RequestVote", "term": 22, "prevLogIndex": 8, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 130, "type": "RequestVote", "term": 22, "prevLogIndex": 8, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 131, "type": "RequestVote", "term": 22, "prevLogIndex": 8, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 132, "type": "RequestVote", "term": 22, "prevLogIndex": 8, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 133, "type": "RequestVote", "term": 22, "prevLogIndex": 8, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":131,"type":"RequestVote","term":22,"prevLogIndex":8,"lastLogTerm":20,"candidateId":"n3"},"id":642}
INFO:root:voting for myself
n3
at time
1651671332036954878
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 134, "in_reply_to": 131, "type": "RequestVoteRes", "term": 22, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":66,"in_reply_to":129,"type":"RequestVoteRes","term":4,"res":false},"id":645}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":127,"in_reply_to":132,"type":"RequestVoteRes","term":21,"res":false},"id":646}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":199,"in_reply_to":130,"type":"RequestVoteRes","term":22,"res":true},"id":647}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":114,"in_reply_to":133,"type":"RequestVoteRes","term":22,"res":true},"id":648}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":134,"in_reply_to":131,"type":"RequestVoteRes","term":22,"res":true},"id":649}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671332040789382, 'n2': 1651671332023037350, 'n3': 1651671332036943157, 'n4': 1651671331841961109, 'n5': 1651671331791523123}
curr time
1651671332041067622

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671332040789382, 'n2': 1651671332023037350, 'n3': 1651671332036943157, 'n4': 1651671332041654436, 'n5': 1651671331791523123}
curr time
1651671332041812339

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671332040789382, 'n2': 1651671332042327405, 'n3': 1651671332036943157, 'n4': 1651671332041654436, 'n5': 1651671331791523123}
curr time
1651671332042476033

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671332040789382, 'n2': 1651671332042327405, 'n3': 1651671332036943157, 'n4': 1651671332041654436, 'n5': 1651671332043197423}
curr time
1651671332043336260

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 135, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 136, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 137, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 138, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332040789382, 'n2': 1651671332042327405, 'n3': 1651671332047541829, 'n4': 1651671332041654436, 'n5': 1651671332043197423}
curr time
1651671332047774657

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":128,"in_reply_to":137,"type":"AppendEntriesRes","res":true,"term":22,"next":9,"commit":0},"id":654}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":117,"type":"RequestVote","term":23,"prevLogIndex":6,"lastLogTerm":20,"candidateId":"n5"},"id":658}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
6
 last log term
20

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 139, "in_reply_to": 117, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 140, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 141, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 142, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 9, 'n2': 9, 'n3': 9, 'n4': 9, 'n5': 9}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 143, "type": "AppendEntries", "term": 22, "prevIndex": 8, "prevTerm": 20, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":204,"type":"RequestVote","term":23,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":668}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 144, "in_reply_to": 204, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":131,"in_reply_to":142,"type":"AppendEntriesRes","res":true,"term":22,"next":9,"commit":0},"id":679}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":122,"in_reply_to":143,"type":"AppendEntriesRes","res":false,"term":23},"id":681}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":208,"in_reply_to":141,"type":"AppendEntriesRes","res":false,"term":23},"id":682}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":125,"type":"RequestVote","term":24,"prevLogIndex":6,"lastLogTerm":20,"candidateId":"n5"},"id":685}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
6
 last log term
20

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 145, "in_reply_to": 125, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":212,"type":"RequestVote","term":24,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":695}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 146, "in_reply_to": 212, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":132,"type":"RequestVote","term":25,"prevLogIndex":6,"lastLogTerm":20,"candidateId":"n5"},"id":705}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
6
 last log term
20

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 147, "in_reply_to": 132, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":219,"type":"RequestVote","term":25,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":716}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 148, "in_reply_to": 219, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":138,"type":"AppendEntries","term":25,"prevIndex":6,"prevTerm":20,"entries":[],"commit":0},"id":721}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 149, "in_reply_to": 138, "type": "AppendEntriesRes", "res": false, "term": 22}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":142,"type":"AppendEntries","term":25,"prevIndex":5,"prevTerm":14,"entries":[[["cas",[1,[2,0]]],20]],"commit":0},"id":730}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 150, "in_reply_to": 142, "type": "AppendEntriesRes", "res": false, "term": 22}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":144,"type":"AppendEntries","term":25,"prevIndex":4,"prevTerm":0,"entries":[[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":734}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 151, "in_reply_to": 144, "type": "AppendEntriesRes", "res": false, "term": 22}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":146,"type":"AppendEntries","term":25,"prevIndex":3,"prevTerm":0,"entries":[[["pass",null],0],[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":738}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 152, "in_reply_to": 146, "type": "AppendEntriesRes", "res": false, "term": 22}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":148,"type":"AppendEntries","term":25,"prevIndex":2,"prevTerm":0,"entries":[[["pass",null],0],[["pass",null],0],[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":742}
INFO:root:vote ended, new leader is
n3

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332040789382, 'n2': 1651671332143156086, 'n3': 1651671332047541829, 'n4': 1651671332070176032, 'n5': 1651671332149438055}
curr time
1651671332149569940

INFO:root:commiting command
[['pass', None], 0]

INFO:root:commiting command
[['pass', None], 0]

INFO:root:commiting command
[['write', [1, 1]], 14]

INFO:root:commiting command
[['cas', [1, [2, 0]]], 20]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 153, "in_reply_to": 148, "type": "AppendEntriesRes", "res": true, "term": 25, "next": 13, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":225,"type":"RequestVote","term":26,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":747}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 154, "in_reply_to": 225, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":231,"type":"RequestVote","term":27,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":757}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 155, "in_reply_to": 231, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:node
n5
current time
1651671332195450241
node_time
1651671332047541829
dif
147908412
False

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n5
current time
1651671332212298324
node_time
1651671332047541829
dif
164756495
False

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n5
current time
1651671332227347135
node_time
1651671332047541829
dif
179805306
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":237,"type":"RequestVote","term":28,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":767}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 156, "in_reply_to": 237, "type": "RequestVoteRes", "term": 25, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":242,"type":"RequestVote","term":29,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":775}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 157, "in_reply_to": 242, "type": "RequestVoteRes", "term": 25, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":147,"type":"RequestVote","term":26,"prevLogIndex":12,"lastLogTerm":20,"candidateId":"n4"},"id":786}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
12
 last log term
20

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 158, "in_reply_to": 147, "type": "RequestVoteRes", "term": 26, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671332258024312

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":153,"type":"AppendEntries","term":26,"prevIndex":12,"prevTerm":20,"entries":[],"commit":0},"id":796}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 159, "in_reply_to": 153, "type": "AppendEntriesRes", "res": true, "term": 26, "next": 13, "commit": 0}}
INFO:root:node
n5
current time
1651671332274372812
node_time
1651671332047541829
dif
226830983
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":251,"type":"RequestVote","term":30,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":803}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 160, "in_reply_to": 251, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":81,"type":"RequestVote","term":30,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":813}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 161, "in_reply_to": 81, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":257,"type":"AppendEntries","term":30,"prevIndex":3,"prevTerm":20,"entries":[],"commit":0},"id":822}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 162, "in_reply_to": 257, "type": "AppendEntriesRes", "res": false, "term": 26}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":260,"type":"AppendEntries","term":30,"prevIndex":2,"prevTerm":14,"entries":[[["cas",[1,[2,0]]],20]],"commit":0},"id":828}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 163, "in_reply_to": 260, "type": "AppendEntriesRes", "res": false, "term": 26}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":263,"type":"AppendEntries","term":30,"prevIndex":1,"prevTerm":0,"entries":[[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":834}
INFO:root:vote ended, new leader is
n5

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332283569731, 'n2': 1651671332296853245, 'n3': 1651671332047541829, 'n4': 1651671332264092646, 'n5': 1651671332149438055}
curr time
1651671332297137115

INFO:root:commiting command
[['write', [1, 1]], 14]

INFO:root:commiting command
[['cas', [1, [2, 0]]], 20]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 164, "in_reply_to": 263, "type": "AppendEntriesRes", "res": true, "term": 30, "next": 15, "commit": 0}}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":87,"type":"RequestVote","term":31,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":844}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 165, "in_reply_to": 87, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":163,"type":"RequestVote","term":31,"prevLogIndex":8,"lastLogTerm":20,"candidateId":"n5"},"id":854}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
8
 last log term
20

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 166, "in_reply_to": 163, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":169,"type":"AppendEntries","term":31,"prevIndex":8,"prevTerm":20,"entries":[],"commit":0},"id":864}
INFO:root:vote ended, new leader is
n2

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n5
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332386242914, 'n2': 1651671332296853245, 'n3': 1651671332047541829, 'n4': 1651671332264092646, 'n5': 1651671332459110210}
curr time
1651671332459517663

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 167, "in_reply_to": 169, "type": "AppendEntriesRes", "res": true, "term": 31, "next": 15, "commit": 0}}
INFO:root:node
n5
current time
1651671332460110439
node_time
1651671332047541829
dif
412568610
False

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n5
current time
1651671332465340078
node_time
1651671332047541829
dif
417798249
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":270,"type":"RequestVote","term":32,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":870}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 168, "in_reply_to": 270, "type": "RequestVoteRes", "term": 31, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":276,"type":"RequestVote","term":33,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":880}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 169, "in_reply_to": 276, "type": "RequestVoteRes", "term": 31, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":283,"type":"RequestVote","term":34,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":891}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 170, "in_reply_to": 283, "type": "RequestVoteRes", "term": 31, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":289,"type":"RequestVote","term":35,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":902}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 171, "in_reply_to": 289, "type": "RequestVoteRes", "term": 31, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":294,"type":"AppendEntries","term":35,"prevIndex":3,"prevTerm":20,"entries":[],"commit":0},"id":910}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 172, "in_reply_to": 294, "type": "AppendEntriesRes", "res": false, "term": 31}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":297,"type":"AppendEntries","term":35,"prevIndex":2,"prevTerm":14,"entries":[[["cas",[1,[2,0]]],20]],"commit":0},"id":916}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 173, "in_reply_to": 297, "type": "AppendEntriesRes", "res": false, "term": 31}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":300,"type":"AppendEntries","term":35,"prevIndex":1,"prevTerm":0,"entries":[[["write",[1,1]],14],[["cas",[1,[2,0]]],20]],"commit":0},"id":922}
INFO:root:vote ended, new leader is
n5

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332386242914, 'n2': 1651671332580669817, 'n3': 1651671332047541829, 'n4': 1651671332264092646, 'n5': 1651671332459110210}
curr time
1651671332581182784

INFO:root:commiting command
[['write', [1, 1]], 14]

INFO:root:commiting command
[['cas', [1, [2, 0]]], 20]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 174, "in_reply_to": 300, "type": "AppendEntriesRes", "res": true, "term": 35, "next": 17, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":98,"type":"RequestVote","term":32,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":935}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 175, "in_reply_to": 98, "type": "RequestVoteRes", "term": 35, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651671332714255572

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":174,"type":"RequestVote","term":36,"prevLogIndex":16,"lastLogTerm":20,"candidateId":"n4"},"id":945}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
16
 last log term
20

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 176, "in_reply_to": 174, "type": "RequestVoteRes", "term": 36, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671332742548452

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":180,"type":"AppendEntries","term":36,"prevIndex":16,"prevTerm":20,"entries":[],"commit":0},"id":955}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 177, "in_reply_to": 180, "type": "AppendEntriesRes", "res": true, "term": 36, "next": 17, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":308,"type":"RequestVote","term":37,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":960}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 178, "in_reply_to": 308, "type": "RequestVoteRes", "term": 36, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":314,"type":"RequestVote","term":38,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":970}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 179, "in_reply_to": 314, "type": "RequestVoteRes", "term": 36, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":185,"type":"RequestVote","term":37,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":980}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
10
 last log term
20

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 180, "in_reply_to": 185, "type": "RequestVoteRes", "term": 36, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":108,"type":"RequestVote","term":33,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":990}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 181, "in_reply_to": 108, "type": "RequestVoteRes", "term": 36, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671332809226704

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":322,"type":"RequestVote","term":39,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1001}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 182, "in_reply_to": 322, "type": "RequestVoteRes", "term": 36, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
37

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 183, "type": "RequestVote", "term": 37, "prevLogIndex": 16, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 184, "type": "RequestVote", "term": 37, "prevLogIndex": 16, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 185, "type": "RequestVote", "term": 37, "prevLogIndex": 16, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 186, "type": "RequestVote", "term": 37, "prevLogIndex": 16, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 187, "type": "RequestVote", "term": 37, "prevLogIndex": 16, "lastLogTerm": 20, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":185,"type":"RequestVote","term":37,"prevLogIndex":16,"lastLogTerm":20,"candidateId":"n3"},"id":1013}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":193,"type":"RequestVote","term":38,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":1014}
INFO:root:voting for myself
n3
at time
1651671332844819094
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 188, "in_reply_to": 185, "type": "RequestVoteRes", "term": 37, "res": true}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
10
 last log term
20

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":113,"in_reply_to":183,"type":"RequestVoteRes","term":33,"res":false},"id":1018}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 189, "in_reply_to": 193, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":187,"in_reply_to":186,"type":"RequestVoteRes","term":37,"res":true},"id":1020}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":188,"in_reply_to":185,"type":"RequestVoteRes","term":37,"res":true},"id":1022}
INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
37
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671332845398823, 'n2': 1651671332843477045, 'n3': 1651671332844816389, 'n4': 1651671332748520899, 'n5': 1651671332845003128}
curr time
1651671332845621776

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":196,"in_reply_to":187,"type":"RequestVoteRes","term":38,"res":false},"id":1023}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":327,"in_reply_to":184,"type":"RequestVoteRes","term":39,"res":false},"id":1027}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
37
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671332845398823, 'n2': 1651671332843477045, 'n3': 1651671332844816389, 'n4': 1651671332845972063, 'n5': 1651671332845003128}
curr time
1651671332846055197

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n2
kvsotr
{}
cur term
37
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671332845398823, 'n2': 1651671332843477045, 'n3': 1651671332846184365, 'n4': 1651671332845972063, 'n5': 1651671332845003128}
curr time
1651671332846205347

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 17, 'n2': 17, 'n3': 17, 'n4': 17, 'n5': 17}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 190, "type": "AppendEntries", "term": 37, "prevIndex": 16, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 17, 'n2': 17, 'n3': 17, 'n4': 17, 'n5': 17}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 191, "type": "AppendEntries", "term": 37, "prevIndex": 16, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 17, 'n2': 17, 'n3': 17, 'n4': 17, 'n5': 17}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 192, "type": "AppendEntries", "term": 37, "prevIndex": 16, "prevTerm": 20, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 17, 'n2': 17, 'n3': 17, 'n4': 17, 'n5': 17}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 193, "type": "AppendEntries", "term": 37, "prevIndex": 16, "prevTerm": 20, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":328,"in_reply_to":191,"type":"AppendEntriesRes","res":false,"term":39},"id":1033}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
37
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332845398823, 'n2': 1651671332843477045, 'n3': 1651671332846184365, 'n4': 1651671332845972063, 'n5': 1651671332847366591}
curr time
1651671332847526566

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":189,"in_reply_to":192,"type":"AppendEntriesRes","res":true,"term":37,"next":17,"commit":0},"id":1034}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":198,"in_reply_to":193,"type":"AppendEntriesRes","res":false,"term":38},"id":1035}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
37
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671332845398823, 'n2': 1651671332847845275, 'n3': 1651671332846184365, 'n4': 1651671332845972063, 'n5': 1651671332847366591}
curr time
1651671332847944330

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":331,"type":"RequestVote","term":40,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1038}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 194, "in_reply_to": 331, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":337,"type":"RequestVote","term":41,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1048}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 195, "in_reply_to": 337, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":343,"type":"RequestVote","term":42,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1058}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 196, "in_reply_to": 343, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":195,"type":"RequestVote","term":38,"prevLogIndex":16,"lastLogTerm":20,"candidateId":"n4"},"id":1068}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20]]
prevlog index
16
 last log term
20

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 197, "in_reply_to": 195, "type": "RequestVoteRes", "term": 38, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671332948073853

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":201,"type":"AppendEntries","term":38,"prevIndex":16,"prevTerm":20,"entries":[],"commit":0},"id":1078}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 198, "in_reply_to": 201, "type": "AppendEntriesRes", "res": true, "term": 38, "next": 17, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":205,"type":"AppendEntries","term":38,"entries":[[["write",[0,4]],38]],"prevIndex":16,"prevTerm":20,"commit":0},"id":1085}
INFO:root:commiting command
[['write', [0, 4]], 38]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 199, "in_reply_to": 205, "type": "AppendEntriesRes", "res": true, "term": 38, "next": 18, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":209,"type":"AppendEntries","term":38,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1092}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 200, "in_reply_to": 209, "type": "AppendEntriesRes", "res": true, "term": 38, "next": 18, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":121,"type":"RequestVote","term":34,"prevLogIndex":1,"lastLogTerm":33,"candidateId":"n1"},"id":1098}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 201, "in_reply_to": 121, "type": "RequestVoteRes", "term": 38, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671333041203560

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
39

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 202, "type": "RequestVote", "term": 39, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 203, "type": "RequestVote", "term": 39, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 204, "type": "RequestVote", "term": 39, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 205, "type": "RequestVote", "term": 39, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 206, "type": "RequestVote", "term": 39, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":204,"type":"RequestVote","term":39,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1108}
INFO:root:voting for myself
n3
at time
1651671333049390339
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 207, "in_reply_to": 204, "type": "RequestVoteRes", "term": 39, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":125,"in_reply_to":202,"type":"RequestVoteRes","term":34,"res":false},"id":1111}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":353,"in_reply_to":203,"type":"RequestVoteRes","term":42,"res":false},"id":1112}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":207,"in_reply_to":204,"type":"RequestVoteRes","term":39,"res":true},"id":1113}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":212,"in_reply_to":205,"type":"RequestVoteRes","term":39,"res":true},"id":1114}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":204,"in_reply_to":206,"type":"RequestVoteRes","term":38,"res":false},"id":1115}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333049933501, 'n2': 1651671332905903775, 'n3': 1651671333049387777, 'n4': 1651671333029204340, 'n5': 1651671332848118122}
curr time
1651671333049974507

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333049933501, 'n2': 1651671333050102777, 'n3': 1651671333049387777, 'n4': 1651671333029204340, 'n5': 1651671332848118122}
curr time
1651671333050136792

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333049933501, 'n2': 1651671333050102777, 'n3': 1651671333050246195, 'n4': 1651671333029204340, 'n5': 1651671332848118122}
curr time
1651671333050278213

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333049933501, 'n2': 1651671333050102777, 'n3': 1651671333050246195, 'n4': 1651671333050443166, 'n5': 1651671332848118122}
curr time
1651671333050474661

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 208, "type": "AppendEntries", "term": 39, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 209, "type": "AppendEntries", "term": 39, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 210, "type": "AppendEntries", "term": 39, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 211, "type": "AppendEntries", "term": 39, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671333049933501, 'n2': 1651671333050102777, 'n3': 1651671333050246195, 'n4': 1651671333050443166, 'n5': 1651671333051315003}
curr time
1651671333051363653

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":354,"in_reply_to":209,"type":"AppendEntriesRes","res":false,"term":42},"id":1120}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":213,"in_reply_to":210,"type":"AppendEntriesRes","res":true,"term":39,"next":18,"commit":0},"id":1121}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":216,"type":"RequestVote","term":40,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n4"},"id":1124}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
17
 last log term
38

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 212, "in_reply_to": 216, "type": "RequestVoteRes", "term": 40, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671333091568406

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":222,"type":"AppendEntries","term":40,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1134}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 213, "in_reply_to": 222, "type": "AppendEntriesRes", "res": true, "term": 40, "next": 18, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":359,"type":"RequestVote","term":43,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1140}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 214, "in_reply_to": 359, "type": "RequestVoteRes", "term": 40, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":209,"type":"RequestVote","term":39,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":1150}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 215, "in_reply_to": 209, "type": "RequestVoteRes", "term": 40, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671333105350276

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
41

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 216, "type": "RequestVote", "term": 41, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 217, "type": "RequestVote", "term": 41, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 218, "type": "RequestVote", "term": 41, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 219, "type": "RequestVote", "term": 41, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 220, "type": "RequestVote", "term": 41, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":218,"type":"RequestVote","term":41,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1160}
INFO:root:voting for myself
n3
at time
1651671333139630012
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 221, "in_reply_to": 218, "type": "RequestVoteRes", "term": 41, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":364,"in_reply_to":217,"type":"RequestVoteRes","term":43,"res":false},"id":1163}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":129,"in_reply_to":216,"type":"RequestVoteRes","term":34,"res":false},"id":1164}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":221,"in_reply_to":218,"type":"RequestVoteRes","term":41,"res":true},"id":1165}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
41
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333049933501, 'n2': 1651671333140136110, 'n3': 1651671333139625159, 'n4': 1651671333094372495, 'n5': 1651671333105228371}
curr time
1651671333140264023

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":226,"in_reply_to":219,"type":"RequestVoteRes","term":41,"res":true},"id":1166}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":213,"in_reply_to":220,"type":"RequestVoteRes","term":39,"res":false},"id":1167}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
41
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333141321760, 'n2': 1651671333140136110, 'n3': 1651671333139625159, 'n4': 1651671333094372495, 'n5': 1651671333105228371}
curr time
1651671333141432656

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
41
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333141321760, 'n2': 1651671333140136110, 'n3': 1651671333141533376, 'n4': 1651671333094372495, 'n5': 1651671333105228371}
curr time
1651671333141558126

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
41
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333141321760, 'n2': 1651671333140136110, 'n3': 1651671333141533376, 'n4': 1651671333141683178, 'n5': 1651671333105228371}
curr time
1651671333141706304

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 222, "type": "AppendEntries", "term": 41, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 223, "type": "AppendEntries", "term": 41, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 224, "type": "AppendEntries", "term": 41, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 225, "type": "AppendEntries", "term": 41, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
41
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671333141321760, 'n2': 1651671333140136110, 'n3': 1651671333141533376, 'n4': 1651671333141683178, 'n5': 1651671333142542647}
curr time
1651671333142597505

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":365,"in_reply_to":223,"type":"AppendEntriesRes","res":false,"term":43},"id":1172}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":227,"in_reply_to":224,"type":"AppendEntriesRes","res":true,"term":41,"next":18,"commit":0},"id":1173}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":230,"type":"RequestVote","term":42,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n4"},"id":1176}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
17
 last log term
38

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 226, "in_reply_to": 230, "type": "RequestVoteRes", "term": 42, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671333150957973

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":236,"type":"AppendEntries","term":42,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1186}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 227, "in_reply_to": 236, "type": "AppendEntriesRes", "res": true, "term": 42, "next": 18, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
43

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 228, "type": "RequestVote", "term": 43, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 229, "type": "RequestVote", "term": 43, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 230, "type": "RequestVote", "term": 43, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 231, "type": "RequestVote", "term": 43, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 232, "type": "RequestVote", "term": 43, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":230,"type":"RequestVote","term":43,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1192}
INFO:root:voting for myself
n3
at time
1651671333193033842
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 233, "in_reply_to": 230, "type": "RequestVoteRes", "term": 43, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":233,"in_reply_to":230,"type":"RequestVoteRes","term":43,"res":true},"id":1195}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":131,"in_reply_to":228,"type":"RequestVoteRes","term":34,"res":false},"id":1196}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":368,"in_reply_to":229,"type":"RequestVoteRes","term":43,"res":false},"id":1197}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":215,"in_reply_to":232,"type":"RequestVoteRes","term":39,"res":false},"id":1198}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":238,"in_reply_to":231,"type":"RequestVoteRes","term":43,"res":true},"id":1199}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333141321760, 'n2': 1651671333142899226, 'n3': 1651671333194207741, 'n4': 1651671333154077282, 'n5': 1651671333142542647}
curr time
1651671333194271032

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333194495740, 'n2': 1651671333142899226, 'n3': 1651671333194207741, 'n4': 1651671333154077282, 'n5': 1651671333142542647}
curr time
1651671333194534510

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333194495740, 'n2': 1651671333194690473, 'n3': 1651671333194207741, 'n4': 1651671333154077282, 'n5': 1651671333142542647}
curr time
1651671333194727153

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333194495740, 'n2': 1651671333194690473, 'n3': 1651671333194207741, 'n4': 1651671333154077282, 'n5': 1651671333194845647}
curr time
1651671333194880342

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333194495740, 'n2': 1651671333194690473, 'n3': 1651671333194207741, 'n4': 1651671333195002091, 'n5': 1651671333194845647}
curr time
1651671333195036622

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 234, "type": "AppendEntries", "term": 43, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 235, "type": "AppendEntries", "term": 43, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 236, "type": "AppendEntries", "term": 43, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 237, "type": "AppendEntries", "term": 43, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":239,"in_reply_to":236,"type":"AppendEntriesRes","res":true,"term":43,"next":18,"commit":0},"id":1204}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":371,"type":"RequestVote","term":44,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1207}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 238, "in_reply_to": 371, "type": "RequestVoteRes", "term": 43, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":243,"type":"RequestVote","term":44,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n4"},"id":1217}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
17
 last log term
38

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 239, "in_reply_to": 243, "type": "RequestVoteRes", "term": 44, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671333212062073

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":249,"type":"AppendEntries","term":44,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1227}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 240, "in_reply_to": 249, "type": "AppendEntriesRes", "res": true, "term": 44, "next": 18, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":220,"type":"RequestVote","term":40,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":1232}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 241, "in_reply_to": 220, "type": "RequestVoteRes", "term": 44, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671333217296451

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 242, "type": "AppendEntries", "term": 44, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 243, "type": "AppendEntries", "term": 44, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 244, "type": "AppendEntries", "term": 44, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 245, "type": "AppendEntries", "term": 44, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":252,"in_reply_to":244,"type":"AppendEntriesRes","res":true,"term":44,"next":18,"commit":0},"id":1243}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":379,"type":"RequestVote","term":45,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1247}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 246, "in_reply_to": 379, "type": "RequestVoteRes", "term": 44, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":138,"type":"RequestVote","term":35,"prevLogIndex":1,"lastLogTerm":33,"candidateId":"n1"},"id":1257}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 247, "in_reply_to": 138, "type": "RequestVoteRes", "term": 44, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671333228857940

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
45

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 248, "type": "RequestVote", "term": 45, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 249, "type": "RequestVote", "term": 45, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 250, "type": "RequestVote", "term": 45, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 251, "type": "RequestVote", "term": 45, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 252, "type": "RequestVote", "term": 45, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":250,"type":"RequestVote","term":45,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1267}
INFO:root:voting for myself
n3
at time
1651671333252130289
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 253, "in_reply_to": 250, "type": "RequestVoteRes", "term": 45, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":253,"in_reply_to":250,"type":"RequestVoteRes","term":45,"res":true},"id":1270}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":384,"in_reply_to":249,"type":"RequestVoteRes","term":45,"res":false},"id":1271}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":226,"in_reply_to":252,"type":"RequestVoteRes","term":40,"res":false},"id":1272}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":255,"in_reply_to":251,"type":"RequestVoteRes","term":45,"res":true},"id":1273}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":142,"in_reply_to":248,"type":"RequestVoteRes","term":35,"res":false},"id":1274}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333228677450, 'n2': 1651671333227259609, 'n3': 1651671333253116418, 'n4': 1651671333221229958, 'n5': 1651671333217108103}
curr time
1651671333253174635

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333228677450, 'n2': 1651671333253363612, 'n3': 1651671333253116418, 'n4': 1651671333221229958, 'n5': 1651671333217108103}
curr time
1651671333253394256

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333228677450, 'n2': 1651671333253363612, 'n3': 1651671333253116418, 'n4': 1651671333221229958, 'n5': 1651671333253512074}
curr time
1651671333253545104

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333228677450, 'n2': 1651671333253363612, 'n3': 1651671333253116418, 'n4': 1651671333253666228, 'n5': 1651671333253512074}
curr time
1651671333253701105

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 254, "type": "AppendEntries", "term": 45, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 255, "type": "AppendEntries", "term": 45, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 256, "type": "AppendEntries", "term": 45, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 257, "type": "AppendEntries", "term": 45, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671333254709418, 'n2': 1651671333253363612, 'n3': 1651671333253116418, 'n4': 1651671333253666228, 'n5': 1651671333253512074}
curr time
1651671333254769599

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":256,"in_reply_to":256,"type":"AppendEntriesRes","res":true,"term":45,"next":18,"commit":0},"id":1279}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":387,"type":"RequestVote","term":46,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1282}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 258, "in_reply_to": 387, "type": "RequestVoteRes", "term": 45, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":260,"type":"AppendEntries","term":45,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1292}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 259, "in_reply_to": 260, "type": "AppendEntriesRes", "res": true, "term": 45, "next": 18, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":264,"type":"RequestVote","term":46,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n4"},"id":1298}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
17
 last log term
38

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 260, "in_reply_to": 264, "type": "RequestVoteRes", "term": 46, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671333294727342

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":395,"type":"RequestVote","term":47,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1308}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
3
 last log term
20

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 261, "in_reply_to": 395, "type": "RequestVoteRes", "term": 46, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":270,"type":"AppendEntries","term":46,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1317}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 262, "in_reply_to": 270, "type": "AppendEntriesRes", "res": true, "term": 46, "next": 18, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
47

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 263, "type": "RequestVote", "term": 47, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 264, "type": "RequestVote", "term": 47, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 265, "type": "RequestVote", "term": 47, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 266, "type": "RequestVote", "term": 47, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 267, "type": "RequestVote", "term": 47, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":265,"type":"RequestVote","term":47,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1324}
INFO:root:voting for myself
n3
at time
1651671333313260423
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 268, "in_reply_to": 265, "type": "RequestVoteRes", "term": 47, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":146,"in_reply_to":263,"type":"RequestVoteRes","term":35,"res":false},"id":1327}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333314115843, 'n2': 1651671333295307934, 'n3': 1651671333313257640, 'n4': 1651671333296871190, 'n5': 1651671333253512074}
curr time
1651671333314175864

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":230,"in_reply_to":267,"type":"RequestVoteRes","term":40,"res":false},"id":1328}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":268,"in_reply_to":265,"type":"RequestVoteRes","term":47,"res":true},"id":1329}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":273,"in_reply_to":266,"type":"RequestVoteRes","term":47,"res":true},"id":1330}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":400,"in_reply_to":264,"type":"RequestVoteRes","term":47,"res":false},"id":1331}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333314115843, 'n2': 1651671333295307934, 'n3': 1651671333313257640, 'n4': 1651671333296871190, 'n5': 1651671333315286388}
curr time
1651671333315390199

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333314115843, 'n2': 1651671333295307934, 'n3': 1651671333315584800, 'n4': 1651671333296871190, 'n5': 1651671333315286388}
curr time
1651671333315629562

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333314115843, 'n2': 1651671333295307934, 'n3': 1651671333315584800, 'n4': 1651671333315829706, 'n5': 1651671333315286388}
curr time
1651671333315868656

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 269, "type": "AppendEntries", "term": 47, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 270, "type": "AppendEntries", "term": 47, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 271, "type": "AppendEntries", "term": 47, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 272, "type": "AppendEntries", "term": 47, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671333314115843, 'n2': 1651671333317000075, 'n3': 1651671333315584800, 'n4': 1651671333315829706, 'n5': 1651671333315286388}
curr time
1651671333317058724

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":274,"in_reply_to":271,"type":"AppendEntriesRes","res":true,"term":47,"next":18,"commit":0},"id":1336}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":277,"type":"RequestVote","term":48,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n4"},"id":1339}
INFO:root:election ended

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
17
 last log term
38

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 273, "in_reply_to": 277, "type": "RequestVoteRes", "term": 48, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671333354574030

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":283,"type":"AppendEntries","term":48,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1349}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 274, "in_reply_to": 283, "type": "AppendEntriesRes", "res": true, "term": 48, "next": 18, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
49

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 275, "type": "RequestVote", "term": 49, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 276, "type": "RequestVote", "term": 49, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 277, "type": "RequestVote", "term": 49, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 278, "type": "RequestVote", "term": 49, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 279, "type": "RequestVote", "term": 49, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":277,"type":"RequestVote","term":49,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1354}
INFO:root:voting for myself
n3
at time
1651671333367335382
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 280, "in_reply_to": 277, "type": "RequestVoteRes", "term": 49, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":402,"in_reply_to":276,"type":"RequestVoteRes","term":47,"res":false},"id":1357}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":148,"in_reply_to":275,"type":"RequestVoteRes","term":35,"res":false},"id":1358}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":285,"in_reply_to":278,"type":"RequestVoteRes","term":49,"res":true},"id":1359}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
49
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333314115843, 'n2': 1651671333367702480, 'n3': 1651671333367332562, 'n4': 1651671333356541842, 'n5': 1651671333315286388}
curr time
1651671333367839438

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":280,"in_reply_to":277,"type":"RequestVoteRes","term":49,"res":true},"id":1360}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":232,"in_reply_to":279,"type":"RequestVoteRes","term":40,"res":false},"id":1361}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
49
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333368096362, 'n2': 1651671333367702480, 'n3': 1651671333367332562, 'n4': 1651671333356541842, 'n5': 1651671333315286388}
curr time
1651671333368179043

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
49
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333368096362, 'n2': 1651671333367702480, 'n3': 1651671333367332562, 'n4': 1651671333368282565, 'n5': 1651671333315286388}
curr time
1651671333368310258

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
49
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333368096362, 'n2': 1651671333367702480, 'n3': 1651671333368450823, 'n4': 1651671333368282565, 'n5': 1651671333315286388}
curr time
1651671333368482579

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":288,"type":"RequestVote","term":50,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n4"},"id":1364}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 281, "type": "AppendEntries", "term": 49, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 282, "type": "AppendEntries", "term": 49, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 283, "type": "AppendEntries", "term": 49, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 18, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 284, "type": "AppendEntries", "term": 49, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
49
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671333368096362, 'n2': 1651671333367702480, 'n3': 1651671333368450823, 'n4': 1651671333368282565, 'n5': 1651671333369765694}
curr time
1651671333369821949

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
prevlog index
17
 last log term
38

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 285, "in_reply_to": 288, "type": "RequestVoteRes", "term": 50, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671333370069858

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":292,"in_reply_to":283,"type":"AppendEntriesRes","res":false,"term":50},"id":1376}
INFO:root:387##########:
node
n3
current term
50
next I
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 17, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 286, "type": "AppendEntries", "term": 50, "prevIndex": 16, "prevTerm": 20, "entries": [[["write", [0, 4]], 38]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":295,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1380}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 287, "in_reply_to": 295, "type": "AppendEntriesRes", "res": true, "term": 50, "next": 18, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":297,"in_reply_to":286,"type":"AppendEntriesRes","res":true,"term":50,"next":19,"commit":0},"id":1383}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":152,"type":"RequestVote","term":36,"prevLogIndex":1,"lastLogTerm":33,"candidateId":"n1"},"id":1386}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 288, "in_reply_to": 152, "type": "RequestVoteRes", "term": 50, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671333382211447

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 289, "type": "AppendEntries", "term": 50, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 290, "type": "AppendEntries", "term": 50, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-50:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":407,"type":"RequestVote","term":48,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1398}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 291, "in_reply_to": 407, "type": "RequestVoteRes", "term": 50, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651671333391971824

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 292, "type": "AppendEntries", "term": 50, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 293, "type": "AppendEntries", "term": 50, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-53:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
51

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 294, "type": "RequestVote", "term": 51, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 295, "type": "RequestVote", "term": 51, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 296, "type": "RequestVote", "term": 51, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 297, "type": "RequestVote", "term": 51, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":296,"type":"RequestVote","term":51,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1410}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 298, "type": "RequestVote", "term": 51, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
INFO:root:voting for myself
n3
at time
1651671333395645334
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 299, "in_reply_to": 296, "type": "RequestVoteRes", "term": 51, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":157,"in_reply_to":294,"type":"RequestVoteRes","term":36,"res":false},"id":1413}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":411,"in_reply_to":295,"type":"RequestVoteRes","term":48,"res":false},"id":1414}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":300,"in_reply_to":297,"type":"RequestVoteRes","term":50,"res":false},"id":1415}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":299,"in_reply_to":296,"type":"RequestVoteRes","term":51,"res":true},"id":1416}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
51
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333396235747, 'n2': 1651671333391847623, 'n3': 1651671333395641995, 'n4': 1651671333372577812, 'n5': 1651671333369765694}
curr time
1651671333396403867

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":236,"in_reply_to":298,"type":"RequestVoteRes","term":40,"res":false},"id":1417}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
51
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333396235747, 'n2': 1651671333396691779, 'n3': 1651671333395641995, 'n4': 1651671333372577812, 'n5': 1651671333369765694}
curr time
1651671333396735578

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
51
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333396235747, 'n2': 1651671333396691779, 'n3': 1651671333395641995, 'n4': 1651671333396880749, 'n5': 1651671333369765694}
curr time
1651671333396924145

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
51
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333396235747, 'n2': 1651671333396691779, 'n3': 1651671333397048749, 'n4': 1651671333396880749, 'n5': 1651671333369765694}
curr time
1651671333397071883

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
51
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333396235747, 'n2': 1651671333396691779, 'n3': 1651671333397048749, 'n4': 1651671333396880749, 'n5': 1651671333397187254}
curr time
1651671333397208231

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":414,"type":"RequestVote","term":49,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1420}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 300, "in_reply_to": 414, "type": "RequestVoteRes", "term": 51, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333447201361

INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
52

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 301, "type": "RequestVote", "term": 52, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 302, "type": "RequestVote", "term": 52, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 303, "type": "RequestVote", "term": 52, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 304, "type": "RequestVote", "term": 52, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 305, "type": "RequestVote", "term": 52, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":303,"type":"RequestVote","term":52,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1430}
INFO:root:voting for myself
n3
at time
1651671333455848303
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 306, "in_reply_to": 303, "type": "RequestVoteRes", "term": 52, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":159,"in_reply_to":301,"type":"RequestVoteRes","term":36,"res":false},"id":1433}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
52
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333456259036, 'n2': 1651671333447066563, 'n3': 1651671333455843970, 'n4': 1651671333396880749, 'n5': 1651671333397187254}
curr time
1651671333456315648

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":418,"in_reply_to":302,"type":"RequestVoteRes","term":49,"res":false},"id":1434}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":306,"in_reply_to":303,"type":"RequestVoteRes","term":52,"res":true},"id":1435}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":302,"in_reply_to":304,"type":"RequestVoteRes","term":50,"res":false},"id":1436}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
52
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333456259036, 'n2': 1651671333456641072, 'n3': 1651671333455843970, 'n4': 1651671333396880749, 'n5': 1651671333397187254}
curr time
1651671333456766700

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":238,"in_reply_to":305,"type":"RequestVoteRes","term":40,"res":false},"id":1437}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
52
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333456259036, 'n2': 1651671333456641072, 'n3': 1651671333457102820, 'n4': 1651671333396880749, 'n5': 1651671333397187254}
curr time
1651671333457134200

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
52
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333456259036, 'n2': 1651671333456641072, 'n3': 1651671333457102820, 'n4': 1651671333457284192, 'n5': 1651671333397187254}
curr time
1651671333457311861

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
52
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333456259036, 'n2': 1651671333456641072, 'n3': 1651671333457102820, 'n4': 1651671333457284192, 'n5': 1651671333457406358}
curr time
1651671333457432922

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":305,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1440}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 307, "in_reply_to": 305, "type": "AppendEntriesRes", "res": false, "term": 52}}
INFO:root:msg term
50
current term
52
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
53

INFO:root:Requesting new Vote

INFO:root:sending HB

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 308, "type": "RequestVote", "term": 53, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 309, "type": "RequestVote", "term": 53, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 310, "type": "AppendEntries", "term": 53, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 311, "type": "RequestVote", "term": 53, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 312, "type": "AppendEntries", "term": 53, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 313, "type": "RequestVote", "term": 53, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":160,"in_reply_to":308,"type":"RequestVoteRes","term":36,"res":false},"id":1446}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-60:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":311,"type":"RequestVote","term":53,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1447}
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
INFO:root:Got a response to the vote Request #475

    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 314, "type": "RequestVote", "term": 53, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":419,"in_reply_to":309,"type":"RequestVoteRes","term":49,"res":false},"id":1448}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
53
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671333475445823, 'n2': 1651671333456641072, 'n3': 1651671333457102820, 'n4': 1651671333461689915, 'n5': 1651671333457406358}
curr time
1651671333477564160

    heartbeat(dest)
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":307,"in_reply_to":313,"type":"RequestVoteRes","term":50,"res":false},"id":1451}
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":239,"in_reply_to":314,"type":"RequestVoteRes","term":40,"res":false},"id":1453}
    prevTerm=log[nextIndex[dest]-1][1]
INFO:root:voting for myself
n3
at time
1651671333481046601
nr votes
1

IndexError: list index out of range
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 315, "in_reply_to": 311, "type": "RequestVoteRes", "term": 53, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
53
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333475445823, 'n2': 1651671333482366080, 'n3': 1651671333481039616, 'n4': 1651671333461689915, 'n5': 1651671333457406358}
curr time
1651671333482495791

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
53
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333475445823, 'n2': 1651671333482366080, 'n3': 1651671333481039616, 'n4': 1651671333482839933, 'n5': 1651671333457406358}
curr time
1651671333482932207

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
53
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333475445823, 'n2': 1651671333482366080, 'n3': 1651671333481039616, 'n4': 1651671333482839933, 'n5': 1651671333483222657}
curr time
1651671333483309561

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":315,"in_reply_to":311,"type":"RequestVoteRes","term":53,"res":true},"id":1454}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
53
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333475445823, 'n2': 1651671333482366080, 'n3': 1651671333484017496, 'n4': 1651671333482839933, 'n5': 1651671333483222657}
curr time
1651671333484109510

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":310,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1457}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 316, "in_reply_to": 310, "type": "AppendEntriesRes", "res": false, "term": 53}}
INFO:root:msg term
50
current term
53
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
54

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 317, "type": "RequestVote", "term": 54, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 318, "type": "RequestVote", "term": 54, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 319, "type": "RequestVote", "term": 54, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 320, "type": "RequestVote", "term": 54, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 321, "type": "RequestVote", "term": 54, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":319,"type":"RequestVote","term":54,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1462}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":161,"in_reply_to":317,"type":"RequestVoteRes","term":36,"res":false},"id":1465}
INFO:root:voting for myself
n3
at time
1651671333529841839
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":420,"in_reply_to":318,"type":"RequestVoteRes","term":49,"res":false},"id":1466}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 322, "in_reply_to": 319, "type": "RequestVoteRes", "term": 54, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":312,"in_reply_to":320,"type":"RequestVoteRes","term":50,"res":false},"id":1467}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":240,"in_reply_to":321,"type":"RequestVoteRes","term":40,"res":false},"id":1468}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":322,"in_reply_to":319,"type":"RequestVoteRes","term":54,"res":true},"id":1469}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
54
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333530927511, 'n2': 1651671333482366080, 'n3': 1651671333529837314, 'n4': 1651671333525911208, 'n5': 1651671333483222657}
curr time
1651671333531002834

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
54
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333530927511, 'n2': 1651671333531217263, 'n3': 1651671333529837314, 'n4': 1651671333525911208, 'n5': 1651671333483222657}
curr time
1651671333531272657

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
54
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333530927511, 'n2': 1651671333531217263, 'n3': 1651671333529837314, 'n4': 1651671333531452846, 'n5': 1651671333483222657}
curr time
1651671333531503596

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
54
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333530927511, 'n2': 1651671333531217263, 'n3': 1651671333529837314, 'n4': 1651671333531452846, 'n5': 1651671333531667368}
curr time
1651671333531703696

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
54
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333530927511, 'n2': 1651671333531217263, 'n3': 1651671333531798394, 'n4': 1651671333531452846, 'n5': 1651671333531667368}
curr time
1651671333531824071

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":423,"type":"RequestVote","term":50,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1472}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 323, "in_reply_to": 423, "type": "RequestVoteRes", "term": 54, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333542870568

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
55

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 324, "type": "RequestVote", "term": 55, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 325, "type": "RequestVote", "term": 55, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 326, "type": "RequestVote", "term": 55, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 327, "type": "RequestVote", "term": 55, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 328, "type": "RequestVote", "term": 55, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":326,"type":"RequestVote","term":55,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1482}
INFO:root:voting for myself
n3
at time
1651671333544455244
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":163,"in_reply_to":324,"type":"RequestVoteRes","term":36,"res":false},"id":1485}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 329, "in_reply_to": 326, "type": "RequestVoteRes", "term": 55, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":314,"in_reply_to":327,"type":"RequestVoteRes","term":50,"res":false},"id":1486}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":427,"in_reply_to":325,"type":"RequestVoteRes","term":50,"res":false},"id":1487}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333544837424, 'n2': 1651671333542704330, 'n3': 1651671333544452654, 'n4': 1651671333531452846, 'n5': 1651671333531667368}
curr time
1651671333544955740

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":242,"in_reply_to":328,"type":"RequestVoteRes","term":40,"res":false},"id":1488}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":329,"in_reply_to":326,"type":"RequestVoteRes","term":55,"res":true},"id":1489}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333544837424, 'n2': 1651671333542704330, 'n3': 1651671333544452654, 'n4': 1651671333545184329, 'n5': 1651671333531667368}
curr time
1651671333545310593

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333544837424, 'n2': 1651671333545480174, 'n3': 1651671333544452654, 'n4': 1651671333545184329, 'n5': 1651671333531667368}
curr time
1651671333545517152

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333544837424, 'n2': 1651671333545480174, 'n3': 1651671333544452654, 'n4': 1651671333545184329, 'n5': 1651671333545662789}
curr time
1651671333545697606

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333544837424, 'n2': 1651671333545480174, 'n3': 1651671333545815352, 'n4': 1651671333545184329, 'n5': 1651671333545662789}
curr time
1651671333545852530

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":430,"type":"RequestVote","term":51,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1492}
INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 330, "in_reply_to": 430, "type": "RequestVoteRes", "term": 55, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333546179490

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":318,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1502}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 331, "in_reply_to": 318, "type": "AppendEntriesRes", "res": false, "term": 55}}
INFO:root:msg term
50
current term
55
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 332, "type": "AppendEntries", "term": 55, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 333, "type": "AppendEntries", "term": 55, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-58:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":246,"type":"RequestVote","term":41,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":1510}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 334, "in_reply_to": 246, "type": "RequestVoteRes", "term": 55, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333573030848

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 335, "type": "AppendEntries", "term": 55, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 336, "type": "AppendEntries", "term": 55, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-63:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":323,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1522}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 337, "in_reply_to": 323, "type": "AppendEntriesRes", "res": false, "term": 55}}
INFO:root:msg term
50
current term
55
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":327,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1528}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 338, "in_reply_to": 327, "type": "AppendEntriesRes", "res": false, "term": 55}}
INFO:root:msg term
50
current term
55
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":331,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1534}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 339, "in_reply_to": 331, "type": "AppendEntriesRes", "res": false, "term": 55}}
INFO:root:msg term
50
current term
55
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
56

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 340, "type": "RequestVote", "term": 56, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 341, "type": "RequestVote", "term": 56, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 342, "type": "RequestVote", "term": 56, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 343, "type": "RequestVote", "term": 56, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 344, "type": "RequestVote", "term": 56, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":342,"type":"RequestVote","term":56,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1540}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":439,"in_reply_to":341,"type":"RequestVoteRes","term":51,"res":false},"id":1543}
INFO:root:voting for myself
n3
at time
1651671333595250994
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":166,"in_reply_to":340,"type":"RequestVoteRes","term":36,"res":false},"id":1544}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 345, "in_reply_to": 342, "type": "RequestVoteRes", "term": 56, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":333,"in_reply_to":343,"type":"RequestVoteRes","term":50,"res":false},"id":1545}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":250,"in_reply_to":344,"type":"RequestVoteRes","term":41,"res":false},"id":1546}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
56
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333544837424, 'n2': 1651671333595575631, 'n3': 1651671333595247909, 'n4': 1651671333592082662, 'n5': 1651671333572931247}
curr time
1651671333595702341

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":345,"in_reply_to":342,"type":"RequestVoteRes","term":56,"res":true},"id":1547}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
56
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333595978975, 'n2': 1651671333595575631, 'n3': 1651671333595247909, 'n4': 1651671333592082662, 'n5': 1651671333572931247}
curr time
1651671333596012656

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
56
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333595978975, 'n2': 1651671333595575631, 'n3': 1651671333595247909, 'n4': 1651671333596120552, 'n5': 1651671333572931247}
curr time
1651671333596154269

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
56
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333595978975, 'n2': 1651671333595575631, 'n3': 1651671333595247909, 'n4': 1651671333596120552, 'n5': 1651671333596268300}
curr time
1651671333596300698

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
56
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333595978975, 'n2': 1651671333595575631, 'n3': 1651671333596413567, 'n4': 1651671333596120552, 'n5': 1651671333596268300}
curr time
1651671333596445808

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":442,"type":"RequestVote","term":52,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1550}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 346, "in_reply_to": 442, "type": "RequestVoteRes", "term": 56, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333603083585

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":254,"type":"RequestVote","term":42,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":1560}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 347, "in_reply_to": 254, "type": "RequestVoteRes", "term": 56, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333619350814

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":171,"type":"RequestVote","term":37,"prevLogIndex":1,"lastLogTerm":33,"candidateId":"n1"},"id":1570}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 348, "in_reply_to": 171, "type": "RequestVoteRes", "term": 56, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333628876276

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":339,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1580}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 349, "in_reply_to": 339, "type": "AppendEntriesRes", "res": false, "term": 56}}
INFO:root:msg term
50
current term
56
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":343,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1586}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 350, "in_reply_to": 343, "type": "AppendEntriesRes", "res": false, "term": 56}}
INFO:root:msg term
50
current term
56
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 351, "type": "AppendEntries", "term": 56, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 352, "type": "AppendEntries", "term": 56, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-56:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":452,"type":"RequestVote","term":53,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1594}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 353, "in_reply_to": 452, "type": "RequestVoteRes", "term": 56, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333698825230

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
57

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 354, "type": "RequestVote", "term": 57, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 355, "type": "RequestVote", "term": 57, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 356, "type": "RequestVote", "term": 57, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 357, "type": "RequestVote", "term": 57, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 358, "type": "RequestVote", "term": 57, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":356,"type":"RequestVote","term":57,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1604}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":176,"in_reply_to":354,"type":"RequestVoteRes","term":37,"res":false},"id":1607}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":456,"in_reply_to":355,"type":"RequestVoteRes","term":53,"res":false},"id":1608}
INFO:root:voting for myself
n3
at time
1651671333706807152
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 359, "in_reply_to": 356, "type": "RequestVoteRes", "term": 57, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333707055416, 'n2': 1651671333698658768, 'n3': 1651671333706802719, 'n4': 1651671333639391917, 'n5': 1651671333619197444}
curr time
1651671333707111002

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":346,"in_reply_to":357,"type":"RequestVoteRes","term":50,"res":false},"id":1609}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333707055416, 'n2': 1651671333707296855, 'n3': 1651671333706802719, 'n4': 1651671333639391917, 'n5': 1651671333619197444}
curr time
1651671333707432170

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":260,"in_reply_to":358,"type":"RequestVoteRes","term":42,"res":false},"id":1610}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":359,"in_reply_to":356,"type":"RequestVoteRes","term":57,"res":true},"id":1611}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333707055416, 'n2': 1651671333707296855, 'n3': 1651671333706802719, 'n4': 1651671333707893025, 'n5': 1651671333619197444}
curr time
1651671333708022386

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333707055416, 'n2': 1651671333707296855, 'n3': 1651671333706802719, 'n4': 1651671333707893025, 'n5': 1651671333708185090}
curr time
1651671333708238411

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333707055416, 'n2': 1651671333707296855, 'n3': 1651671333708391581, 'n4': 1651671333707893025, 'n5': 1651671333708185090}
curr time
1651671333708445513

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":349,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1614}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 360, "in_reply_to": 349, "type": "AppendEntriesRes", "res": false, "term": 57}}
INFO:root:msg term
50
current term
57
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":179,"type":"RequestVote","term":38,"prevLogIndex":1,"lastLogTerm":33,"candidateId":"n1"},"id":1620}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 361, "in_reply_to": 179, "type": "RequestVoteRes", "term": 57, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333719932414

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":461,"type":"RequestVote","term":54,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1630}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 362, "in_reply_to": 461, "type": "RequestVoteRes", "term": 57, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333729039013

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 363, "type": "AppendEntries", "term": 57, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 364, "type": "AppendEntries", "term": 57, "prevIndex": 17, "prevTerm": 38, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 18, 'n2': 18, 'n3': 18, 'n4': 19, 'n5': 18}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]

Exception in thread Thread-67:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
58

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 365, "type": "RequestVote", "term": 58, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 366, "type": "RequestVote", "term": 58, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 367, "type": "RequestVote", "term": 58, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 368, "type": "RequestVote", "term": 58, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 369, "type": "RequestVote", "term": 58, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":367,"type":"RequestVote","term":58,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1642}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":465,"in_reply_to":366,"type":"RequestVoteRes","term":54,"res":false},"id":1645}
INFO:root:voting for myself
n3
at time
1651671333752646856
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":184,"in_reply_to":365,"type":"RequestVoteRes","term":38,"res":false},"id":1646}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 370, "in_reply_to": 367, "type": "RequestVoteRes", "term": 58, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":353,"in_reply_to":368,"type":"RequestVoteRes","term":50,"res":false},"id":1647}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":263,"in_reply_to":369,"type":"RequestVoteRes","term":42,"res":false},"id":1648}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
58
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333719766597, 'n2': 1651671333753172018, 'n3': 1651671333752642750, 'n4': 1651671333710952786, 'n5': 1651671333708185090}
curr time
1651671333753330482

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":370,"in_reply_to":367,"type":"RequestVoteRes","term":58,"res":true},"id":1649}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
58
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333753686862, 'n2': 1651671333753172018, 'n3': 1651671333752642750, 'n4': 1651671333710952786, 'n5': 1651671333708185090}
curr time
1651671333753726670

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
58
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333753686862, 'n2': 1651671333753172018, 'n3': 1651671333752642750, 'n4': 1651671333753841863, 'n5': 1651671333708185090}
curr time
1651671333753872148

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
58
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333753686862, 'n2': 1651671333753172018, 'n3': 1651671333752642750, 'n4': 1651671333753841863, 'n5': 1651671333753975265}
curr time
1651671333754004548

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
58
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333753686862, 'n2': 1651671333753172018, 'n3': 1651671333754106061, 'n4': 1651671333753841863, 'n5': 1651671333753975265}
curr time
1651671333754134879

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":356,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1652}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 371, "in_reply_to": 356, "type": "AppendEntriesRes", "res": false, "term": 58}}
INFO:root:msg term
50
current term
58
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":360,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1658}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 372, "in_reply_to": 360, "type": "AppendEntriesRes", "res": false, "term": 58}}
INFO:root:msg term
50
current term
58
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
59

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 373, "type": "RequestVote", "term": 59, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 374, "type": "RequestVote", "term": 59, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 375, "type": "RequestVote", "term": 59, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 376, "type": "RequestVote", "term": 59, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 377, "type": "RequestVote", "term": 59, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":375,"type":"RequestVote","term":59,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1664}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":185,"in_reply_to":373,"type":"RequestVoteRes","term":38,"res":false},"id":1667}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":468,"in_reply_to":374,"type":"RequestVoteRes","term":54,"res":false},"id":1668}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":264,"in_reply_to":377,"type":"RequestVoteRes","term":42,"res":false},"id":1669}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":362,"in_reply_to":376,"type":"RequestVoteRes","term":50,"res":false},"id":1670}
INFO:root:voting for myself
n3
at time
1651671333815439409
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 378, "in_reply_to": 375, "type": "RequestVoteRes", "term": 59, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333815926206, 'n2': 1651671333753172018, 'n3': 1651671333815406856, 'n4': 1651671333806035991, 'n5': 1651671333753975265}
curr time
1651671333816045248

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333815926206, 'n2': 1651671333816365911, 'n3': 1651671333815406856, 'n4': 1651671333806035991, 'n5': 1651671333753975265}
curr time
1651671333816446292

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333815926206, 'n2': 1651671333816365911, 'n3': 1651671333815406856, 'n4': 1651671333806035991, 'n5': 1651671333816764423}
curr time
1651671333816886357

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333815926206, 'n2': 1651671333816365911, 'n3': 1651671333815406856, 'n4': 1651671333817340718, 'n5': 1651671333816764423}
curr time
1651671333817480060

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":378,"in_reply_to":375,"type":"RequestVoteRes","term":59,"res":true},"id":1671}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333815926206, 'n2': 1651671333816365911, 'n3': 1651671333818289224, 'n4': 1651671333817340718, 'n5': 1651671333816764423}
curr time
1651671333818461733

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
60

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 379, "type": "RequestVote", "term": 60, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 380, "type": "RequestVote", "term": 60, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 381, "type": "RequestVote", "term": 60, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 382, "type": "RequestVote", "term": 60, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 383, "type": "RequestVote", "term": 60, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
61

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 384, "type": "RequestVote", "term": 61, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 385, "type": "RequestVote", "term": 61, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 386, "type": "RequestVote", "term": 61, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":381,"type":"RequestVote","term":60,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1674}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 387, "type": "RequestVote", "term": 61, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 388, "type": "RequestVote", "term": 61, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":186,"in_reply_to":379,"type":"RequestVoteRes","term":38,"res":false},"id":1677}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 389, "in_reply_to": 381, "type": "RequestVoteRes", "term": 61, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651671333826025056

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":363,"in_reply_to":382,"type":"RequestVoteRes","term":50,"res":false},"id":1679}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671333826301363, 'n2': 1651671333816365911, 'n3': 1651671333824624066, 'n4': 1651671333817340718, 'n5': 1651671333816764423}
curr time
1651671333826468681

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":469,"in_reply_to":380,"type":"RequestVoteRes","term":54,"res":false},"id":1681}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":265,"in_reply_to":383,"type":"RequestVoteRes","term":42,"res":false},"id":1682}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":386,"type":"RequestVote","term":61,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1683}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671333826301363, 'n2': 1651671333816365911, 'n3': 1651671333824624066, 'n4': 1651671333828013192, 'n5': 1651671333816764423}
curr time
1651671333828451029

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":187,"in_reply_to":384,"type":"RequestVoteRes","term":38,"res":false},"id":1685}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":470,"in_reply_to":385,"type":"RequestVoteRes","term":54,"res":false},"id":1686}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":266,"in_reply_to":388,"type":"RequestVoteRes","term":42,"res":false},"id":1688}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671333826301363, 'n2': 1651671333829448683, 'n3': 1651671333824624066, 'n4': 1651671333828013192, 'n5': 1651671333816764423}
curr time
1651671333829808681

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":389,"in_reply_to":381,"type":"RequestVoteRes","term":61,"res":false},"id":1689}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":364,"in_reply_to":387,"type":"RequestVoteRes","term":50,"res":false},"id":1690}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671333826301363, 'n2': 1651671333829448683, 'n3': 1651671333824624066, 'n4': 1651671333828013192, 'n5': 1651671333830610648}
curr time
1651671333830914870

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n3
at time
1651671333831175210
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 390, "in_reply_to": 386, "type": "RequestVoteRes", "term": 61, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333829448683, 'n3': 1651671333831171275, 'n4': 1651671333828013192, 'n5': 1651671333830610648}
curr time
1651671333831500126

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333831734390, 'n3': 1651671333831171275, 'n4': 1651671333828013192, 'n5': 1651671333830610648}
curr time
1651671333831789515

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333831734390, 'n3': 1651671333831171275, 'n4': 1651671333828013192, 'n5': 1651671333831965970}
curr time
1651671333832020084

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333831734390, 'n3': 1651671333832327005, 'n4': 1651671333828013192, 'n5': 1651671333831965970}
curr time
1651671333832427478

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333831734390, 'n3': 1651671333832327005, 'n4': 1651671333832666826, 'n5': 1651671333831965970}
curr time
1651671333832712938

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":390,"in_reply_to":386,"type":"RequestVoteRes","term":61,"res":true},"id":1691}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
61
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333831734390, 'n3': 1651671333833089550, 'n4': 1651671333832666826, 'n5': 1651671333831965970}
curr time
1651671333833140468

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":367,"type":"AppendEntries","term":50,"prevIndex":17,"prevTerm":38,"entries":[],"commit":0},"id":1694}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 391, "in_reply_to": 367, "type": "AppendEntriesRes", "res": false, "term": 61}}
INFO:root:msg term
50
current term
61
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
msg entries
[]

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":474,"type":"RequestVote","term":55,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1700}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 392, "in_reply_to": 474, "type": "RequestVoteRes", "term": 61, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333883386726

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":480,"type":"RequestVote","term":56,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1710}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 393, "in_reply_to": 480, "type": "RequestVoteRes", "term": 61, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333888291229

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
62

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 394, "type": "RequestVote", "term": 62, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 395, "type": "RequestVote", "term": 62, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 396, "type": "RequestVote", "term": 62, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 397, "type": "RequestVote", "term": 62, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 398, "type": "RequestVote", "term": 62, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":396,"type":"RequestVote","term":62,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1720}
INFO:root:voting for myself
n3
at time
1651671333908956108
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 399, "in_reply_to": 396, "type": "RequestVoteRes", "term": 62, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":484,"in_reply_to":395,"type":"RequestVoteRes","term":56,"res":false},"id":1723}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":190,"in_reply_to":394,"type":"RequestVoteRes","term":38,"res":false},"id":1724}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":399,"in_reply_to":396,"type":"RequestVoteRes","term":62,"res":true},"id":1725}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
62
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333831412154, 'n2': 1651671333909403339, 'n3': 1651671333908952858, 'n4': 1651671333872964456, 'n5': 1651671333831965970}
curr time
1651671333909541652

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":269,"in_reply_to":398,"type":"RequestVoteRes","term":42,"res":false},"id":1726}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":371,"in_reply_to":397,"type":"RequestVoteRes","term":50,"res":false},"id":1727}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
62
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333909835375, 'n2': 1651671333909403339, 'n3': 1651671333908952858, 'n4': 1651671333872964456, 'n5': 1651671333831965970}
curr time
1651671333909920571

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
62
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333909835375, 'n2': 1651671333909403339, 'n3': 1651671333910018332, 'n4': 1651671333872964456, 'n5': 1651671333831965970}
curr time
1651671333910042609

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
62
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333909835375, 'n2': 1651671333909403339, 'n3': 1651671333910018332, 'n4': 1651671333872964456, 'n5': 1651671333910164703}
curr time
1651671333910187033

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
62
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333909835375, 'n2': 1651671333909403339, 'n3': 1651671333910018332, 'n4': 1651671333910264342, 'n5': 1651671333910164703}
curr time
1651671333910286320

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":272,"type":"RequestVote","term":43,"prevLogIndex":10,"lastLogTerm":20,"candidateId":"n5"},"id":1730}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 400, "in_reply_to": 272, "type": "RequestVoteRes", "term": 62, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333919641933

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
63

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 401, "type": "RequestVote", "term": 63, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 402, "type": "RequestVote", "term": 63, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 403, "type": "RequestVote", "term": 63, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 404, "type": "RequestVote", "term": 63, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 405, "type": "RequestVote", "term": 63, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":403,"type":"RequestVote","term":63,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1740}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":192,"in_reply_to":401,"type":"RequestVoteRes","term":38,"res":false},"id":1743}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":486,"in_reply_to":402,"type":"RequestVoteRes","term":56,"res":false},"id":1744}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":373,"in_reply_to":404,"type":"RequestVoteRes","term":50,"res":false},"id":1745}
INFO:root:voting for myself
n3
at time
1651671333937854172
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":276,"in_reply_to":405,"type":"RequestVoteRes","term":43,"res":false},"id":1746}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 406, "in_reply_to": 403, "type": "RequestVoteRes", "term": 63, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
63
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333939120844, 'n2': 1651671333909403339, 'n3': 1651671333937845938, 'n4': 1651671333910264342, 'n5': 1651671333919475595}
curr time
1651671333939231514

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
63
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333939120844, 'n2': 1651671333939618682, 'n3': 1651671333937845938, 'n4': 1651671333910264342, 'n5': 1651671333919475595}
curr time
1651671333939701323

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
63
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333939120844, 'n2': 1651671333939618682, 'n3': 1651671333937845938, 'n4': 1651671333939969650, 'n5': 1651671333919475595}
curr time
1651671333940043948

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
63
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333939120844, 'n2': 1651671333939618682, 'n3': 1651671333937845938, 'n4': 1651671333939969650, 'n5': 1651671333940297267}
curr time
1651671333940372640

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":406,"in_reply_to":403,"type":"RequestVoteRes","term":63,"res":true},"id":1747}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
63
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333939120844, 'n2': 1651671333939618682, 'n3': 1651671333940984218, 'n4': 1651671333939969650, 'n5': 1651671333940297267}
curr time
1651671333941146865

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":489,"type":"RequestVote","term":57,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1750}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 407, "in_reply_to": 489, "type": "RequestVoteRes", "term": 63, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333945217606

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
64

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 408, "type": "RequestVote", "term": 64, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 409, "type": "RequestVote", "term": 64, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 410, "type": "RequestVote", "term": 64, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 411, "type": "RequestVote", "term": 64, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 412, "type": "RequestVote", "term": 64, "prevLogIndex": 17, "lastLogTerm": 38, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":410,"type":"RequestVote","term":64,"prevLogIndex":17,"lastLogTerm":38,"candidateId":"n3"},"id":1760}
INFO:root:voting for myself
n3
at time
1651671333956981638
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 413, "in_reply_to": 410, "type": "RequestVoteRes", "term": 64, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":194,"in_reply_to":408,"type":"RequestVoteRes","term":38,"res":false},"id":1763}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":493,"in_reply_to":409,"type":"RequestVoteRes","term":57,"res":false},"id":1764}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":375,"in_reply_to":411,"type":"RequestVoteRes","term":50,"res":false},"id":1765}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":413,"in_reply_to":410,"type":"RequestVoteRes","term":64,"res":true},"id":1767}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":278,"in_reply_to":412,"type":"RequestVoteRes","term":43,"res":false},"id":1766}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
64
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333959065175, 'n2': 1651671333944830539, 'n3': 1651671333956969894, 'n4': 1651671333939969650, 'n5': 1651671333940297267}
curr time
1651671333959555167

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
64
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333959065175, 'n2': 1651671333960144816, 'n3': 1651671333956969894, 'n4': 1651671333939969650, 'n5': 1651671333940297267}
curr time
1651671333960322483

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
64
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333959065175, 'n2': 1651671333960144816, 'n3': 1651671333956969894, 'n4': 1651671333960829004, 'n5': 1651671333940297267}
curr time
1651671333960959342

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
64
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671333959065175, 'n2': 1651671333960144816, 'n3': 1651671333961416101, 'n4': 1651671333960829004, 'n5': 1651671333940297267}
curr time
1651671333961545256

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
64
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['pass', None], 0], [['pass', None], 0], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [1, 1]], 14], [['cas', [1, [2, 0]]], 20], [['write', [0, 4]], 38]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671333959065175, 'n2': 1651671333960144816, 'n3': 1651671333961416101, 'n4': 1651671333960829004, 'n5': 1651671333962246353}
curr time
1651671333962374200

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":496,"type":"RequestVote","term":58,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1770}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 414, "in_reply_to": 496, "type": "RequestVoteRes", "term": 64, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333964020625

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":501,"type":"RequestVote","term":59,"prevLogIndex":3,"lastLogTerm":20,"candidateId":"n2"},"id":1778}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 415, "in_reply_to": 501, "type": "RequestVoteRes", "term": 64, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651671333965536181


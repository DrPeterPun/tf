DEBUG:root:received {"dest":"n2","body":{"type":"init","node_id":"n2","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c0","id":0}
INFO:root:node n2 initialized
DEBUG:root:sending {"dest": "c0", "src": "n2", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:node
n1
current time
1651674396203903896
node_time
1651674396203889911
dif
13985
True

INFO:root:LEADER IS DEAD bit of a aldrabation tho 
n1

INFO:root:lead is dead

INFO:root:starting new elections, new term
1
sec, min max hb
0.4028179382018172
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 2, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 3, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 4, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 5, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":3,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":8}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 6, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:voting for myself
n2
at time
1651674396213964014
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 7, "in_reply_to": 3, "type": "RequestVoteRes", "term": 1, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":2,"in_reply_to":5,"type":"RequestVoteRes","term":1,"res":true},"id":12}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674396203889911, 'n2': 1651674396213955326, 'n3': 1651674396203889911, 'n4': 1651674396219329481, 'n5': 1651674396203889911}
curr time
1651674396219587579

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":7,"in_reply_to":3,"type":"RequestVoteRes","term":1,"res":true},"id":14}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674396203889911, 'n2': 1651674396221162299, 'n3': 1651674396203889911, 'n4': 1651674396219329481, 'n5': 1651674396203889911}
curr time
1651674396221356446

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":2,"in_reply_to":4,"type":"RequestVoteRes","term":1,"res":true},"id":16}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":2,"in_reply_to":6,"type":"RequestVoteRes","term":1,"res":true},"id":17}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674396203889911, 'n2': 1651674396221162299, 'n3': 1651674396226515104, 'n4': 1651674396219329481, 'n5': 1651674396203889911}
curr time
1651674396226829889

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 8, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 9, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 10, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 11, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674396203889911, 'n2': 1651674396221162299, 'n3': 1651674396226515104, 'n4': 1651674396219329481, 'n5': 1651674396230523308}
curr time
1651674396230759311

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":3,"in_reply_to":9,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":22}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":3,"in_reply_to":10,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":23}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":3,"in_reply_to":11,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":24}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":2,"type":"AppendEntries","term":0,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":26}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 12, "in_reply_to": 2, "type": "AppendEntriesRes", "res": false, "term": 1}}
INFO:root:msg term
0
current term
1
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":6,"in_reply_to":2,"type":"RequestVoteRes","term":1,"res":true},"id":30}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":7,"in_reply_to":8,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":31}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674396254454180, 'n2': 1651674396221162299, 'n3': 1651674396235578352, 'n4': 1651674396237407258, 'n5': 1651674396237540062}
curr time
1651674396256394844

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":8,"type":"AppendEntries","term":1,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":36}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 13, "in_reply_to": 8, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 14, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 15, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 16, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 17, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":12,"in_reply_to":14,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":48}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":6,"in_reply_to":15,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":49}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":6,"in_reply_to":17,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":50}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":6,"in_reply_to":16,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":51}
DEBUG:root:received {"dest":"n2","body":{"key":1,"from":1,"to":2,"type":"cas","msg_id":1},"src":"c10","id":52}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 18, "type": "AppendEntries", "term": 1, "entries": [[["pass", null], 0], [["cas", [1, [1, 2]]], 1]], "prevIndex": 0, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 19, "type": "AppendEntries", "term": 1, "entries": [[["cas", [1, [1, 2]]], 1]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 20, "type": "AppendEntries", "term": 1, "entries": [[["cas", [1, [1, 2]]], 1]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 21, "type": "AppendEntries", "term": 1, "entries": [[["cas", [1, [1, 2]]], 1]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":13,"in_reply_to":18,"type":"AppendEntriesRes","res":true,"term":1,"next":3,"commit":0},"id":57}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":7,"in_reply_to":19,"type":"AppendEntriesRes","res":true,"term":1,"next":3,"commit":0},"id":58}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":7,"in_reply_to":20,"type":"AppendEntriesRes","res":true,"term":1,"next":3,"commit":0},"id":59}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":7,"in_reply_to":21,"type":"AppendEntriesRes","res":true,"term":1,"next":3,"commit":0},"id":60}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":14,"type":"AppendEntries","term":1,"entries":[[["cas",[1,[1,2]]],1],[["cas",[1,[3,0]]],1]],"prevIndex":1,"prevTerm":0,"commit":0},"id":62}
INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1)]
[[['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
1
0
n2
1

INFO:root:commiting command
[['cas', [1, [1, 2]]], 1]

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 22, "in_reply_to": 14, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 5, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 23, "type": "AppendEntries", "term": 1, "prevIndex": 2, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 3, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 24, "type": "AppendEntries", "term": 1, "prevIndex": 2, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 25, "type": "AppendEntries", "term": 1, "prevIndex": 2, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 26, "type": "AppendEntries", "term": 1, "prevIndex": 2, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":18,"in_reply_to":23,"type":"AppendEntriesRes","res":true,"term":1,"next":4,"commit":0},"id":74}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":9,"in_reply_to":25,"type":"AppendEntriesRes","res":true,"term":1,"next":5,"commit":0},"id":75}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":9,"in_reply_to":24,"type":"AppendEntriesRes","res":true,"term":1,"next":5,"commit":0},"id":76}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":9,"in_reply_to":26,"type":"AppendEntriesRes","res":true,"term":1,"next":5,"commit":0},"id":77}
INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":11,"type":"RequestVote","term":2,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n4"},"id":79}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 27, "in_reply_to": 11, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674396473878203

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":12,"type":"RequestVote","term":2,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n3"},"id":89}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 28, "in_reply_to": 12, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":12,"type":"RequestVote","term":2,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n5"},"id":93}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 29, "in_reply_to": 12, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":23,"type":"RequestVote","term":2,"prevLogIndex":3,"lastLogTerm":1,"candidateId":"n1"},"id":106}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
3
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 30, "in_reply_to": 23, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 31, "type": "AppendEntries", "term": 2, "prevIndex": 3, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 32, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 33, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 34, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":28,"in_reply_to":31,"type":"AppendEntriesRes","res":true,"term":2,"next":4,"commit":0},"id":120}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":19,"in_reply_to":32,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":121}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":19,"in_reply_to":33,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":124}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":19,"in_reply_to":34,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":125}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 35, "type": "AppendEntries", "term": 2, "prevIndex": 3, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 36, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 37, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 38, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":30,"in_reply_to":35,"type":"AppendEntriesRes","res":true,"term":2,"next":4,"commit":0},"id":130}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":20,"in_reply_to":36,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":133}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":20,"in_reply_to":37,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":134}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":20,"in_reply_to":38,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":135}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 39, "type": "AppendEntries", "term": 2, "prevIndex": 3, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 40, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 41, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 1, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 42, "type": "AppendEntries", "term": 2, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":31,"in_reply_to":39,"type":"AppendEntriesRes","res":true,"term":2,"next":4,"commit":0},"id":142}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":22,"in_reply_to":40,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":143}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":21,"in_reply_to":41,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":144}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":21,"in_reply_to":42,"type":"AppendEntriesRes","res":true,"term":2,"next":5,"commit":0},"id":145}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":23,"type":"RequestVote","term":3,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n4"},"id":147}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 43, "in_reply_to": 23, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674396727655220

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
4
sec, min max hb
0.3419112130697224
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 44, "type": "RequestVote", "term": 4, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 45, "type": "RequestVote", "term": 4, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 46, "type": "RequestVote", "term": 4, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 47, "type": "RequestVote", "term": 4, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 48, "type": "RequestVote", "term": 4, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":45,"type":"RequestVote","term":4,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n2"},"id":155}
INFO:root:voting for myself
n2
at time
1651674396738063265
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 49, "in_reply_to": 45, "type": "RequestVoteRes", "term": 4, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":25,"type":"RequestVote","term":3,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n3"},"id":159}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":33,"in_reply_to":44,"type":"RequestVoteRes","term":2,"res":false},"id":163}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 50, "in_reply_to": 25, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651674396740245919

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674396740534407, 'n2': 1651674396738051690, 'n3': 1651674396739863785, 'n4': 1651674396726139355, 'n5': 1651674396714638055}
curr time
1651674396740720949

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":29,"in_reply_to":46,"type":"RequestVoteRes","term":4,"res":true},"id":166}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674396740534407, 'n2': 1651674396738051690, 'n3': 1651674396749230223, 'n4': 1651674396726139355, 'n5': 1651674396714638055}
curr time
1651674396749494369

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":25,"type":"RequestVote","term":3,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n5"},"id":170}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":49,"in_reply_to":45,"type":"RequestVoteRes","term":4,"res":true},"id":174}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 51, "in_reply_to": 25, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651674396767561009

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674396740534407, 'n2': 1651674396767886839, 'n3': 1651674396749230223, 'n4': 1651674396726139355, 'n5': 1651674396767004189}
curr time
1651674396768090524

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":29,"in_reply_to":47,"type":"RequestVoteRes","term":3,"res":false},"id":179}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":29,"in_reply_to":48,"type":"RequestVoteRes","term":4,"res":true},"id":180}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":36,"type":"RequestVote","term":3,"prevLogIndex":3,"lastLogTerm":1,"candidateId":"n1"},"id":184}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674396740534407, 'n2': 1651674396767886839, 'n3': 1651674396749230223, 'n4': 1651674396771441994, 'n5': 1651674396767004189}
curr time
1651674396771835827

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
4
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674396740534407, 'n2': 1651674396767886839, 'n3': 1651674396749230223, 'n4': 1651674396771441994, 'n5': 1651674396772446000}
curr time
1651674396772635624

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 52, "type": "AppendEntries", "term": 4, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 53, "type": "AppendEntries", "term": 4, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":32,"type":"RequestVote","term":5,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n5"},"id":192}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 54, "type": "AppendEntries", "term": 4, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 55, "type": "AppendEntries", "term": 4, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":34,"in_reply_to":53,"type":"AppendEntriesRes","res":true,"term":4,"next":5,"commit":0},"id":205}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":33,"in_reply_to":54,"type":"AppendEntriesRes","res":true,"term":4,"next":5,"commit":0},"id":207}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 56, "in_reply_to": 36, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674396790078528

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 57, "in_reply_to": 32, "type": "RequestVoteRes", "term": 5, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674396791000923

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":38,"in_reply_to":55,"type":"AppendEntriesRes","res":false,"term":5},"id":210}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":40,"type":"AppendEntries","term":5,"prevIndex":4,"prevTerm":1,"entries":[],"commit":0},"id":213}
INFO:root:sending HB

INFO:root:387##########:
node
n2
current term
5
next I
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n5

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 58, "type": "AppendEntries", "term": 5, "prevIndex": 3, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1]], "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 60, "in_reply_to": 40, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 5, "commit": 0}}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 59, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 61, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 62, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 63, "type": "AppendEntries", "term": 5, "prevIndex": 3, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":36,"in_reply_to":61,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":225}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":35,"in_reply_to":62,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":226}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":43,"in_reply_to":58,"type":"AppendEntriesRes","res":true,"term":5,"next":6,"commit":0},"id":227}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":44,"in_reply_to":63,"type":"AppendEntriesRes","res":true,"term":5,"next":6,"commit":0},"id":228}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 64, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 65, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 66, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

Exception in thread Thread-13:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":38,"in_reply_to":65,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":234}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":36,"in_reply_to":66,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":235}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":46,"type":"AppendEntries","term":5,"prevIndex":4,"prevTerm":1,"entries":[],"commit":0},"id":237}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 67, "in_reply_to": 46, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 5, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 68, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 69, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 70, "type": "AppendEntries", "term": 5, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

Exception in thread Thread-15:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":38,"in_reply_to":70,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":246}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":40,"in_reply_to":69,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":247}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":50,"type":"AppendEntries","term":5,"prevIndex":4,"prevTerm":1,"entries":[],"commit":0},"id":249}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 71, "in_reply_to": 50, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 5, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
6
sec, min max hb
0.4806906973108094
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 72, "type": "RequestVote", "term": 6, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 73, "type": "RequestVote", "term": 6, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 74, "type": "RequestVote", "term": 6, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 75, "type": "RequestVote", "term": 6, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
7
sec, min max hb
0.39855806211931266
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 77, "type": "RequestVote", "term": 7, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 76, "type": "RequestVote", "term": 6, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 78, "type": "RequestVote", "term": 7, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 79, "type": "RequestVote", "term": 7, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 80, "type": "RequestVote", "term": 7, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 81, "type": "RequestVote", "term": 7, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":73,"type":"RequestVote","term":6,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n2"},"id":256}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 82, "in_reply_to": 73, "type": "RequestVoteRes", "term": 7, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397000206635

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":42,"in_reply_to":74,"type":"RequestVoteRes","term":6,"res":true},"id":262}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":78,"type":"RequestVote","term":7,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n2"},"id":261}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674396789675642, 'n2': 1651674396999808028, 'n3': 1651674397001270247, 'n4': 1651674396912324439, 'n5': 1651674396966612611}
curr time
1651674397001435832

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:voting for myself
n2
at time
1651674397002178068
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 83, "in_reply_to": 78, "type": "RequestVoteRes", "term": 7, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":53,"in_reply_to":76,"type":"RequestVoteRes","term":5,"res":false},"id":264}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674396789675642, 'n2': 1651674397002170280, 'n3': 1651674397001270247, 'n4': 1651674396912324439, 'n5': 1651674397004888525}
curr time
1651674397005143200

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":43,"in_reply_to":72,"type":"RequestVoteRes","term":6,"res":true},"id":265}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":44,"in_reply_to":77,"type":"RequestVoteRes","term":7,"res":true},"id":266}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":44,"type":"RequestVote","term":7,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n3"},"id":268}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":40,"in_reply_to":75,"type":"RequestVoteRes","term":6,"res":true},"id":271}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397009835093, 'n2': 1651674397002170280, 'n3': 1651674397001270247, 'n4': 1651674396912324439, 'n5': 1651674397004888525}
curr time
1651674397010068840

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674397011121546, 'n2': 1651674397002170280, 'n3': 1651674397001270247, 'n4': 1651674396912324439, 'n5': 1651674397004888525}
curr time
1651674397011295268

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 84, "type": "AppendEntries", "term": 7, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 85, "type": "AppendEntries", "term": 7, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 86, "type": "AppendEntries", "term": 7, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 87, "type": "AppendEntries", "term": 7, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":49,"type":"RequestVote","term":8,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n3"},"id":274}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":82,"in_reply_to":73,"type":"RequestVoteRes","term":7,"res":false},"id":281}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":53,"in_reply_to":79,"type":"RequestVoteRes","term":8,"res":false},"id":283}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":83,"in_reply_to":78,"type":"RequestVoteRes","term":7,"res":true},"id":285}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":48,"type":"RequestVote","term":8,"prevLogIndex":3,"lastLogTerm":1,"candidateId":"n1"},"id":294}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":56,"in_reply_to":85,"type":"AppendEntriesRes","res":false,"term":8},"id":300}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 88, "in_reply_to": 44, "type": "RequestVoteRes", "term": 7, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651674397027641129

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":43,"in_reply_to":80,"type":"RequestVoteRes","term":7,"res":true},"id":304}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":56,"in_reply_to":81,"type":"RequestVoteRes","term":5,"res":false},"id":305}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
7
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n3
timeout dict
{'n1': 1651674397011121546, 'n2': 1651674397002170280, 'n3': 1651674397026998866, 'n4': 1651674397042165866, 'n5': 1651674397004888525}
curr time
1651674397044111489

INFO:root:resposta
True
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
4
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 89, "in_reply_to": 49, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651674397047477273

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":44,"in_reply_to":86,"type":"AppendEntriesRes","res":true,"term":7,"next":5,"commit":0},"id":306}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
9
sec, min max hb
0.418563039690915
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 90, "type": "RequestVote", "term": 9, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 91, "type": "RequestVote", "term": 9, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 92, "type": "RequestVote", "term": 9, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 93, "type": "RequestVote", "term": 9, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 94, "type": "RequestVote", "term": 9, "prevLogIndex": 4, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":57,"in_reply_to":87,"type":"AppendEntriesRes","res":true,"term":7,"next":6,"commit":0},"id":307}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":54,"type":"RequestVote","term":9,"prevLogIndex":3,"lastLogTerm":1,"candidateId":"n1"},"id":311}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397011121546, 'n2': 1651674397052011910, 'n3': 1651674397044736572, 'n4': 1651674397042165866, 'n5': 1651674397004888525}
curr time
1651674397052270121

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397011121546, 'n2': 1651674397052011910, 'n3': 1651674397052796006, 'n4': 1651674397042165866, 'n5': 1651674397004888525}
curr time
1651674397052951519

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397011121546, 'n2': 1651674397053398648, 'n3': 1651674397052796006, 'n4': 1651674397042165866, 'n5': 1651674397004888525}
curr time
1651674397053542308

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 95, "in_reply_to": 48, "type": "RequestVoteRes", "term": 9, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397054578391

INFO:root:387##########:
node
n2
current term
9
next I
{'n1': 5, 'n2': 5, 'n3': 4, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 96, "type": "AppendEntries", "term": 9, "prevIndex": 3, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397054233102, 'n2': 1651674397053398648, 'n3': 1651674397054806894, 'n4': 1651674397055450995, 'n5': 1651674397004888525}
curr time
1651674397055608530

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
None
timeout dict
{'n1': 1651674397054233102, 'n2': 1651674397053398648, 'n3': 1651674397054806894, 'n4': 1651674397055450995, 'n5': 1651674397056320595}
curr time
1651674397056460638

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
3
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 97, "in_reply_to": 54, "type": "RequestVoteRes", "term": 9, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":91,"type":"RequestVote","term":9,"prevLogIndex":4,"lastLogTerm":1,"candidateId":"n2"},"id":321}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":60,"type":"AppendEntries","term":8,"prevIndex":4,"prevTerm":1,"entries":[],"commit":0},"id":326}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":47,"in_reply_to":93,"type":"RequestVoteRes","term":9,"res":true},"id":328}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":60,"in_reply_to":94,"type":"RequestVoteRes","term":7,"res":false},"id":332}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":59,"in_reply_to":90,"type":"RequestVoteRes","term":9,"res":false},"id":333}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":63,"in_reply_to":92,"type":"RequestVoteRes","term":9,"res":true},"id":336}
INFO:root:voting for myself
n2
at time
1651674397069074079
nr votes
2

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 98, "in_reply_to": 91, "type": "RequestVoteRes", "term": 9, "res": true}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 99, "in_reply_to": 60, "type": "AppendEntriesRes", "res": false, "term": 9}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":98,"in_reply_to":91,"type":"RequestVoteRes","term":9,"res":true},"id":339}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":64,"in_reply_to":96,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":340}
INFO:root:msg term
8
current term
9
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
msg entries
[]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674397057035438, 'n2': 1651674397069060768, 'n3': 1651674397070444820, 'n4': 1651674397073496207, 'n5': 1651674397056964541}
curr time
1651674397073687347

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 100, "type": "AppendEntries", "term": 9, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":62,"in_reply_to":100,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":347}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":67,"type":"AppendEntries","term":9,"prevIndex":3,"prevTerm":1,"entries":[[["cas",[1,[3,0]]],1],[["cas",[1,[3,0]]],1]],"commit":0},"id":348}
INFO:root:HBdest
n3
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 101, "type": "AppendEntries", "term": 9, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 102, "type": "AppendEntries", "term": 9, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 5, 'n2': 5, 'n3': 5, 'n4': 5, 'n5': 5}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 103, "type": "AppendEntries", "term": 9, "prevIndex": 4, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":68,"in_reply_to":101,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":351}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":50,"in_reply_to":102,"type":"AppendEntriesRes","res":true,"term":9,"next":7,"commit":0},"id":352}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397057035438, 'n2': 1651674397069060768, 'n3': 1651674397070444820, 'n4': 1651674397073496207, 'n5': 1651674397089339196}
curr time
1651674397089590853

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":62,"in_reply_to":103,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":354}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397091236653, 'n2': 1651674397069060768, 'n3': 1651674397070444820, 'n4': 1651674397073496207, 'n5': 1651674397089339196}
curr time
1651674397091422235

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397091236653, 'n2': 1651674397069060768, 'n3': 1651674397091948047, 'n4': 1651674397073496207, 'n5': 1651674397089339196}
curr time
1651674397092101612

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397091236653, 'n2': 1651674397092536860, 'n3': 1651674397091948047, 'n4': 1651674397073496207, 'n5': 1651674397089339196}
curr time
1651674397092689001

INFO:root:resposta
True
majority
3

INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1]]
[[['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
3
0
n2
1

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 104, "in_reply_to": 67, "type": "AppendEntriesRes", "res": true, "term": 9, "next": 7, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 105, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 106, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 107, "type": "AppendEntries", "term": 9, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 108, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":63,"in_reply_to":105,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":358}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":69,"in_reply_to":106,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":361}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":51,"in_reply_to":107,"type":"AppendEntriesRes","res":true,"term":9,"next":7,"commit":0},"id":362}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":63,"in_reply_to":108,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":363}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 109, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 110, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 111, "type": "AppendEntries", "term": 9, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 112, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":65,"in_reply_to":109,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":370}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":71,"in_reply_to":110,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":371}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":52,"in_reply_to":111,"type":"AppendEntriesRes","res":true,"term":9,"next":7,"commit":0},"id":372}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":64,"in_reply_to":112,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":373}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 113, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 114, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 115, "type": "AppendEntries", "term": 9, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 116, "type": "AppendEntries", "term": 9, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":66,"in_reply_to":113,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":378}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":72,"in_reply_to":114,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":377}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":53,"in_reply_to":115,"type":"AppendEntriesRes","res":true,"term":9,"next":7,"commit":0},"id":380}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":65,"in_reply_to":116,"type":"AppendEntriesRes","res":true,"term":9,"next":6,"commit":0},"id":381}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":68,"type":"RequestVote","term":10,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n1"},"id":385}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":73,"type":"RequestVote","term":11,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n1"},"id":391}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 117, "in_reply_to": 68, "type": "RequestVoteRes", "term": 9, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 118, "in_reply_to": 73, "type": "RequestVoteRes", "term": 9, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":56,"type":"RequestVote","term":10,"prevLogIndex":6,"lastLogTerm":1,"candidateId":"n4"},"id":395}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
6
 last log term
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 119, "in_reply_to": 56, "type": "RequestVoteRes", "term": 10, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674397266618912

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 120, "type": "AppendEntries", "term": 10, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 121, "type": "AppendEntries", "term": 10, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 122, "type": "AppendEntries", "term": 10, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 123, "type": "AppendEntries", "term": 10, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 124, "type": "AppendEntries", "term": 10, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 125, "type": "AppendEntries", "term": 10, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 126, "type": "AppendEntries", "term": 10, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 6, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 127, "type": "AppendEntries", "term": 10, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
11
sec, min max hb
0.3530362668041807
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 128, "type": "RequestVote", "term": 11, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 129, "type": "RequestVote", "term": 11, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 130, "type": "RequestVote", "term": 11, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 131, "type": "RequestVote", "term": 11, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 132, "type": "RequestVote", "term": 11, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":76,"type":"RequestVote","term":10,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n3"},"id":405}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":81,"type":"RequestVote","term":11,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n3"},"id":411}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":86,"type":"RequestVote","term":12,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n3"},"id":418}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":62,"type":"RequestVote","term":11,"prevLogIndex":6,"lastLogTerm":1,"candidateId":"n4"},"id":430}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 133, "in_reply_to": 76, "type": "RequestVoteRes", "term": 11, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397300740082

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 134, "in_reply_to": 81, "type": "RequestVoteRes", "term": 11, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 135, "in_reply_to": 86, "type": "RequestVoteRes", "term": 11, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
6
 last log term
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 136, "in_reply_to": 62, "type": "RequestVoteRes", "term": 11, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674397302813592

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":94,"in_reply_to":121,"type":"AppendEntriesRes","res":false,"term":12},"id":441}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
12
sec, min max hb
0.43860821936414573
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 137, "type": "RequestVote", "term": 12, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 138, "type": "RequestVote", "term": 12, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 139, "type": "RequestVote", "term": 12, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 140, "type": "RequestVote", "term": 12, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 141, "type": "RequestVote", "term": 12, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
13
sec, min max hb
0.44445674164252813
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 142, "type": "RequestVote", "term": 13, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 143, "type": "RequestVote", "term": 13, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 144, "type": "RequestVote", "term": 13, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 145, "type": "RequestVote", "term": 13, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 146, "type": "RequestVote", "term": 13, "prevLogIndex": 6, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":73,"in_reply_to":123,"type":"AppendEntriesRes","res":true,"term":10,"next":6,"commit":0},"id":443}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":74,"in_reply_to":127,"type":"AppendEntriesRes","res":true,"term":10,"next":6,"commit":0},"id":448}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":95,"in_reply_to":125,"type":"AppendEntriesRes","res":false,"term":12},"id":449}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":129,"type":"RequestVote","term":11,"prevLogIndex":6,"lastLogTerm":1,"candidateId":"n2"},"id":451}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":82,"type":"RequestVote","term":12,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n1"},"id":457}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":96,"in_reply_to":130,"type":"RequestVoteRes","term":12,"res":false},"id":463}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":87,"type":"RequestVote","term":13,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n1"},"id":464}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":69,"type":"RequestVote","term":12,"prevLogIndex":6,"lastLogTerm":1,"candidateId":"n4"},"id":476}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":138,"type":"RequestVote","term":12,"prevLogIndex":6,"lastLogTerm":1,"candidateId":"n2"},"id":479}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":143,"type":"RequestVote","term":13,"prevLogIndex":6,"lastLogTerm":1,"candidateId":"n2"},"id":484}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":99,"type":"RequestVote","term":13,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n3"},"id":490}
INFO:root:387##########:
node
n2
current term
13
next I
{'n1': 6, 'n2': 5, 'n3': 5, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n3

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":75,"in_reply_to":122,"type":"AppendEntriesRes","res":false,"term":12},"id":503}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":94,"in_reply_to":120,"type":"AppendEntriesRes","res":false,"term":13},"id":505}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":95,"in_reply_to":124,"type":"AppendEntriesRes","res":false,"term":13},"id":506}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":96,"in_reply_to":128,"type":"RequestVoteRes","term":13,"res":false},"id":507}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":105,"in_reply_to":139,"type":"RequestVoteRes","term":13,"res":false},"id":511}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":106,"in_reply_to":144,"type":"RequestVoteRes","term":13,"res":false},"id":512}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":100,"in_reply_to":137,"type":"RequestVoteRes","term":13,"res":false},"id":514}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":101,"in_reply_to":142,"type":"RequestVoteRes","term":13,"res":false},"id":515}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":76,"in_reply_to":126,"type":"AppendEntriesRes","res":false,"term":12},"id":517}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":78,"in_reply_to":132,"type":"RequestVoteRes","term":13,"res":false},"id":519}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":79,"in_reply_to":141,"type":"RequestVoteRes","term":13,"res":false},"id":520}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":80,"in_reply_to":146,"type":"RequestVoteRes","term":13,"res":false},"id":521}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":80,"in_reply_to":131,"type":"RequestVoteRes","term":12,"res":false},"id":527}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":81,"in_reply_to":140,"type":"RequestVoteRes","term":12,"res":true},"id":528}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 147, "type": "AppendEntries", "term": 13, "prevIndex": 4, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1]], "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

INFO:root:387##########:
node
n2
current term
13
next I
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 149, "type": "AppendEntries", "term": 13, "prevIndex": 3, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1]], "commit": 0}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 150, "in_reply_to": 129, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397363832806

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 151, "in_reply_to": 82, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397364467269

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397364129343, 'n2': 1651674397363485362, 'n3': 1651674397364761500, 'n4': 1651674397302298801, 'n5': 1651674397361621849}
curr time
1651674397364950984

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 148, "type": "AppendEntries", "term": 13, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 152, "type": "AppendEntries", "term": 13, "prevIndex": 3, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 153, "type": "AppendEntries", "term": 13, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 154, "type": "AppendEntries", "term": 13, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 155, "type": "AppendEntries", "term": 13, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 156, "type": "AppendEntries", "term": 13, "prevIndex": 3, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:resposta
False
majority
3

INFO:root:HBdest
n4
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":109,"in_reply_to":147,"type":"AppendEntriesRes","res":true,"term":13,"next":8,"commit":0},"id":531}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 158, "in_reply_to": 87, "type": "RequestVoteRes", "term": 13, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":150,"in_reply_to":129,"type":"RequestVoteRes","term":13,"res":false},"id":533}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":82,"in_reply_to":145,"type":"RequestVoteRes","term":13,"res":true},"id":535}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":103,"type":"AppendEntries","term":13,"prevIndex":5,"prevTerm":1,"entries":[],"commit":0},"id":536}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":110,"in_reply_to":149,"type":"AppendEntriesRes","res":true,"term":13,"next":11,"commit":0},"id":543}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":83,"in_reply_to":154,"type":"AppendEntriesRes","res":true,"term":13,"next":6,"commit":0},"id":544}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 157, "type": "AppendEntries", "term": 13, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 7, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 160, "type": "AppendEntries", "term": 13, "prevIndex": 5, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 159, "in_reply_to": 69, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397385571716

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 161, "in_reply_to": 138, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397386271539

INFO:root:voting for myself
n2
at time
1651674397386515173
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 162, "in_reply_to": 143, "type": "RequestVoteRes", "term": 13, "res": true}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 163, "in_reply_to": 99, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:387##########:
node
n2
current term
13
next I
{'n1': 6, 'n2': 5, 'n3': 4, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 164, "type": "AppendEntries", "term": 13, "prevIndex": 5, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1]], "commit": 0}}
INFO:root:387##########:
node
n2
current term
13
next I
{'n1': 5, 'n2': 5, 'n3': 4, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 165, "type": "AppendEntries", "term": 13, "prevIndex": 4, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1]], "commit": 0}}
INFO:root:387##########:
node
n2
current term
13
next I
{'n1': 4, 'n2': 5, 'n3': 4, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 166, "type": "AppendEntries", "term": 13, "prevIndex": 3, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":161,"in_reply_to":138,"type":"RequestVoteRes","term":13,"res":false},"id":555}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":85,"in_reply_to":160,"type":"AppendEntriesRes","res":true,"term":13,"next":6,"commit":0},"id":556}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":107,"in_reply_to":148,"type":"AppendEntriesRes","res":true,"term":13,"next":6,"commit":0},"id":557}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397393316362, 'n2': 1651674397386507388, 'n3': 1651674397388526812, 'n4': 1651674397389206120, 'n5': 1651674397361621849}
curr time
1651674397393517935

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397393316362, 'n2': 1651674397386507388, 'n3': 1651674397394044148, 'n4': 1651674397389206120, 'n5': 1651674397361621849}
curr time
1651674397394191820

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397393316362, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397389206120, 'n5': 1651674397361621849}
curr time
1651674397394775491

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":108,"in_reply_to":155,"type":"AppendEntriesRes","res":true,"term":13,"next":6,"commit":0},"id":558}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397395884463, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397389206120, 'n5': 1651674397361621849}
curr time
1651674397396043457

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397389206120, 'n5': 1651674397361621849}
curr time
1651674397396624416

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
13
next I
{'n1': 4, 'n2': 5, 'n3': 4, 'n4': 5, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 167, "type": "AppendEntries", "term": 13, "prevIndex": 4, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1], [["cas", [1, [3, 0]]], 1]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397397054089, 'n5': 1651674397397731125}
curr time
1651674397397880880

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397397054089, 'n5': 1651674397398314761}
curr time
1651674397398476734

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397397054089, 'n5': 1651674397398900846}
curr time
1651674397399037957

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397399443544, 'n5': 1651674397398900846}
curr time
1651674397399579939

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397386507388, 'n3': 1651674397394628387, 'n4': 1651674397402812193, 'n5': 1651674397398900846}
curr time
1651674397403001595

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397403987146, 'n3': 1651674397403877998, 'n4': 1651674397402812193, 'n5': 1651674397398900846}
curr time
1651674397404165919

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397396483710, 'n2': 1651674397403987146, 'n3': 1651674397403877998, 'n4': 1651674397404750830, 'n5': 1651674397398900846}
curr time
1651674397404920750

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 168, "in_reply_to": 103, "type": "AppendEntriesRes", "res": true, "term": 13, "next": 7, "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674397405796471, 'n2': 1651674397407266836, 'n3': 1651674397407093927, 'n4': 1651674397404750830, 'n5': 1651674397407187901}
curr time
1651674397407533089

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":111,"in_reply_to":152,"type":"AppendEntriesRes","res":true,"term":13,"next":11,"commit":0},"id":559}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":162,"in_reply_to":143,"type":"RequestVoteRes","term":13,"res":true},"id":560}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":112,"in_reply_to":156,"type":"AppendEntriesRes","res":true,"term":13,"next":11,"commit":0},"id":561}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":109,"in_reply_to":165,"type":"AppendEntriesRes","res":true,"term":13,"next":8,"commit":0},"id":569}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":110,"in_reply_to":166,"type":"AppendEntriesRes","res":true,"term":13,"next":11,"commit":0},"id":570}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674397408265095, 'n2': 1651674397410974943, 'n3': 1651674397410836237, 'n4': 1651674397404750830, 'n5': 1651674397408097561}
curr time
1651674397411174222

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 7, 'n2': 7, 'n3': 7, 'n4': 7, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 169, "type": "AppendEntries", "term": 13, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":85,"in_reply_to":153,"type":"AppendEntriesRes","res":true,"term":13,"next":7,"commit":0},"id":571}
INFO:root:HBdest
n3
nextIndex
{'n1': 7, 'n2': 7, 'n3': 7, 'n4': 7, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 170, "type": "AppendEntries", "term": 13, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":87,"in_reply_to":157,"type":"AppendEntriesRes","res":true,"term":13,"next":7,"commit":0},"id":574}
INFO:root:HBdest
n4
nextIndex
{'n1': 7, 'n2': 7, 'n3': 7, 'n4': 7, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 171, "type": "AppendEntries", "term": 13, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":111,"in_reply_to":169,"type":"AppendEntriesRes","res":true,"term":13,"next":11,"commit":0},"id":575}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":88,"in_reply_to":164,"type":"AppendEntriesRes","res":true,"term":13,"next":8,"commit":0},"id":577}
INFO:root:HBdest
n5
nextIndex
{'n1': 7, 'n2': 7, 'n3': 7, 'n4': 7, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 172, "type": "AppendEntries", "term": 13, "prevIndex": 6, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":114,"in_reply_to":170,"type":"AppendEntriesRes","res":true,"term":13,"next":11,"commit":0},"id":579}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":89,"in_reply_to":167,"type":"AppendEntriesRes","res":true,"term":13,"next":10,"commit":0},"id":580}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":90,"in_reply_to":171,"type":"AppendEntriesRes","res":true,"term":13,"next":10,"commit":0},"id":582}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 11, 'n2': 7, 'n3': 11, 'n4': 10, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

Exception in thread Thread-36:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":112,"type":"AppendEntries","term":13,"prevIndex":6,"prevTerm":1,"entries":[],"commit":0},"id":583}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 173, "in_reply_to": 112, "type": "AppendEntriesRes", "res": true, "term": 13, "next": 7, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 11, 'n2': 7, 'n3': 11, 'n4': 10, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

Exception in thread Thread-37:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":88,"type":"RequestVote","term":14,"prevLogIndex":5,"lastLogTerm":1,"candidateId":"n5"},"id":592}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
5
 last log term
1

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 174, "in_reply_to": 88, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 11, 'n2': 7, 'n3': 11, 'n4': 10, 'n5': 7}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

Exception in thread Thread-38:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":94,"type":"RequestVote","term":14,"prevLogIndex":9,"lastLogTerm":1,"candidateId":"n4"},"id":602}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
9
 last log term
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 175, "in_reply_to": 94, "type": "RequestVoteRes", "term": 14, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674397533804935

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":118,"type":"AppendEntries","term":13,"prevIndex":6,"prevTerm":1,"entries":[],"commit":0},"id":610}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":118,"type":"RequestVote","term":14,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n3"},"id":612}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 176, "in_reply_to": 118, "type": "AppendEntriesRes", "res": false, "term": 14}}
INFO:root:msg term
13
current term
14
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
msg entries
[]

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 177, "in_reply_to": 118, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":125,"type":"RequestVote","term":15,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n3"},"id":624}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 178, "in_reply_to": 125, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":123,"type":"AppendEntries","term":14,"prevIndex":5,"prevTerm":1,"entries":[[["cas",[1,[3,0]]],1],[["cas",[1,[3,0]]],1],[["cas",[1,[3,0]]],1],[["cas",[1,[3,0]]],1],[["cas",[1,[3,0]]],1]],"commit":0},"id":634}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":100,"type":"RequestVote","term":15,"prevLogIndex":9,"lastLogTerm":1,"candidateId":"n4"},"id":636}
INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
[[['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
5
0
n2
1

INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
[[['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
5
0
n2
2

INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
[[['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
5
0
n2
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":132,"type":"RequestVote","term":16,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n3"},"id":645}
INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
[[['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
5
0
n2
4

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

INFO:root:commiting command
[['cas', [1, [3, 0]]], 1]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 179, "in_reply_to": 123, "type": "AppendEntriesRes", "res": true, "term": 14, "next": 12, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
15
sec, min max hb
0.4526592315279224
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 180, "type": "RequestVote", "term": 15, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
9
 last log term
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 181, "type": "RequestVote", "term": 15, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 183, "type": "RequestVote", "term": 15, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 184, "type": "RequestVote", "term": 15, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 185, "type": "RequestVote", "term": 15, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
16
sec, min max hb
0.3478619291734656
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 186, "type": "RequestVote", "term": 16, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 187, "type": "RequestVote", "term": 16, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 188, "type": "RequestVote", "term": 16, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 189, "type": "RequestVote", "term": 16, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 190, "type": "RequestVote", "term": 16, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
17
sec, min max hb
0.42929679215365907
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 182, "in_reply_to": 100, "type": "RequestVoteRes", "term": 15, "res": false}}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 191, "type": "RequestVote", "term": 17, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":129,"in_reply_to":180,"type":"RequestVoteRes","term":16,"res":false},"id":657}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":181,"type":"RequestVote","term":15,"prevLogIndex":11,"lastLogTerm":1,"candidateId":"n2"},"id":659}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":187,"type":"RequestVote","term":16,"prevLogIndex":11,"lastLogTerm":1,"candidateId":"n2"},"id":667}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":131,"in_reply_to":186,"type":"RequestVoteRes","term":16,"res":false},"id":674}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 192, "in_reply_to": 132, "type": "RequestVoteRes", "term": 17, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397590934309

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 193, "type": "RequestVote", "term": 17, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 194, "type": "RequestVote", "term": 17, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 195, "type": "RequestVote", "term": 17, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 196, "type": "RequestVote", "term": 17, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
18
sec, min max hb
0.49370789512694946
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 197, "type": "RequestVote", "term": 18, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 198, "type": "RequestVote", "term": 18, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 199, "type": "RequestVote", "term": 18, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 200, "type": "RequestVote", "term": 18, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 201, "type": "RequestVote", "term": 18, "prevLogIndex": 11, "lastLogTerm": 1, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":100,"in_reply_to":185,"type":"RequestVoteRes","term":15,"res":true},"id":675}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":140,"type":"AppendEntries","term":16,"prevIndex":10,"prevTerm":1,"entries":[],"commit":0},"id":676}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":134,"in_reply_to":191,"type":"RequestVoteRes","term":16,"res":false},"id":684}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":143,"in_reply_to":183,"type":"RequestVoteRes","term":16,"res":false},"id":685}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":144,"in_reply_to":188,"type":"RequestVoteRes","term":16,"res":true},"id":688}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":193,"type":"RequestVote","term":17,"prevLogIndex":11,"lastLogTerm":1,"candidateId":"n2"},"id":690}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397591372218, 'n2': 1651674397410974943, 'n3': 1651674397586276246, 'n4': 1651674397567673629, 'n5': 1651674397513853786}
curr time
1651674397598207251

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 202, "in_reply_to": 181, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397599366002

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 203, "in_reply_to": 187, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397600025308

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397600963415, 'n2': 1651674397599675530, 'n3': 1651674397586276246, 'n4': 1651674397567673629, 'n5': 1651674397513853786}
curr time
1651674397601186649

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397600963415, 'n2': 1651674397599675530, 'n3': 1651674397586276246, 'n4': 1651674397567673629, 'n5': 1651674397602427131}
curr time
1651674397602704662

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 204, "in_reply_to": 140, "type": "AppendEntriesRes", "res": false, "term": 18}}
INFO:root:msg term
16
current term
18
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
msg entries
[]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397605608794, 'n2': 1651674397599675530, 'n3': 1651674397604605553, 'n4': 1651674397567673629, 'n5': 1651674397602427131}
curr time
1651674397605775908

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397605608794, 'n2': 1651674397599675530, 'n3': 1651674397606315034, 'n4': 1651674397567673629, 'n5': 1651674397602427131}
curr time
1651674397606461775

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397605608794, 'n2': 1651674397599675530, 'n3': 1651674397606955846, 'n4': 1651674397567673629, 'n5': 1651674397602427131}
curr time
1651674397607107155

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 205, "in_reply_to": 193, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397608216894

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":102,"type":"RequestVote","term":16,"prevLogIndex":11,"lastLogTerm":1,"candidateId":"n5"},"id":691}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":198,"type":"RequestVote","term":18,"prevLogIndex":11,"lastLogTerm":1,"candidateId":"n2"},"id":699}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":106,"in_reply_to":190,"type":"RequestVoteRes","term":16,"res":true},"id":700}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":137,"type":"RequestVote","term":17,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":702}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":110,"in_reply_to":184,"type":"RequestVoteRes","term":15,"res":false},"id":708}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":111,"in_reply_to":189,"type":"RequestVoteRes","term":15,"res":false},"id":709}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 206, "in_reply_to": 102, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397621399963

INFO:root:voting for myself
n2
at time
1651674397622034516
nr votes
2

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 207, "in_reply_to": 198, "type": "RequestVoteRes", "term": 18, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674397605608794, 'n2': 1651674397622024147, 'n3': 1651674397606955846, 'n4': 1651674397567673629, 'n5': 1651674397623288034}
curr time
1651674397623660349

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 12, 'n2': 12, 'n3': 12, 'n4': 12, 'n5': 12}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 208, "type": "AppendEntries", "term": 18, "prevIndex": 11, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 12, 'n2': 12, 'n3': 12, 'n4': 12, 'n5': 12}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 209, "type": "AppendEntries", "term": 18, "prevIndex": 11, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 12, 'n2': 12, 'n3': 12, 'n4': 12, 'n5': 12}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 210, "type": "AppendEntries", "term": 18, "prevIndex": 11, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 12, 'n2': 12, 'n3': 12, 'n4': 12, 'n5': 12}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 211, "type": "AppendEntries", "term": 18, "prevIndex": 11, "prevTerm": 1, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":202,"in_reply_to":181,"type":"RequestVoteRes","term":18,"res":false},"id":713}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":203,"in_reply_to":187,"type":"RequestVoteRes","term":18,"res":false},"id":714}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":205,"in_reply_to":193,"type":"RequestVoteRes","term":18,"res":false},"id":716}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":143,"type":"RequestVote","term":19,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":720}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":108,"type":"RequestVote","term":17,"prevLogIndex":11,"lastLogTerm":1,"candidateId":"n5"},"id":726}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":148,"type":"RequestVote","term":20,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":727}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":113,"in_reply_to":196,"type":"RequestVoteRes","term":17,"res":true},"id":735}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":115,"type":"RequestVote","term":17,"prevLogIndex":9,"lastLogTerm":1,"candidateId":"n4"},"id":737}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":207,"in_reply_to":198,"type":"RequestVoteRes","term":18,"res":true},"id":739}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":140,"in_reply_to":197,"type":"RequestVoteRes","term":18,"res":true},"id":740}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":146,"in_reply_to":194,"type":"RequestVoteRes","term":16,"res":false},"id":742}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":120,"type":"RequestVote","term":18,"prevLogIndex":9,"lastLogTerm":1,"candidateId":"n4"},"id":747}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":113,"type":"RequestVote","term":16,"prevLogIndex":9,"lastLogTerm":1,"candidateId":"n4"},"id":751}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":128,"in_reply_to":195,"type":"RequestVoteRes","term":17,"res":true},"id":756}
DEBUG:root:received {"dest":"n2","body":{"key":1,"from":2,"to":1,"type":"cas","msg_id":1},"src":"c17","id":757}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":115,"in_reply_to":201,"type":"RequestVoteRes","term":18,"res":true},"id":764}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":131,"in_reply_to":200,"type":"RequestVoteRes","term":18,"res":true},"id":766}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":159,"in_reply_to":208,"type":"AppendEntriesRes","res":false,"term":20},"id":782}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":149,"in_reply_to":199,"type":"RequestVoteRes","term":16,"res":false},"id":788}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":138,"in_reply_to":210,"type":"AppendEntriesRes","res":true,"term":18,"next":12,"commit":0},"id":794}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 212, "in_reply_to": 137, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397676566200

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397674397900, 'n2': 1651674397622024147, 'n3': 1651674397606955846, 'n4': 1651674397677696560, 'n5': 1651674397623288034}
curr time
1651674397679245604

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":156,"in_reply_to":209,"type":"AppendEntriesRes","res":true,"term":18,"next":13,"commit":0},"id":799}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397674397900, 'n2': 1651674397622024147, 'n3': 1651674397606955846, 'n4': 1651674397683857631, 'n5': 1651674397623288034}
curr time
1651674397687933086

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":123,"in_reply_to":211,"type":"AppendEntriesRes","res":true,"term":18,"next":12,"commit":0},"id":800}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397674397900, 'n2': 1651674397693814065, 'n3': 1651674397606955846, 'n4': 1651674397683857631, 'n5': 1651674397623288034}
curr time
1651674397694001561

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397674397900, 'n2': 1651674397694624861, 'n3': 1651674397606955846, 'n4': 1651674397683857631, 'n5': 1651674397623288034}
curr time
1651674397694795604

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397674397900, 'n2': 1651674397695439790, 'n3': 1651674397606955846, 'n4': 1651674397683857631, 'n5': 1651674397623288034}
curr time
1651674397695606125

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 213, "in_reply_to": 143, "type": "RequestVoteRes", "term": 18, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 214, "in_reply_to": 108, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397698894580

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 215, "in_reply_to": 148, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397699731042, 'n2': 1651674397695439790, 'n3': 1651674397606955846, 'n4': 1651674397683857631, 'n5': 1651674397702476511}
curr time
1651674397702968558

INFO:root:resposta
True
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 216, "in_reply_to": 115, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397706622541

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397699731042, 'n2': 1651674397707511493, 'n3': 1651674397606955846, 'n4': 1651674397704609522, 'n5': 1651674397702476511}
curr time
1651674397708255873

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397709040669, 'n2': 1651674397707511493, 'n3': 1651674397606955846, 'n4': 1651674397704609522, 'n5': 1651674397702476511}
curr time
1651674397709197909

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397709040669, 'n2': 1651674397707511493, 'n3': 1651674397709919028, 'n4': 1651674397704609522, 'n5': 1651674397702476511}
curr time
1651674397710187758

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
prevlog index
9
 last log term
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 217, "in_reply_to": 120, "type": "RequestVoteRes", "term": 18, "res": false}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 218, "in_reply_to": 113, "type": "RequestVoteRes", "term": 18, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397712211476

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397709040669, 'n2': 1651674397707511493, 'n3': 1651674397709919028, 'n4': 1651674397712458175, 'n5': 1651674397702476511}
curr time
1651674397712883064

INFO:root:resposta
True
majority
3

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 219, "type": "AppendEntries", "term": 18, "entries": [[["cas", [1, [2, 1]]], 18]], "prevIndex": 11, "prevTerm": 1, "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 220, "type": "AppendEntries", "term": 18, "entries": [[["cas", [1, [2, 1]]], 18]], "prevIndex": 11, "prevTerm": 1, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 221, "type": "AppendEntries", "term": 18, "entries": [[["cas", [1, [2, 1]]], 18]], "prevIndex": 11, "prevTerm": 1, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 222, "type": "AppendEntries", "term": 18, "entries": [[["cas", [1, [2, 1]]], 18]], "prevIndex": 11, "prevTerm": 1, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":157,"in_reply_to":220,"type":"AppendEntriesRes","res":true,"term":18,"next":14,"commit":0},"id":809}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":160,"in_reply_to":219,"type":"AppendEntriesRes","res":false,"term":20},"id":810}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397709040669, 'n2': 1651674397707511493, 'n3': 1651674397709919028, 'n4': 1651674397712458175, 'n5': 1651674397719851228}
curr time
1651674397720388646

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397709040669, 'n2': 1651674397707511493, 'n3': 1651674397709919028, 'n4': 1651674397722166667, 'n5': 1651674397719851228}
curr time
1651674397722355457

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":139,"in_reply_to":221,"type":"AppendEntriesRes","res":true,"term":18,"next":13,"commit":0},"id":813}
INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":124,"in_reply_to":222,"type":"AppendEntriesRes","res":true,"term":18,"next":13,"commit":0},"id":814}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674397723964248, 'n2': 1651674397707511493, 'n3': 1651674397724032299, 'n4': 1651674397722166667, 'n5': 1651674397719851228}
curr time
1651674397724494529

INFO:root:resposta
False
majority
3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 12, 'n2': 12, 'n3': 14, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 223, "type": "AppendEntries", "term": 18, "prevIndex": 11, "prevTerm": 1, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 12, 'n2': 12, 'n3': 14, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

Exception in thread Thread-45:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":161,"in_reply_to":223,"type":"AppendEntriesRes","res":false,"term":20},"id":816}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":126,"type":"RequestVote","term":19,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":818}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 224, "in_reply_to": 126, "type": "RequestVoteRes", "term": 19, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674397766713334

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":142,"type":"RequestVote","term":19,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":828}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 225, "in_reply_to": 142, "type": "RequestVoteRes", "term": 19, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
20
sec, min max hb
0.4904865161429235
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 226, "type": "RequestVote", "term": 20, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 227, "type": "RequestVote", "term": 20, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 228, "type": "RequestVote", "term": 20, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 229, "type": "RequestVote", "term": 20, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 230, "type": "RequestVote", "term": 20, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":227,"type":"RequestVote","term":20,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":838}
INFO:root:voting for myself
n2
at time
1651674397792243515
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 231, "in_reply_to": 227, "type": "RequestVoteRes", "term": 20, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":132,"in_reply_to":230,"type":"RequestVoteRes","term":19,"res":false},"id":843}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":165,"type":"RequestVote","term":21,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":844}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397747973315, 'n2': 1651674397792233842, 'n3': 1651674397725226766, 'n4': 1651674397785796242, 'n5': 1651674397794727543}
curr time
1651674397795008929

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 232, "in_reply_to": 165, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":231,"in_reply_to":227,"type":"RequestVoteRes","term":20,"res":true},"id":847}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":160,"in_reply_to":228,"type":"RequestVoteRes","term":18,"res":false},"id":849}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":169,"in_reply_to":226,"type":"RequestVoteRes","term":21,"res":false},"id":850}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674397795664638, 'n2': 1651674397801819129, 'n3': 1651674397725226766, 'n4': 1651674397785796242, 'n5': 1651674397794727543}
curr time
1651674397802035996

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397795664638, 'n2': 1651674397801819129, 'n3': 1651674397802939825, 'n4': 1651674397785796242, 'n5': 1651674397794727543}
curr time
1651674397803107698

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397803622829, 'n2': 1651674397801819129, 'n3': 1651674397802939825, 'n4': 1651674397785796242, 'n5': 1651674397794727543}
curr time
1651674397803769241

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":147,"in_reply_to":229,"type":"RequestVoteRes","term":19,"res":false},"id":855}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397803622829, 'n2': 1651674397801819129, 'n3': 1651674397802939825, 'n4': 1651674397804678315, 'n5': 1651674397794727543}
curr time
1651674397804853071

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":172,"type":"RequestVote","term":22,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":858}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 233, "in_reply_to": 172, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":178,"type":"RequestVote","term":23,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":868}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 234, "in_reply_to": 178, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":151,"type":"RequestVote","term":20,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":875}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 235, "in_reply_to": 151, "type": "RequestVoteRes", "term": 20, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
21
sec, min max hb
0.43743571511594315
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 236, "type": "RequestVote", "term": 21, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 237, "type": "RequestVote", "term": 21, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 238, "type": "RequestVote", "term": 21, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 239, "type": "RequestVote", "term": 21, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 240, "type": "RequestVote", "term": 21, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
22
sec, min max hb
0.38198933075197516
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 241, "type": "RequestVote", "term": 22, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 242, "type": "RequestVote", "term": 22, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 243, "type": "RequestVote", "term": 22, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 244, "type": "RequestVote", "term": 22, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 245, "type": "RequestVote", "term": 22, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":237,"type":"RequestVote","term":21,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":889}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":138,"type":"RequestVote","term":20,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":892}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":142,"in_reply_to":240,"type":"RequestVoteRes","term":21,"res":true},"id":897}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":165,"in_reply_to":238,"type":"RequestVoteRes","term":18,"res":false},"id":899}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":185,"in_reply_to":236,"type":"RequestVoteRes","term":23,"res":false},"id":900}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":242,"type":"RequestVote","term":22,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":903}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 246, "in_reply_to": 237, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397851867711

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 247, "in_reply_to": 138, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397852448059

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397821984756, 'n2': 1651674397851453107, 'n3': 1651674397802939825, 'n4': 1651674397826957913, 'n5': 1651674397852702692}
curr time
1651674397852857662

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397821984756, 'n2': 1651674397851453107, 'n3': 1651674397853643847, 'n4': 1651674397826957913, 'n5': 1651674397852702692}
curr time
1651674397853787274

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397854303636, 'n2': 1651674397851453107, 'n3': 1651674397853643847, 'n4': 1651674397826957913, 'n5': 1651674397852702692}
curr time
1651674397854447564

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n2
at time
1651674397854948706
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 248, "in_reply_to": 242, "type": "RequestVoteRes", "term": 22, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":246,"in_reply_to":237,"type":"RequestVoteRes","term":22,"res":false},"id":909}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674397854303636, 'n2': 1651674397860067192, 'n3': 1651674397853643847, 'n4': 1651674397826957913, 'n5': 1651674397852702692}
curr time
1651674397860212967

INFO:root:resposta
False
majority
3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
23
sec, min max hb
0.4388100367989751
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 249, "type": "RequestVote", "term": 23, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 250, "type": "RequestVote", "term": 23, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 251, "type": "RequestVote", "term": 23, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 252, "type": "RequestVote", "term": 23, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 253, "type": "RequestVote", "term": 23, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":157,"in_reply_to":239,"type":"RequestVoteRes","term":20,"res":false},"id":908}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":144,"in_reply_to":245,"type":"RequestVoteRes","term":22,"res":true},"id":911}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":159,"in_reply_to":244,"type":"RequestVoteRes","term":20,"res":false},"id":913}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":186,"in_reply_to":241,"type":"RequestVoteRes","term":23,"res":false},"id":914}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":161,"type":"RequestVote","term":21,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":916}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":248,"in_reply_to":242,"type":"RequestVoteRes","term":22,"res":true},"id":918}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":250,"type":"RequestVote","term":23,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":922}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":167,"in_reply_to":243,"type":"RequestVoteRes","term":18,"res":false},"id":926}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":146,"type":"RequestVote","term":23,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":928}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":166,"in_reply_to":252,"type":"RequestVoteRes","term":21,"res":false},"id":933}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":151,"type":"RequestVote","term":24,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":935}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
24
sec, min max hb
0.42726260778771413
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 254, "type": "RequestVote", "term": 24, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 255, "type": "RequestVote", "term": 24, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 256, "type": "RequestVote", "term": 24, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 257, "type": "RequestVote", "term": 24, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 258, "type": "RequestVote", "term": 24, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":156,"type":"RequestVote","term":25,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":940}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":188,"type":"RequestVote","term":24,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":945}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":255,"type":"RequestVote","term":24,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":950}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":169,"in_reply_to":251,"type":"RequestVoteRes","term":18,"res":false},"id":954}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397854303636, 'n2': 1651674397860067192, 'n3': 1651674397853643847, 'n4': 1651674397884445627, 'n5': 1651674397852702692}
curr time
1651674397884684645

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674397854303636, 'n2': 1651674397860067192, 'n3': 1651674397853643847, 'n4': 1651674397884445627, 'n5': 1651674397885322071}
curr time
1651674397885484031

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397854303636, 'n2': 1651674397860067192, 'n3': 1651674397853643847, 'n4': 1651674397886262821, 'n5': 1651674397885322071}
curr time
1651674397886399844

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397886873272, 'n2': 1651674397860067192, 'n3': 1651674397853643847, 'n4': 1651674397886262821, 'n5': 1651674397885322071}
curr time
1651674397887005199

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 259, "in_reply_to": 161, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397887794045

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674397886873272, 'n2': 1651674397888020774, 'n3': 1651674397853643847, 'n4': 1651674397887468202, 'n5': 1651674397885322071}
curr time
1651674397888164767

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 260, "in_reply_to": 250, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397889278066

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
None
timeout dict
{'n1': 1651674397886873272, 'n2': 1651674397888961035, 'n3': 1651674397889531738, 'n4': 1651674397887468202, 'n5': 1651674397885322071}
curr time
1651674397889676382

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 261, "in_reply_to": 146, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674397890471272

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
24
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
None
timeout dict
{'n1': 1651674397886873272, 'n2': 1651674397888961035, 'n3': 1651674397889531738, 'n4': 1651674397890680117, 'n5': 1651674397890182653}
curr time
1651674397890814176

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 262, "in_reply_to": 151, "type": "RequestVoteRes", "term": 24, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":193,"in_reply_to":249,"type":"RequestVoteRes","term":24,"res":false},"id":957}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":161,"in_reply_to":253,"type":"RequestVoteRes","term":25,"res":false},"id":962}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":166,"in_reply_to":258,"type":"RequestVoteRes","term":25,"res":false},"id":967}
INFO:root:election started and voted vor
n5
at time
1651674397900236791

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 263, "in_reply_to": 156, "type": "RequestVoteRes", "term": 25, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674397903246628

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 264, "in_reply_to": 188, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397904911025

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 265, "in_reply_to": 255, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397905481435

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397904519377, 'n2': 1651674397905196511, 'n3': 1651674397905696882, 'n4': 1651674397890680117, 'n5': 1651674397901581030}
curr time
1651674397905842196

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397906347286, 'n2': 1651674397905196511, 'n3': 1651674397905696882, 'n4': 1651674397890680117, 'n5': 1651674397901581030}
curr time
1651674397906484290

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397906347286, 'n2': 1651674397905196511, 'n3': 1651674397905696882, 'n4': 1651674397890680117, 'n5': 1651674397906970971}
curr time
1651674397907106167

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397906347286, 'n2': 1651674397905196511, 'n3': 1651674397905696882, 'n4': 1651674397890680117, 'n5': 1651674397907593065}
curr time
1651674397907730622

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":260,"in_reply_to":250,"type":"RequestVoteRes","term":24,"res":false},"id":971}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":200,"type":"RequestVote","term":28,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":976}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":204,"type":"RequestVote","term":28,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":982}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":208,"type":"RequestVote","term":28,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":987}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":168,"type":"RequestVote","term":26,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":993}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":174,"in_reply_to":256,"type":"RequestVoteRes","term":18,"res":false},"id":997}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":168,"type":"RequestVote","term":22,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":999}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":265,"in_reply_to":255,"type":"RequestVoteRes","term":25,"res":false},"id":1003}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":173,"type":"RequestVote","term":23,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1006}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":178,"type":"RequestVote","term":24,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1011}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":185,"type":"RequestVote","term":25,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1018}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397906347286, 'n2': 1651674397912106656, 'n3': 1651674397905696882, 'n4': 1651674397890680117, 'n5': 1651674397907593065}
curr time
1651674397916109254

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 266, "in_reply_to": 200, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 267, "in_reply_to": 204, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 268, "in_reply_to": 208, "type": "RequestVoteRes", "term": 25, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 269, "in_reply_to": 168, "type": "RequestVoteRes", "term": 26, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674397923051780

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397920044590, 'n2': 1651674397912106656, 'n3': 1651674397924127177, 'n4': 1651674397890680117, 'n5': 1651674397921662144}
curr time
1651674397924329496

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 270, "in_reply_to": 168, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397925169773

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397920044590, 'n2': 1651674397925392360, 'n3': 1651674397924127177, 'n4': 1651674397924841511, 'n5': 1651674397921662144}
curr time
1651674397925540279

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 271, "in_reply_to": 173, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397926292333

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 272, "in_reply_to": 178, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397926773996

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 273, "in_reply_to": 185, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397927252428

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":173,"type":"RequestVote","term":27,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1034}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":190,"type":"RequestVote","term":26,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1044}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 274, "in_reply_to": 173, "type": "RequestVoteRes", "term": 27, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674397934575269

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":196,"in_reply_to":257,"type":"RequestVoteRes","term":26,"res":false},"id":1052}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 275, "in_reply_to": 190, "type": "RequestVoteRes", "term": 27, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651674397937813705

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
27
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397920044590, 'n2': 1651674397925392360, 'n3': 1651674397924127177, 'n4': 1651674397938060969, 'n5': 1651674397932340406}
curr time
1651674397938222965

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":213,"in_reply_to":254,"type":"RequestVoteRes","term":28,"res":false},"id":1062}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
27
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n5
timeout dict
{'n1': 1651674397944287034, 'n2': 1651674397925392360, 'n3': 1651674397924127177, 'n4': 1651674397938060969, 'n5': 1651674397932340406}
curr time
1651674397944493103

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":179,"type":"AppendEntries","term":27,"prevIndex":12,"prevTerm":18,"entries":[],"commit":0},"id":1065}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 276, "in_reply_to": 179, "type": "AppendEntriesRes", "res": true, "term": 27, "next": 13, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
28
sec, min max hb
0.4072568437079225
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 277, "type": "RequestVote", "term": 28, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 278, "type": "RequestVote", "term": 28, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 279, "type": "RequestVote", "term": 28, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 280, "type": "RequestVote", "term": 28, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 281, "type": "RequestVote", "term": 28, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":278,"type":"RequestVote","term":28,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1100}
INFO:root:voting for myself
n2
at time
1651674398020637408
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 282, "in_reply_to": 278, "type": "RequestVoteRes", "term": 28, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":225,"in_reply_to":277,"type":"RequestVoteRes","term":28,"res":false},"id":1104}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":188,"in_reply_to":279,"type":"RequestVoteRes","term":27,"res":false},"id":1105}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":208,"in_reply_to":280,"type":"RequestVoteRes","term":27,"res":false},"id":1106}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":192,"in_reply_to":281,"type":"RequestVoteRes","term":27,"res":false},"id":1107}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":282,"in_reply_to":278,"type":"RequestVoteRes","term":28,"res":true},"id":1108}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398023298806, 'n2': 1651674398020628267, 'n3': 1651674397924127177, 'n4': 1651674397938060969, 'n5': 1651674397946637752}
curr time
1651674398023480607

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398023298806, 'n2': 1651674398020628267, 'n3': 1651674398023856001, 'n4': 1651674397938060969, 'n5': 1651674397946637752}
curr time
1651674398023953927

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398023298806, 'n2': 1651674398020628267, 'n3': 1651674398023856001, 'n4': 1651674398024251874, 'n5': 1651674397946637752}
curr time
1651674398024339792

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398023298806, 'n2': 1651674398020628267, 'n3': 1651674398023856001, 'n4': 1651674398024251874, 'n5': 1651674398024617610}
curr time
1651674398024701179

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398023298806, 'n2': 1651674398024963856, 'n3': 1651674398023856001, 'n4': 1651674398024251874, 'n5': 1651674398024617610}
curr time
1651674398025043158

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":210,"type":"RequestVote","term":28,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1110}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 283, "in_reply_to": 210, "type": "RequestVoteRes", "term": 28, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
29
sec, min max hb
0.3893967444788804
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 284, "type": "RequestVote", "term": 29, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 285, "type": "RequestVote", "term": 29, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 286, "type": "RequestVote", "term": 29, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 287, "type": "RequestVote", "term": 29, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 288, "type": "RequestVote", "term": 29, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":195,"type":"AppendEntries","term":27,"prevIndex":12,"prevTerm":18,"entries":[],"commit":0},"id":1121}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":285,"type":"RequestVote","term":29,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1122}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 289, "in_reply_to": 195, "type": "AppendEntriesRes", "res": false, "term": 29}}
INFO:root:msg term
27
current term
29
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
msg entries
[]

INFO:root:voting for myself
n2
at time
1651674398044756326
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 290, "in_reply_to": 285, "type": "RequestVoteRes", "term": 29, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":228,"in_reply_to":284,"type":"RequestVoteRes","term":28,"res":false},"id":1128}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":290,"in_reply_to":285,"type":"RequestVoteRes","term":29,"res":true},"id":1129}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398046559564, 'n2': 1651674398044748951, 'n3': 1651674398023856001, 'n4': 1651674398037693820, 'n5': 1651674398044022002}
curr time
1651674398047236895

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":190,"in_reply_to":286,"type":"RequestVoteRes","term":27,"res":false},"id":1130}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":215,"in_reply_to":287,"type":"RequestVoteRes","term":28,"res":false},"id":1131}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":230,"type":"RequestVote","term":29,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1133}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398046559564, 'n2': 1651674398048765563, 'n3': 1651674398023856001, 'n4': 1651674398037693820, 'n5': 1651674398044022002}
curr time
1651674398049743777

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398046559564, 'n2': 1651674398048765563, 'n3': 1651674398050945812, 'n4': 1651674398037693820, 'n5': 1651674398044022002}
curr time
1651674398051094224

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398046559564, 'n2': 1651674398048765563, 'n3': 1651674398050945812, 'n4': 1651674398051608885, 'n5': 1651674398044022002}
curr time
1651674398051764481

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 291, "in_reply_to": 230, "type": "RequestVoteRes", "term": 29, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":196,"in_reply_to":288,"type":"RequestVoteRes","term":27,"res":false},"id":1139}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398052308000, 'n2': 1651674398048765563, 'n3': 1651674398050945812, 'n4': 1651674398051608885, 'n5': 1651674398053808769}
curr time
1651674398053988319

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":236,"type":"RequestVote","term":30,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1144}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 292, "in_reply_to": 236, "type": "RequestVoteRes", "term": 29, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":242,"type":"RequestVote","term":31,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1156}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 293, "in_reply_to": 242, "type": "RequestVoteRes", "term": 29, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":221,"type":"RequestVote","term":29,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1165}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 294, "in_reply_to": 221, "type": "RequestVoteRes", "term": 29, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
30
sec, min max hb
0.41812311486487075
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 295, "type": "RequestVote", "term": 30, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 296, "type": "RequestVote", "term": 30, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 297, "type": "RequestVote", "term": 30, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 298, "type": "RequestVote", "term": 30, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 299, "type": "RequestVote", "term": 30, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
31
sec, min max hb
0.36327623335299
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 300, "type": "RequestVote", "term": 31, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 301, "type": "RequestVote", "term": 31, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 302, "type": "RequestVote", "term": 31, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 303, "type": "RequestVote", "term": 31, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 304, "type": "RequestVote", "term": 31, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":196,"type":"RequestVote","term":28,"prevLogIndex":14,"lastLogTerm":18,"candidateId":"n3"},"id":1176}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":296,"type":"RequestVote","term":30,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1183}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":249,"in_reply_to":295,"type":"RequestVoteRes","term":31,"res":false},"id":1185}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":301,"type":"RequestVote","term":31,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1191}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 305, "in_reply_to": 196, "type": "RequestVoteRes", "term": 31, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398106803796

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 306, "in_reply_to": 296, "type": "RequestVoteRes", "term": 31, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398108990452

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398109260787, 'n2': 1651674398108619454, 'n3': 1651674398106423242, 'n4': 1651674398083632868, 'n5': 1651674398053808769}
curr time
1651674398109419676

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n2
at time
1651674398110054384
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 307, "in_reply_to": 301, "type": "RequestVoteRes", "term": 31, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":250,"in_reply_to":300,"type":"RequestVoteRes","term":31,"res":false},"id":1196}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398110046200, 'n3': 1651674398106423242, 'n4': 1651674398083632868, 'n5': 1651674398053808769}
curr time
1651674398113188822

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":306,"in_reply_to":296,"type":"RequestVoteRes","term":31,"res":false},"id":1197}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":307,"in_reply_to":301,"type":"RequestVoteRes","term":31,"res":true},"id":1199}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":229,"type":"RequestVote","term":30,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1200}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":202,"in_reply_to":299,"type":"RequestVoteRes","term":27,"res":false},"id":1203}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":201,"in_reply_to":297,"type":"RequestVoteRes","term":28,"res":false},"id":1205}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
32
sec, min max hb
0.3818231856776469
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 308, "type": "RequestVote", "term": 32, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 309, "type": "RequestVote", "term": 32, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":202,"in_reply_to":302,"type":"RequestVoteRes","term":28,"res":false},"id":1206}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 310, "type": "RequestVote", "term": 32, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398119797828, 'n3': 1651674398106423242, 'n4': 1651674398083632868, 'n5': 1651674398053808769}
curr time
1651674398123444569

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 311, "type": "RequestVote", "term": 32, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 312, "type": "RequestVote", "term": 32, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398106423242, 'n4': 1651674398083632868, 'n5': 1651674398053808769}
curr time
1651674398124291571

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 313, "in_reply_to": 229, "type": "RequestVoteRes", "term": 32, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398128027963

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398106423242, 'n4': 1651674398127670698, 'n5': 1651674398128299837}
curr time
1651674398128499873

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":203,"in_reply_to":304,"type":"RequestVoteRes","term":27,"res":false},"id":1207}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":227,"in_reply_to":298,"type":"RequestVoteRes","term":29,"res":false},"id":1208}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":233,"in_reply_to":303,"type":"RequestVoteRes","term":31,"res":true},"id":1210}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":309,"type":"RequestVote","term":32,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1214}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":252,"in_reply_to":308,"type":"RequestVoteRes","term":31,"res":false},"id":1216}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":204,"in_reply_to":310,"type":"RequestVoteRes","term":28,"res":false},"id":1220}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":205,"in_reply_to":312,"type":"RequestVoteRes","term":27,"res":false},"id":1221}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398129083674, 'n4': 1651674398127670698, 'n5': 1651674398128299837}
curr time
1651674398132258852

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398133055638, 'n4': 1651674398127670698, 'n5': 1651674398128299837}
curr time
1651674398133250366

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398133055638, 'n4': 1651674398127670698, 'n5': 1651674398133894357}
curr time
1651674398134080574

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398133055638, 'n4': 1651674398134673262, 'n5': 1651674398133894357}
curr time
1651674398134833021

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":235,"in_reply_to":311,"type":"RequestVoteRes","term":32,"res":true},"id":1223}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398112887357, 'n2': 1651674398124109929, 'n3': 1651674398133055638, 'n4': 1651674398135496852, 'n5': 1651674398133894357}
curr time
1651674398136298273

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":254,"type":"RequestVote","term":32,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1225}
INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

INFO:root:voting for myself
n2
at time
1651674398139746175
nr votes
2

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 314, "in_reply_to": 309, "type": "RequestVoteRes", "term": 32, "res": true}}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":314,"in_reply_to":309,"type":"RequestVoteRes","term":32,"res":true},"id":1230}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398141407535, 'n2': 1651674398139736160, 'n3': 1651674398133055638, 'n4': 1651674398135496852, 'n5': 1651674398133894357}
curr time
1651674398142072961

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398141407535, 'n2': 1651674398139736160, 'n3': 1651674398143174656, 'n4': 1651674398135496852, 'n5': 1651674398133894357}
curr time
1651674398143360484

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398141407535, 'n2': 1651674398139736160, 'n3': 1651674398143174656, 'n4': 1651674398135496852, 'n5': 1651674398143949755}
curr time
1651674398144110902

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398141407535, 'n2': 1651674398139736160, 'n3': 1651674398143174656, 'n4': 1651674398144674138, 'n5': 1651674398143949755}
curr time
1651674398144831832

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 315, "type": "AppendEntries", "term": 32, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 316, "type": "AppendEntries", "term": 32, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 317, "type": "AppendEntries", "term": 32, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 318, "type": "AppendEntries", "term": 32, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":260,"type":"RequestVote","term":33,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1237}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":206,"in_reply_to":316,"type":"AppendEntriesRes","res":false,"term":32},"id":1240}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 319, "in_reply_to": 254, "type": "RequestVoteRes", "term": 32, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":237,"in_reply_to":317,"type":"AppendEntriesRes","res":true,"term":32,"next":13,"commit":0},"id":1244}
INFO:root:election ended

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674398150346699, 'n2': 1651674398156065306, 'n3': 1651674398143174656, 'n4': 1651674398144674138, 'n5': 1651674398143949755}
curr time
1651674398156341980

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":207,"in_reply_to":318,"type":"AppendEntriesRes","res":true,"term":32,"next":13,"commit":0},"id":1245}
INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":265,"in_reply_to":315,"type":"AppendEntriesRes","res":false,"term":33},"id":1251}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 320, "in_reply_to": 260, "type": "RequestVoteRes", "term": 32, "res": false}}
INFO:root:387##########:
node
n2
current term
32
next I
{'n1': 13, 'n2': 13, 'n3': 12, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 321, "type": "AppendEntries", "term": 32, "prevIndex": 11, "prevTerm": 1, "entries": [[["cas", [1, [2, 1]]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":208,"in_reply_to":321,"type":"AppendEntriesRes","res":true,"term":32,"next":16,"commit":0},"id":1254}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":241,"type":"RequestVote","term":34,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1257}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":242,"type":"RequestVote","term":34,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1258}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 322, "in_reply_to": 241, "type": "RequestVoteRes", "term": 34, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674398168574826

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 323, "in_reply_to": 242, "type": "RequestVoteRes", "term": 34, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674398170068023

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":250,"type":"RequestVote","term":36,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1274}
INFO:root:election timeout, starting new election

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

INFO:root:starting new elections, new term
35
sec, min max hb
0.36296750019851654
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 325, "type": "RequestVote", "term": 36, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 326, "type": "RequestVote", "term": 36, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 324, "in_reply_to": 250, "type": "RequestVoteRes", "term": 36, "res": true}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 327, "type": "RequestVote", "term": 36, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:election started and voted vor
None
at time
1651674398177245891

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 328, "type": "RequestVote", "term": 36, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":326,"type":"RequestVote","term":36,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1279}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
37
sec, min max hb
0.34184427678608564
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":270,"type":"RequestVote","term":34,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1284}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":212,"in_reply_to":327,"type":"RequestVoteRes","term":32,"res":false},"id":1289}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":256,"type":"RequestVote","term":36,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1292}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 330, "type": "RequestVote", "term": 37, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 331, "type": "RequestVote", "term": 37, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 332, "type": "RequestVote", "term": 37, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 329, "type": "RequestVote", "term": 36, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 333, "type": "RequestVote", "term": 37, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":331,"type":"RequestVote","term":37,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1299}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":275,"type":"RequestVote","term":35,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1302}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 334, "in_reply_to": 326, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 335, "type": "RequestVote", "term": 37, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398189341990

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 336, "in_reply_to": 270, "type": "RequestVoteRes", "term": 37, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398189949716

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
37
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398189636578, 'n2': 1651674398187969485, 'n3': 1651674398190191548, 'n4': 1651674398174824926, 'n5': 1651674398160423672}
curr time
1651674398190371952

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 337, "in_reply_to": 256, "type": "RequestVoteRes", "term": 37, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398191227684

INFO:root:voting for myself
n2
at time
1651674398191453132
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 338, "in_reply_to": 331, "type": "RequestVoteRes", "term": 37, "res": true}}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 339, "in_reply_to": 275, "type": "RequestVoteRes", "term": 37, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651674398192254172

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
38
sec, min max hb
0.42975621503143613
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 340, "type": "RequestVote", "term": 38, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 341, "type": "RequestVote", "term": 38, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 342, "type": "RequestVote", "term": 38, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 343, "type": "RequestVote", "term": 38, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 344, "type": "RequestVote", "term": 38, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":279,"type":"RequestVote","term":37,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1307}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":213,"in_reply_to":329,"type":"RequestVoteRes","term":36,"res":false},"id":1312}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":334,"in_reply_to":326,"type":"RequestVoteRes","term":37,"res":false},"id":1315}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":338,"in_reply_to":331,"type":"RequestVoteRes","term":37,"res":true},"id":1318}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":215,"type":"RequestVote","term":37,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1320}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":341,"type":"RequestVote","term":38,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1324}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 345, "in_reply_to": 279, "type": "RequestVoteRes", "term": 38, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398198299147

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398197968572, 'n2': 1651674398191445798, 'n3': 1651674398190191548, 'n4': 1651674398190934791, 'n5': 1651674398198581907}
curr time
1651674398198742627

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398197968572, 'n2': 1651674398199251731, 'n3': 1651674398190191548, 'n4': 1651674398190934791, 'n5': 1651674398198581907}
curr time
1651674398199384123

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398197968572, 'n2': 1651674398199842943, 'n3': 1651674398190191548, 'n4': 1651674398190934791, 'n5': 1651674398198581907}
curr time
1651674398199972320

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 346, "in_reply_to": 215, "type": "RequestVoteRes", "term": 38, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398200926208

INFO:root:voting for myself
n2
at time
1651674398201138633
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 347, "in_reply_to": 341, "type": "RequestVoteRes", "term": 38, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":215,"in_reply_to":332,"type":"RequestVoteRes","term":32,"res":false},"id":1335}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":263,"type":"RequestVote","term":39,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1337}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":347,"in_reply_to":341,"type":"RequestVoteRes","term":38,"res":true},"id":1343}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398197968572, 'n2': 1651674398201131501, 'n3': 1651674398204049400, 'n4': 1651674398190934791, 'n5': 1651674398200643260}
curr time
1651674398204209999

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 348, "in_reply_to": 263, "type": "RequestVoteRes", "term": 38, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398197968572, 'n2': 1651674398205955190, 'n3': 1651674398204049400, 'n4': 1651674398204697918, 'n5': 1651674398200643260}
curr time
1651674398206137783

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":285,"in_reply_to":325,"type":"RequestVoteRes","term":37,"res":false},"id":1347}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":286,"type":"RequestVote","term":37,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1348}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":220,"type":"RequestVote","term":38,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1351}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398207726552, 'n2': 1651674398205955190, 'n3': 1651674398204049400, 'n4': 1651674398204697918, 'n5': 1651674398200643260}
curr time
1651674398207867592

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 349, "in_reply_to": 286, "type": "RequestVoteRes", "term": 38, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":226,"in_reply_to":335,"type":"RequestVoteRes","term":38,"res":false},"id":1361}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":219,"in_reply_to":342,"type":"RequestVoteRes","term":32,"res":false},"id":1363}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":228,"in_reply_to":344,"type":"RequestVoteRes","term":38,"res":true},"id":1364}
INFO:root:Bad election request, term is not up to date
n2
at time
1651674398214104027

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 350, "in_reply_to": 220, "type": "RequestVoteRes", "term": 38, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":268,"type":"RequestVote","term":39,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1370}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":292,"in_reply_to":330,"type":"RequestVoteRes","term":37,"res":true},"id":1374}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":274,"type":"AppendEntries","term":39,"prevIndex":12,"prevTerm":18,"entries":[],"commit":0},"id":1379}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398208312547, 'n2': 1651674398205955190, 'n3': 1651674398204049400, 'n4': 1651674398204697918, 'n5': 1651674398218813845}
curr time
1651674398218999686

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398208312547, 'n2': 1651674398205955190, 'n3': 1651674398219517651, 'n4': 1651674398204697918, 'n5': 1651674398218813845}
curr time
1651674398219656661

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398208312547, 'n2': 1651674398205955190, 'n3': 1651674398219517651, 'n4': 1651674398204697918, 'n5': 1651674398220118525}
curr time
1651674398220261514

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 351, "type": "AppendEntries", "term": 38, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":261,"type":"RequestVote","term":37,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n4"},"id":1383}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 352, "type": "AppendEntries", "term": 38, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 353, "type": "AppendEntries", "term": 38, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":296,"in_reply_to":340,"type":"RequestVoteRes","term":37,"res":false},"id":1393}
INFO:root:HBdest
n5
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 354, "type": "AppendEntries", "term": 38, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 355, "in_reply_to": 268, "type": "RequestVoteRes", "term": 39, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651674398234080550

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":225,"in_reply_to":352,"type":"AppendEntriesRes","res":false,"term":38},"id":1398}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n4
timeout dict
{'n1': 1651674398235904938, 'n2': 1651674398205955190, 'n3': 1651674398219517651, 'n4': 1651674398233399649, 'n5': 1651674398220118525}
curr time
1651674398236148825

INFO:root:resposta
True
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 356, "in_reply_to": 274, "type": "AppendEntriesRes", "res": true, "term": 39, "next": 13, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 357, "in_reply_to": 261, "type": "RequestVoteRes", "term": 39, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651674398238397990

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
39
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n4
timeout dict
{'n1': 1651674398238665798, 'n2': 1651674398205955190, 'n3': 1651674398219517651, 'n4': 1651674398237896515, 'n5': 1651674398220118525}
curr time
1651674398238817957

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
39
next I
{'n1': 13, 'n2': 13, 'n3': 12, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 358, "type": "AppendEntries", "term": 39, "prevIndex": 11, "prevTerm": 1, "entries": [[["cas", [1, [2, 1]]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":227,"in_reply_to":358,"type":"AppendEntriesRes","res":true,"term":39,"next":17,"commit":0},"id":1412}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 17, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 359, "type": "AppendEntries", "term": 39, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 17, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

Exception in thread Thread-64:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":235,"in_reply_to":354,"type":"AppendEntriesRes","res":true,"term":38,"next":13,"commit":0},"id":1413}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":302,"in_reply_to":351,"type":"AppendEntriesRes","res":false,"term":39},"id":1420}
INFO:root:387##########:
node
n2
current term
39
next I
{'n1': 12, 'n2': 13, 'n3': 17, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 360, "type": "AppendEntries", "term": 39, "prevIndex": 11, "prevTerm": 1, "entries": [[["cas", [1, [2, 1]]], 18]], "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
40
sec, min max hb
0.36462251564964054
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 361, "type": "RequestVote", "term": 40, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 362, "type": "RequestVote", "term": 40, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 363, "type": "RequestVote", "term": 40, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 364, "type": "RequestVote", "term": 40, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 365, "type": "RequestVote", "term": 40, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":281,"in_reply_to":328,"type":"RequestVoteRes","term":39,"res":false},"id":1423}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":362,"type":"RequestVote","term":40,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1426}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398260499996, 'n2': 1651674398205955190, 'n3': 1651674398243932092, 'n4': 1651674398276041993, 'n5': 1651674398251048208}
curr time
1651674398276554714

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n2
at time
1651674398277195894
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 366, "in_reply_to": 362, "type": "RequestVoteRes", "term": 40, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":228,"in_reply_to":363,"type":"RequestVoteRes","term":39,"res":false},"id":1430}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":238,"in_reply_to":365,"type":"RequestVoteRes","term":40,"res":true},"id":1431}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":366,"in_reply_to":362,"type":"RequestVoteRes","term":40,"res":true},"id":1432}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":303,"in_reply_to":361,"type":"RequestVoteRes","term":40,"res":true},"id":1433}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":285,"in_reply_to":333,"type":"RequestVoteRes","term":39,"res":false},"id":1436}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":287,"in_reply_to":343,"type":"RequestVoteRes","term":39,"res":false},"id":1438}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398260499996, 'n2': 1651674398277187465, 'n3': 1651674398284898364, 'n4': 1651674398276041993, 'n5': 1651674398251048208}
curr time
1651674398285154506

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398260499996, 'n2': 1651674398277187465, 'n3': 1651674398284898364, 'n4': 1651674398276041993, 'n5': 1651674398285831803}
curr time
1651674398285994160

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398260499996, 'n2': 1651674398286838417, 'n3': 1651674398284898364, 'n4': 1651674398276041993, 'n5': 1651674398285831803}
curr time
1651674398286979608

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398290878024, 'n2': 1651674398286838417, 'n3': 1651674398284898364, 'n4': 1651674398276041993, 'n5': 1651674398285831803}
curr time
1651674398291041330

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 367, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:election ended

INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 368, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":229,"in_reply_to":368,"type":"AppendEntriesRes","res":false,"term":40},"id":1446}
INFO:root:HBdest
n4
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":305,"type":"RequestVote","term":41,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1448}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 369, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":309,"in_reply_to":367,"type":"AppendEntriesRes","res":false,"term":41},"id":1454}
INFO:root:HBdest
n5
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 370, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":240,"in_reply_to":370,"type":"AppendEntriesRes","res":true,"term":40,"next":13,"commit":0},"id":1458}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674398290878024, 'n2': 1651674398286838417, 'n3': 1651674398284898364, 'n4': 1651674398314719574, 'n5': 1651674398285831803}
curr time
1651674398315383300

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":312,"type":"RequestVote","term":42,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1461}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":294,"in_reply_to":353,"type":"AppendEntriesRes","res":false,"term":39},"id":1464}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 371, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":318,"type":"RequestVote","term":43,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1470}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":297,"in_reply_to":364,"type":"RequestVoteRes","term":39,"res":false},"id":1480}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 372, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 373, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 374, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674398290878024, 'n2': 1651674398286838417, 'n3': 1651674398284898364, 'n4': 1651674398343092873, 'n5': 1651674398285831803}
curr time
1651674398344570401

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
40
next I
{'n1': 13, 'n2': 13, 'n3': 12, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 375, "type": "AppendEntries", "term": 40, "prevIndex": 11, "prevTerm": 1, "entries": [[["cas", [1, [2, 1]]], 18]], "commit": 0}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 376, "in_reply_to": 305, "type": "RequestVoteRes", "term": 40, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 377, "in_reply_to": 312, "type": "RequestVoteRes", "term": 40, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":323,"in_reply_to":371,"type":"AppendEntriesRes","res":false,"term":43},"id":1482}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":300,"type":"AppendEntries","term":39,"prevIndex":12,"prevTerm":18,"entries":[],"commit":0},"id":1487}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":303,"in_reply_to":369,"type":"AppendEntriesRes","res":true,"term":40,"next":13,"commit":0},"id":1493}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":234,"in_reply_to":372,"type":"AppendEntriesRes","res":false,"term":40},"id":1494}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":243,"in_reply_to":374,"type":"AppendEntriesRes","res":true,"term":40,"next":13,"commit":0},"id":1499}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":236,"in_reply_to":375,"type":"AppendEntriesRes","res":true,"term":40,"next":18,"commit":0},"id":1501}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":307,"in_reply_to":373,"type":"AppendEntriesRes","res":true,"term":40,"next":13,"commit":0},"id":1504}
INFO:root:387##########:
node
n2
current term
40
next I
{'n1': 13, 'n2': 13, 'n3': 12, 'n4': 12, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 378, "type": "AppendEntries", "term": 40, "prevIndex": 11, "prevTerm": 1, "entries": [[["cas", [1, [2, 1]]], 18]], "commit": 0}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 379, "in_reply_to": 318, "type": "RequestVoteRes", "term": 40, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674398374917024, 'n2': 1651674398286838417, 'n3': 1651674398353711387, 'n4': 1651674398376322972, 'n5': 1651674398360558617}
curr time
1651674398376664429

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 380, "in_reply_to": 300, "type": "AppendEntriesRes", "res": false, "term": 40}}
INFO:root:msg term
39
current term
40
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
msg entries
[]

INFO:root:387##########:
node
n2
current term
40
next I
{'n1': 13, 'n2': 13, 'n3': 11, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 381, "type": "AppendEntries", "term": 40, "prevIndex": 10, "prevTerm": 1, "entries": [[["cas", [1, [3, 0]]], 1], [["cas", [1, [2, 1]]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":311,"in_reply_to":378,"type":"AppendEntriesRes","res":true,"term":40,"next":14,"commit":0},"id":1512}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":312,"in_reply_to":380,"type":"error","code":11,"text":"Not Leader"},"id":1513}
WARNING:root:unknown message type error
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":237,"in_reply_to":381,"type":"AppendEntriesRes","res":true,"term":40,"next":20,"commit":0},"id":1514}
INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":326,"type":"RequestVote","term":44,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1516}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 382, "in_reply_to": 326, "type": "RequestVoteRes", "term": 40, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":332,"type":"RequestVote","term":45,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1526}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 20, 'n4': 14, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 384, "type": "AppendEntries", "term": 40, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 20, 'n4': 14, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

Exception in thread Thread-77:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 383, "in_reply_to": 332, "type": "RequestVoteRes", "term": 40, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":337,"in_reply_to":384,"type":"AppendEntriesRes","res":false,"term":45},"id":1536}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":248,"type":"RequestVote","term":41,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1538}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 385, "in_reply_to": 248, "type": "RequestVoteRes", "term": 41, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674398424574597

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":253,"type":"RequestVote","term":42,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1547}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 386, "in_reply_to": 253, "type": "RequestVoteRes", "term": 42, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651674398430507630

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
43
sec, min max hb
0.44805519358408646
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 387, "type": "RequestVote", "term": 43, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 388, "type": "RequestVote", "term": 43, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 389, "type": "RequestVote", "term": 43, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 390, "type": "RequestVote", "term": 43, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 391, "type": "RequestVote", "term": 43, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 20, 'n4': 14, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 392, "type": "AppendEntries", "term": 43, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 20, 'n4': 14, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

Exception in thread Thread-78:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":341,"type":"RequestVote","term":46,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1557}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":388,"type":"RequestVote","term":43,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1566}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":318,"in_reply_to":390,"type":"RequestVoteRes","term":40,"res":false},"id":1570}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":346,"in_reply_to":387,"type":"RequestVoteRes","term":46,"res":false},"id":1571}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":260,"type":"RequestVote","term":43,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1573}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":243,"in_reply_to":389,"type":"RequestVoteRes","term":40,"res":false},"id":1580}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":348,"type":"RequestVote","term":47,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1581}
INFO:root:election timeout, starting new election

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
45
sec, min max hb
0.365032707368067
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":353,"type":"RequestVote","term":48,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1587}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":265,"in_reply_to":391,"type":"RequestVoteRes","term":43,"res":true},"id":1597}
INFO:root:starting new elections, new term
44
sec, min max hb
0.33972920847667365
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 393, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 394, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 396, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 397, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 395, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 398, "in_reply_to": 341, "type": "RequestVoteRes", "term": 45, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":358,"in_reply_to":392,"type":"AppendEntriesRes","res":false,"term":48},"id":1598}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":396,"type":"RequestVote","term":45,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1603}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 399, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":247,"in_reply_to":397,"type":"RequestVoteRes","term":40,"res":false},"id":1606}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 400, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 401, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":395,"type":"RequestVote","term":45,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1607}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 402, "in_reply_to": 388, "type": "RequestVoteRes", "term": 45, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398466505927

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398452237772, 'n2': 1651674398465356224, 'n3': 1651674398384550253, 'n4': 1651674398466808864, 'n5': 1651674398429825513}
curr time
1651674398466976026

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398467533236, 'n2': 1651674398465356224, 'n3': 1651674398384550253, 'n4': 1651674398466808864, 'n5': 1651674398429825513}
curr time
1651674398467691891

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 404, "in_reply_to": 260, "type": "RequestVoteRes", "term": 45, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398468572014

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398467533236, 'n2': 1651674398465356224, 'n3': 1651674398468816089, 'n4': 1651674398466808864, 'n5': 1651674398468223081}
curr time
1651674398468962678

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 405, "in_reply_to": 348, "type": "RequestVoteRes", "term": 45, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 406, "in_reply_to": 353, "type": "RequestVoteRes", "term": 45, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398470089486, 'n2': 1651674398465356224, 'n3': 1651674398468816089, 'n4': 1651674398466808864, 'n5': 1651674398470670524}
curr time
1651674398470849052

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 403, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 407, "type": "RequestVote", "term": 45, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":322,"in_reply_to":399,"type":"RequestVoteRes","term":40,"res":false},"id":1610}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":248,"in_reply_to":401,"type":"RequestVoteRes","term":40,"res":false},"id":1614}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":362,"type":"RequestVote","term":49,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1616}
INFO:root:voting for myself
n2
at time
1651674398472966201
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 408, "in_reply_to": 396, "type": "RequestVoteRes", "term": 45, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":402,"in_reply_to":388,"type":"RequestVoteRes","term":45,"res":false},"id":1622}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":270,"type":"RequestVote","term":45,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1627}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":367,"type":"RequestVote","term":50,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1633}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":408,"in_reply_to":396,"type":"RequestVoteRes","term":45,"res":true},"id":1639}
INFO:root:Got a response to the vote Request #475

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
46
sec, min max hb
0.4354203146705402
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 409, "type": "RequestVote", "term": 46, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":371,"in_reply_to":393,"type":"RequestVoteRes","term":50,"res":false},"id":1641}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
45
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398471593905, 'n2': 1651674398472956610, 'n3': 1651674398478999812, 'n4': 1651674398466808864, 'n5': 1651674398470670524}
curr time
1651674398479477370

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 410, "type": "RequestVote", "term": 46, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":372,"in_reply_to":394,"type":"RequestVoteRes","term":50,"res":false},"id":1643}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":326,"in_reply_to":403,"type":"RequestVoteRes","term":40,"res":false},"id":1645}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":410,"type":"RequestVote","term":46,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1648}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 411, "type": "RequestVote", "term": 46, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 412, "in_reply_to": 395, "type": "RequestVoteRes", "term": 46, "res": false}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 413, "type": "RequestVote", "term": 46, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398486234681

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 414, "type": "RequestVote", "term": 46, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398471593905, 'n2': 1651674398483442691, 'n3': 1651674398478999812, 'n4': 1651674398487124718, 'n5': 1651674398470670524}
curr time
1651674398487963904

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398471593905, 'n2': 1651674398483442691, 'n3': 1651674398488649371, 'n4': 1651674398487124718, 'n5': 1651674398470670524}
curr time
1651674398488805949

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 415, "in_reply_to": 362, "type": "RequestVoteRes", "term": 46, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":252,"in_reply_to":411,"type":"RequestVoteRes","term":40,"res":false},"id":1651}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":412,"in_reply_to":395,"type":"RequestVoteRes","term":46,"res":false},"id":1652}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":327,"in_reply_to":413,"type":"RequestVoteRes","term":40,"res":false},"id":1656}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":268,"type":"RequestVote","term":44,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1658}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":278,"type":"RequestVote","term":46,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1664}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":377,"in_reply_to":409,"type":"RequestVoteRes","term":50,"res":false},"id":1671}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398489300808, 'n2': 1651674398501986553, 'n3': 1651674398488649371, 'n4': 1651674398487124718, 'n5': 1651674398470670524}
curr time
1651674398502194980

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 416, "in_reply_to": 270, "type": "RequestVoteRes", "term": 46, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398503428859

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 417, "in_reply_to": 367, "type": "RequestVoteRes", "term": 46, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398503792044, 'n2': 1651674398504594014, 'n3': 1651674398488649371, 'n4': 1651674398487124718, 'n5': 1651674398502745788}
curr time
1651674398504758058

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398505664843, 'n2': 1651674398504594014, 'n3': 1651674398488649371, 'n4': 1651674398487124718, 'n5': 1651674398502745788}
curr time
1651674398505805652

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398506319577, 'n2': 1651674398504594014, 'n3': 1651674398488649371, 'n4': 1651674398487124718, 'n5': 1651674398502745788}
curr time
1651674398506465058

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
46
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651674398506319577, 'n2': 1651674398504594014, 'n3': 1651674398488649371, 'n4': 1651674398506980496, 'n5': 1651674398502745788}
curr time
1651674398507125976

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n2
at time
1651674398507623638
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 418, "in_reply_to": 410, "type": "RequestVoteRes", "term": 46, "res": true}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
47
sec, min max hb
0.4522898064809237
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 419, "type": "RequestVote", "term": 47, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 420, "type": "RequestVote", "term": 47, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398506319577, 'n2': 1651674398507616390, 'n3': 1651674398509877253, 'n4': 1651674398506980496, 'n5': 1651674398502745788}
curr time
1651674398511995754

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":418,"in_reply_to":410,"type":"RequestVoteRes","term":46,"res":true},"id":1677}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":420,"type":"RequestVote","term":47,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1680}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 421, "type": "RequestVote", "term": 47, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 422, "type": "RequestVote", "term": 47, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 423, "type": "RequestVote", "term": 47, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":284,"in_reply_to":400,"type":"RequestVoteRes","term":46,"res":false},"id":1684}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":379,"in_reply_to":419,"type":"RequestVoteRes","term":50,"res":false},"id":1685}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":330,"in_reply_to":422,"type":"RequestVoteRes","term":40,"res":false},"id":1687}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":255,"in_reply_to":421,"type":"RequestVoteRes","term":40,"res":false},"id":1689}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398506319577, 'n2': 1651674398513014365, 'n3': 1651674398509877253, 'n4': 1651674398506980496, 'n5': 1651674398502745788}
curr time
1651674398521489919

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398506319577, 'n2': 1651674398513014365, 'n3': 1651674398509877253, 'n4': 1651674398522752890, 'n5': 1651674398502745788}
curr time
1651674398522941215

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 424, "in_reply_to": 268, "type": "RequestVoteRes", "term": 47, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398525030560

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 425, "in_reply_to": 278, "type": "RequestVoteRes", "term": 47, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651674398525918370

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398526198014, 'n2': 1651674398513014365, 'n3': 1651674398509877253, 'n4': 1651674398522752890, 'n5': 1651674398525319392}
curr time
1651674398526372251

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651674398526198014, 'n2': 1651674398526889730, 'n3': 1651674398509877253, 'n4': 1651674398522752890, 'n5': 1651674398525319392}
curr time
1651674398527039705

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

INFO:root:voting for myself
n2
at time
1651674398527815369
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 426, "in_reply_to": 420, "type": "RequestVoteRes", "term": 47, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":288,"in_reply_to":407,"type":"RequestVoteRes","term":46,"res":false},"id":1691}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":289,"in_reply_to":414,"type":"RequestVoteRes","term":46,"res":true},"id":1694}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":426,"in_reply_to":420,"type":"RequestVoteRes","term":47,"res":true},"id":1695}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398526198014, 'n2': 1651674398527807601, 'n3': 1651674398509877253, 'n4': 1651674398522752890, 'n5': 1651674398530170638}
curr time
1651674398530399827

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398527807601, 'n3': 1651674398509877253, 'n4': 1651674398522752890, 'n5': 1651674398530170638}
curr time
1651674398531101547

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398527807601, 'n3': 1651674398509877253, 'n4': 1651674398531594866, 'n5': 1651674398530170638}
curr time
1651674398531743221

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398527807601, 'n3': 1651674398532265400, 'n4': 1651674398531594866, 'n5': 1651674398530170638}
curr time
1651674398532410268

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398527807601, 'n3': 1651674398532265400, 'n4': 1651674398531594866, 'n5': 1651674398532904316}
curr time
1651674398533047700

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398527807601, 'n3': 1651674398532265400, 'n4': 1651674398531594866, 'n5': 1651674398533545085}
curr time
1651674398533694120

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398534424512, 'n3': 1651674398532265400, 'n4': 1651674398531594866, 'n5': 1651674398533545085}
curr time
1651674398534566845

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 427, "type": "AppendEntries", "term": 47, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":292,"in_reply_to":423,"type":"RequestVoteRes","term":46,"res":false},"id":1698}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":294,"type":"RequestVote","term":47,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n5"},"id":1702}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":381,"type":"RequestVote","term":51,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1703}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 428, "type": "AppendEntries", "term": 47, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 429, "type": "AppendEntries", "term": 47, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 13, 'n2': 13, 'n3': 13, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 430, "type": "AppendEntries", "term": 47, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":258,"in_reply_to":428,"type":"AppendEntriesRes","res":false,"term":47},"id":1716}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
47
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651674398530951146, 'n2': 1651674398534424512, 'n3': 1651674398532265400, 'n4': 1651674398531594866, 'n5': 1651674398546732197}
curr time
1651674398546997721

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
12
 last log term
18

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 431, "in_reply_to": 294, "type": "RequestVoteRes", "term": 47, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":333,"in_reply_to":429,"type":"AppendEntriesRes","res":true,"term":47,"next":14,"commit":0},"id":1718}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":385,"in_reply_to":427,"type":"AppendEntriesRes","res":false,"term":51},"id":1719}
INFO:root:election started and voted vor
n5
at time
1651674398555802568

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 432, "in_reply_to": 381, "type": "RequestVoteRes", "term": 47, "res": false}}
INFO:root:387##########:
node
n2
current term
47
next I
{'n1': 13, 'n2': 13, 'n3': 12, 'n4': 13, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
dest
n3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
48
sec, min max hb
0.3384253071169573
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 434, "type": "RequestVote", "term": 48, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 435, "type": "RequestVote", "term": 48, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 436, "type": "RequestVote", "term": 48, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 437, "type": "RequestVote", "term": 48, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 438, "type": "RequestVote", "term": 48, "prevLogIndex": 12, "lastLogTerm": 18, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 433, "type": "AppendEntries", "term": 47, "prevIndex": 11, "prevTerm": 1, "entries": [[["cas", [1, [2, 1]]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":300,"in_reply_to":430,"type":"AppendEntriesRes","res":true,"term":47,"next":13,"commit":0},"id":1725}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":389,"type":"RequestVote","term":52,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1729}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":435,"type":"RequestVote","term":48,"prevLogIndex":12,"lastLogTerm":18,"candidateId":"n2"},"id":1734}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":302,"type":"AppendEntries","term":47,"prevIndex":12,"prevTerm":18,"entries":[],"commit":0},"id":1735}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 439, "in_reply_to": 389, "type": "RequestVoteRes", "term": 48, "res": false}}
INFO:root:voting for myself
n2
at time
1651674398568385102
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 440, "in_reply_to": 435, "type": "RequestVoteRes", "term": 48, "res": true}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 441, "in_reply_to": 302, "type": "AppendEntriesRes", "res": false, "term": 48}}
INFO:root:msg term
47
current term
48
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
msg entries
[]

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":335,"in_reply_to":437,"type":"RequestVoteRes","term":47,"res":false},"id":1743}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":440,"in_reply_to":435,"type":"RequestVoteRes","term":48,"res":true},"id":1746}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
48
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398567703445, 'n2': 1651674398568377367, 'n3': 1651674398559012437, 'n4': 1651674398571870994, 'n5': 1651674398568918045}
curr time
1651674398572354210

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
48
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651674398567703445, 'n2': 1651674398572929283, 'n3': 1651674398559012437, 'n4': 1651674398571870994, 'n5': 1651674398568918045}
curr time
1651674398573080917

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":395,"in_reply_to":434,"type":"RequestVoteRes","term":52,"res":false},"id":1752}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":260,"in_reply_to":436,"type":"RequestVoteRes","term":47,"res":false},"id":1753}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":306,"in_reply_to":438,"type":"RequestVoteRes","term":48,"res":true},"id":1755}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":262,"in_reply_to":433,"type":"AppendEntriesRes","res":true,"term":47,"next":21,"commit":0},"id":1756}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
48
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398576078995, 'n2': 1651674398572929283, 'n3': 1651674398559012437, 'n4': 1651674398571870994, 'n5': 1651674398568918045}
curr time
1651674398576268425

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
48
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398576078995, 'n2': 1651674398572929283, 'n3': 1651674398576826595, 'n4': 1651674398571870994, 'n5': 1651674398568918045}
curr time
1651674398576986407

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
48
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651674398576078995, 'n2': 1651674398572929283, 'n3': 1651674398576826595, 'n4': 1651674398571870994, 'n5': 1651674398577527818}
curr time
1651674398577688308

INFO:root:resposta
True
majority
3

INFO:root:antes do incremento no voto #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":307,"type":"AppendEntries","term":48,"prevIndex":11,"prevTerm":1,"entries":[[["cas",[1,[2,1]]],18]],"commit":0},"id":1757}
INFO:root:commiting command
[['cas', [1, [2, 1]]], 18]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 442, "in_reply_to": 307, "type": "AppendEntriesRes", "res": true, "term": 48, "next": 14, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":397,"type":"RequestVote","term":53,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1760}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18), [['cas', [1, [2, 1]]], 18]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 443, "in_reply_to": 397, "type": "RequestVoteRes", "term": 48, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":402,"type":"RequestVote","term":54,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1771}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18), [['cas', [1, [2, 1]]], 18]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 444, "in_reply_to": 402, "type": "RequestVoteRes", "term": 48, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":409,"type":"RequestVote","term":55,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1783}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18), [['cas', [1, [2, 1]]], 18]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 445, "in_reply_to": 409, "type": "RequestVoteRes", "term": 48, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 13, 'n2': 13, 'n3': 21, 'n4': 14, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18), [['cas', [1, [2, 1]]], 18]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 446, "type": "AppendEntries", "term": 48, "prevIndex": 12, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 13, 'n2': 13, 'n3': 21, 'n4': 14, 'n5': 13}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18), [['cas', [1, [2, 1]]], 18]]

Exception in thread Thread-91:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 136, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":415,"in_reply_to":446,"type":"AppendEntriesRes","res":false,"term":55},"id":1794}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":417,"type":"RequestVote","term":56,"prevLogIndex":10,"lastLogTerm":1,"candidateId":"n1"},"id":1796}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (1, 2))), 1), [['cas', [1, [1, 2]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], [['cas', [1, [3, 0]]], 1], (('cas', (1, (2, 1))), 18), [['cas', [1, [2, 1]]], 18]]
prevlog index
10
 last log term
1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 447, "in_reply_to": 417, "type": "RequestVoteRes", "term": 48, "res": false}}

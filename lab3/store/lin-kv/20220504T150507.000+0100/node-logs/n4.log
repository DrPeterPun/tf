DEBUG:root:received {"dest":"n4","body":{"type":"init","node_id":"n4","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c3","id":3}
INFO:root:node n4 initialized
DEBUG:root:sending {"dest": "c3", "src": "n4", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:node
n1
current time
1651673107581978599
node_time
1651673107573854988
dif
8123611
True

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":5,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":11}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 2, "in_reply_to": 5, "type": "RequestVoteRes", "term": 1, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651673107600977463

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":10,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":18}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 3, "in_reply_to": 10, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":14,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":27}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 4, "in_reply_to": 14, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n1","body":{"msg_id":4,"type":"AppendEntries","term":0,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":35}
DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 5, "in_reply_to": 4, "type": "AppendEntriesRes", "res": false, "term": 1}}
INFO:root:msg term
0
current term
1
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n4","src":"n1","body":{"msg_id":12,"type":"AppendEntries","term":1,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":49}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 6, "in_reply_to": 12, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":20,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":54}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 7, "in_reply_to": 20, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":24,"type":"AppendEntries","term":1,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":62}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 8, "in_reply_to": 24, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
2
sec, min max hb
0.4913449308590143
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 9, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 10, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 11, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 12, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 13, "type": "RequestVote", "term": 2, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":12,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":70}
INFO:root:voting for myself
n4
at time
1651673107865931036
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 14, "in_reply_to": 12, "type": "RequestVoteRes", "term": 2, "res": true}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":9,"in_reply_to":11,"type":"RequestVoteRes","term":1,"res":false},"id":73}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107768419405, 'n2': 1651673107858808919, 'n3': 1651673107867975562, 'n4': 1651673107865921402, 'n5': 1651673107573854988}
curr time
1651673107868234506

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":9,"in_reply_to":13,"type":"RequestVoteRes","term":1,"res":false},"id":74}
DEBUG:root:received {"dest":"n4","src":"n1","body":{"msg_id":15,"in_reply_to":9,"type":"RequestVoteRes","term":1,"res":false},"id":75}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107768419405, 'n2': 1651673107858808919, 'n3': 1651673107867975562, 'n4': 1651673107865921402, 'n5': 1651673107871204044}
curr time
1651673107871393884

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673107858808919, 'n3': 1651673107867975562, 'n4': 1651673107865921402, 'n5': 1651673107871204044}
curr time
1651673107872075232

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":26,"in_reply_to":10,"type":"RequestVoteRes","term":2,"res":true},"id":76}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673107875978033, 'n3': 1651673107867975562, 'n4': 1651673107865921402, 'n5': 1651673107871204044}
curr time
1651673107876263762

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":13,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":80}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":13,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":88}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":14,"in_reply_to":12,"type":"RequestVoteRes","term":2,"res":true},"id":83}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 15, "in_reply_to": 13, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 16, "in_reply_to": 13, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673107875978033, 'n3': 1651673107891025355, 'n4': 1651673107891594990, 'n5': 1651673107890167034}
curr time
1651673107891757245

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":30,"type":"AppendEntries","term":2,"entries":[[["write",[0,1]],2]],"prevIndex":1,"prevTerm":0,"commit":0},"id":100}
INFO:root:commiting command
[['write', [0, 1]], 2]

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 17, "in_reply_to": 30, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":35,"type":"AppendEntries","term":2,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":109}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 18, "in_reply_to": 35, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":39,"type":"AppendEntries","term":2,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":115}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 19, "in_reply_to": 39, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":43,"type":"AppendEntries","term":2,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":122}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 20, "in_reply_to": 43, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 3, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
3
sec, min max hb
0.49125933527270593
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 21, "type": "RequestVote", "term": 3, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 22, "type": "RequestVote", "term": 3, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 23, "type": "RequestVote", "term": 3, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 24, "type": "RequestVote", "term": 3, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 25, "type": "RequestVote", "term": 3, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":24,"type":"RequestVote","term":3,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n4"},"id":135}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":24,"type":"RequestVote","term":3,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n3"},"id":136}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":48,"type":"RequestVote","term":3,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n2"},"id":140}
INFO:root:voting for myself
n4
at time
1651673108143796431
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 26, "in_reply_to": 24, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 27, "in_reply_to": 24, "type": "RequestVoteRes", "term": 3, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 28, "in_reply_to": 48, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":21,"in_reply_to":25,"type":"RequestVoteRes","term":2,"res":false},"id":143}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":26,"in_reply_to":24,"type":"RequestVoteRes","term":3,"res":true},"id":144}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":51,"in_reply_to":22,"type":"RequestVoteRes","term":3,"res":false},"id":145}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":27,"in_reply_to":23,"type":"RequestVoteRes","term":3,"res":false},"id":149}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108144882687, 'n3': 1651673108144394304, 'n4': 1651673108143786015, 'n5': 1651673108153480282}
curr time
1651673108153705866

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108144882687, 'n3': 1651673108144394304, 'n4': 1651673108154216279, 'n5': 1651673108153480282}
curr time
1651673108154376744

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108155090140, 'n3': 1651673108144394304, 'n4': 1651673108154216279, 'n5': 1651673108153480282}
curr time
1651673108155239584

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108155090140, 'n3': 1651673108155691945, 'n4': 1651673108154216279, 'n5': 1651673108153480282}
curr time
1651673108155832687

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":32,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n3"},"id":157}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 29, "in_reply_to": 32, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":28,"type":"RequestVote","term":3,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n5"},"id":166}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 30, "in_reply_to": 28, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n4","body":{"key":0,"type":"read","msg_id":1},"src":"c11","id":169}
DEBUG:root:sending {"dest": "c11", "src": "n4", "body": {"msg_id": 31, "in_reply_to": 1, "type": "error", "code": 11, "text": "Not Leader"}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":57,"type":"AppendEntries","term":3,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":176}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 32, "in_reply_to": 57, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":61,"type":"AppendEntries","term":3,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":183}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 33, "in_reply_to": 61, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":65,"type":"AppendEntries","term":3,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":190}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 34, "in_reply_to": 65, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 3, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
4
sec, min max hb
0.3491510837392454
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 35, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 36, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 37, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 38, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 39, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":43,"type":"RequestVote","term":5,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n3"},"id":202}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":38,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n4"},"id":206}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":70,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n2"},"id":210}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 40, "in_reply_to": 43, "type": "RequestVoteRes", "term": 5, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651673108398913278

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":73,"in_reply_to":36,"type":"RequestVoteRes","term":5,"res":false},"id":213}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 41, "in_reply_to": 38, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673108402083082

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 42, "in_reply_to": 70, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673108402780680

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108403064212, 'n3': 1651673108398311289, 'n4': 1651673108401538812, 'n5': 1651673108173986049}
curr time
1651673108403235536

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":78,"type":"RequestVote","term":6,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n2"},"id":219}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":35,"in_reply_to":39,"type":"RequestVoteRes","term":3,"res":false},"id":223}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":46,"in_reply_to":37,"type":"RequestVoteRes","term":5,"res":false},"id":224}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":41,"in_reply_to":38,"type":"RequestVoteRes","term":5,"res":false},"id":226}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 43, "in_reply_to": 78, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108411701007, 'n3': 1651673108398311289, 'n4': 1651673108401538812, 'n5': 1651673108412360374}
curr time
1651673108412514209

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108411701007, 'n3': 1651673108412912828, 'n4': 1651673108401538812, 'n5': 1651673108412360374}
curr time
1651673108413040704

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108411701007, 'n3': 1651673108412912828, 'n4': 1651673108413399925, 'n5': 1651673108412360374}
curr time
1651673108413525650

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":51,"type":"AppendEntries","term":5,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":235}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 44, "in_reply_to": 51, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":41,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n5"},"id":241}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 45, "in_reply_to": 41, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Bad election request, term is not up to date
n3
at time
1651673108424127466

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":85,"type":"AppendEntries","term":6,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":251}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108471679043, 'n3': 1651673108417925836, 'n4': 1651673108413399925, 'n5': 1651673108423761386}
curr time
1651673108472113356

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 46, "in_reply_to": 85, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":89,"type":"AppendEntries","term":6,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":258}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 47, "in_reply_to": 89, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":93,"type":"AppendEntries","term":6,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":265}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 48, "in_reply_to": 93, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 3, "commit": 0}}
INFO:root:election ended

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":98,"type":"RequestVote","term":7,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n2"},"id":273}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 49, "in_reply_to": 98, "type": "RequestVoteRes", "term": 7, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651673108646889479

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
8
sec, min max hb
0.38801366804041965
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 50, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 51, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 52, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 53, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":103,"type":"AppendEntries","term":7,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":281}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 54, "type": "RequestVote", "term": 8, "prevLogIndex": 2, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 55, "in_reply_to": 103, "type": "AppendEntriesRes", "res": false, "term": 8}}
INFO:root:msg term
7
current term
8
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
msg entries
[]

DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":53,"type":"RequestVote","term":8,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n4"},"id":288}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":59,"in_reply_to":52,"type":"RequestVoteRes","term":7,"res":false},"id":291}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":105,"in_reply_to":51,"type":"RequestVoteRes","term":8,"res":true},"id":292}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":50,"in_reply_to":54,"type":"RequestVoteRes","term":7,"res":false},"id":293}
INFO:root:voting for myself
n4
at time
1651673108662225598
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 56, "in_reply_to": 53, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108656786316, 'n3': 1651673108662906034, 'n4': 1651673108662215129, 'n5': 1651673108423761386}
curr time
1651673108663073125

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108663487107, 'n3': 1651673108662906034, 'n4': 1651673108662215129, 'n5': 1651673108423761386}
curr time
1651673108663611335

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108663487107, 'n3': 1651673108662906034, 'n4': 1651673108662215129, 'n5': 1651673108664180053}
curr time
1651673108664298742

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":106,"type":"AppendEntries","term":8,"prevIndex":1,"prevTerm":0,"entries":[[["write",[0,1]],2]],"commit":0},"id":294}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":56,"in_reply_to":53,"type":"RequestVoteRes","term":8,"res":true},"id":295}
INFO:root:commiting command
[['write', [0, 1]], 2]

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 57, "in_reply_to": 106, "type": "AppendEntriesRes", "res": true, "term": 8, "next": 4, "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108665972422, 'n3': 1651673108662906034, 'n4': 1651673108666561369, 'n5': 1651673108664180053}
curr time
1651673108666698655

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":110,"type":"RequestVote","term":9,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n2"},"id":299}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 58, "in_reply_to": 110, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":115,"type":"AppendEntries","term":9,"prevIndex":2,"prevTerm":2,"entries":[],"commit":0},"id":308}
INFO:root:vote ended, new leader is
n2

INFO:root:there is a new leader

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
8
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108677750507, 'n3': 1651673108662906034, 'n4': 1651673108666561369, 'n5': 1651673108664180053}
curr time
1651673108678196961

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 59, "in_reply_to": 115, "type": "AppendEntriesRes", "res": true, "term": 9, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":55,"type":"RequestVote","term":10,"prevLogIndex":2,"lastLogTerm":2,"candidateId":"n5"},"id":315}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
2
 last log term
2

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 60, "in_reply_to": 55, "type": "RequestVoteRes", "term": 9, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":130,"type":"RequestVote","term":11,"prevLogIndex":3,"lastLogTerm":10,"candidateId":"n2"},"id":340}
INFO:root:election ended

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
3
 last log term
10

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 61, "in_reply_to": 130, "type": "RequestVoteRes", "term": 11, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651673108899566455

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":71,"type":"RequestVote","term":12,"prevLogIndex":3,"lastLogTerm":10,"candidateId":"n3"},"id":349}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":64,"type":"RequestVote","term":11,"prevLogIndex":3,"lastLogTerm":2,"candidateId":"n5"},"id":354}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
3
 last log term
10

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 62, "in_reply_to": 71, "type": "RequestVoteRes", "term": 11, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
3
 last log term
2

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 63, "in_reply_to": 64, "type": "RequestVoteRes", "term": 11, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
12
sec, min max hb
0.3582434998090637
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 64, "type": "RequestVote", "term": 12, "prevLogIndex": 3, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 65, "type": "RequestVote", "term": 12, "prevLogIndex": 3, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 66, "type": "RequestVote", "term": 12, "prevLogIndex": 3, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 67, "type": "RequestVote", "term": 12, "prevLogIndex": 3, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 68, "type": "RequestVote", "term": 12, "prevLogIndex": 3, "lastLogTerm": 2, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":135,"type":"AppendEntries","term":11,"prevIndex":3,"prevTerm":10,"entries":[],"commit":0},"id":363}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":67,"type":"RequestVote","term":12,"prevLogIndex":3,"lastLogTerm":2,"candidateId":"n4"},"id":368}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 69, "in_reply_to": 135, "type": "AppendEntriesRes", "res": false, "term": 12}}
INFO:root:msg term
11
current term
12
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
msg entries
[]

INFO:root:voting for myself
n4
at time
1651673108919529643
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 70, "in_reply_to": 67, "type": "RequestVoteRes", "term": 12, "res": true}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":70,"in_reply_to":67,"type":"RequestVoteRes","term":12,"res":true},"id":378}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":72,"type":"RequestVote","term":13,"prevLogIndex":3,"lastLogTerm":2,"candidateId":"n5"},"id":382}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":80,"type":"RequestVote","term":13,"prevLogIndex":3,"lastLogTerm":10,"candidateId":"n3"},"id":383}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":76,"in_reply_to":66,"type":"RequestVoteRes","term":12,"res":false},"id":386}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108918764047, 'n3': 1651673108905852396, 'n4': 1651673108927288464, 'n5': 1651673108906607692}
curr time
1651673108927488210

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
3
 last log term
2

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 71, "in_reply_to": 72, "type": "RequestVoteRes", "term": 12, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
prevlog index
3
 last log term
10

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 72, "in_reply_to": 80, "type": "RequestVoteRes", "term": 12, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108918764047, 'n3': 1651673108929401321, 'n4': 1651673108927288464, 'n5': 1651673108928235882}
curr time
1651673108929562078

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":74,"in_reply_to":68,"type":"RequestVoteRes","term":13,"res":false},"id":389}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":139,"in_reply_to":65,"type":"RequestVoteRes","term":12,"res":false},"id":390}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108918764047, 'n3': 1651673108929401321, 'n4': 1651673108927288464, 'n5': 1651673108932816547}
curr time
1651673108933028548

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n2
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108933567975, 'n3': 1651673108929401321, 'n4': 1651673108927288464, 'n5': 1651673108932816547}
curr time
1651673108933730755

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":142,"type":"AppendEntries","term":12,"prevIndex":2,"prevTerm":2,"entries":[[["cas",[1,[2,4]]],10]],"commit":0},"id":396}
INFO:root:commiting command
[['cas', [1, [2, 4]]], 10]

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 73, "in_reply_to": 142, "type": "AppendEntriesRes", "res": true, "term": 12, "next": 5, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":148,"type":"RequestVote","term":14,"prevLogIndex":3,"lastLogTerm":10,"candidateId":"n2"},"id":407}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10]]
prevlog index
3
 last log term
10

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 74, "in_reply_to": 148, "type": "RequestVoteRes", "term": 12, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":87,"type":"AppendEntries","term":13,"prevIndex":3,"prevTerm":10,"entries":[],"commit":0},"id":411}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 75, "in_reply_to": 87, "type": "AppendEntriesRes", "res": false, "term": 12}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":80,"type":"RequestVote","term":14,"prevLogIndex":3,"lastLogTerm":2,"candidateId":"n5"},"id":416}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10]]
prevlog index
3
 last log term
2

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 76, "in_reply_to": 80, "type": "RequestVoteRes", "term": 12, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":91,"type":"AppendEntries","term":14,"prevIndex":2,"prevTerm":2,"entries":[[["cas",[1,[2,4]]],10]],"commit":0},"id":432}
INFO:root:vote ended, new leader is
n2

INFO:root:there is a new leader

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
12
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108942042198, 'n3': 1651673108964776620, 'n4': 1651673108927288464, 'n5': 1651673108951628065}
curr time
1651673108965125386

INFO:root:commiting command
[['cas', [1, [2, 4]]], 10]

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 77, "in_reply_to": 91, "type": "AppendEntriesRes", "res": true, "term": 14, "next": 6, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n2","body":{"msg_id":157,"type":"AppendEntries","term":14,"prevIndex":3,"prevTerm":10,"entries":[],"commit":0},"id":439}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 78, "in_reply_to": 157, "type": "AppendEntriesRes", "res": false, "term": 14}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":98,"type":"AppendEntries","term":14,"prevIndex":5,"prevTerm":10,"entries":[],"commit":0},"id":447}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 79, "in_reply_to": 98, "type": "AppendEntriesRes", "res": true, "term": 14, "next": 6, "commit": 0}}
INFO:root:node
n3
current time
1651673109143280083
node_time
1651673108927288464
dif
215991619
False

INFO:root:lead is dead

INFO:root:starting new elections, new term
15
sec, min max hb
0.40062720097899424
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 80, "type": "RequestVote", "term": 15, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 81, "type": "RequestVote", "term": 15, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 82, "type": "RequestVote", "term": 15, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 83, "type": "RequestVote", "term": 15, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 84, "type": "RequestVote", "term": 15, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":83,"type":"RequestVote","term":15,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n4"},"id":452}
INFO:root:voting for myself
n4
at time
1651673109147824768
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 85, "in_reply_to": 83, "type": "RequestVoteRes", "term": 15, "res": true}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":99,"in_reply_to":82,"type":"RequestVoteRes","term":14,"res":false},"id":454}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
15
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109150499990, 'n4': 1651673109147815211, 'n5': 1651673108951628065}
curr time
1651673109150703942

INFO:root:resposta
False
majority
3

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
16
sec, min max hb
0.37544980021847074
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 86, "type": "RequestVote", "term": 16, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 87, "type": "RequestVote", "term": 16, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 88, "type": "RequestVote", "term": 16, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 89, "type": "RequestVote", "term": 16, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 90, "type": "RequestVote", "term": 16, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":85,"in_reply_to":83,"type":"RequestVoteRes","term":15,"res":true},"id":455}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":89,"in_reply_to":84,"type":"RequestVoteRes","term":14,"res":false},"id":456}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109150499990, 'n4': 1651673109160889227, 'n5': 1651673108951628065}
curr time
1651673109161165847

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109150499990, 'n4': 1651673109160889227, 'n5': 1651673109161858710}
curr time
1651673109162013753

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":89,"type":"RequestVote","term":16,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n4"},"id":460}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":103,"type":"RequestVote","term":15,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n3"},"id":466}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":108,"type":"RequestVote","term":16,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n3"},"id":471}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":93,"type":"RequestVote","term":15,"prevLogIndex":8,"lastLogTerm":10,"candidateId":"n5"},"id":476}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":98,"type":"RequestVote","term":16,"prevLogIndex":8,"lastLogTerm":10,"candidateId":"n5"},"id":481}
INFO:root:voting for myself
n4
at time
1651673109176014711
nr votes
1

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 91, "in_reply_to": 89, "type": "RequestVoteRes", "term": 16, "res": true}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 92, "in_reply_to": 103, "type": "RequestVoteRes", "term": 16, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651673109177168951

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
5
 last log term
10

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 93, "in_reply_to": 108, "type": "RequestVoteRes", "term": 16, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 94, "in_reply_to": 93, "type": "RequestVoteRes", "term": 16, "res": false}}
INFO:root:Bad election request, term is not up to date
n4
at time
1651673109178353362

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
8
 last log term
10

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 95, "in_reply_to": 98, "type": "RequestVoteRes", "term": 16, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
17
sec, min max hb
0.4574157696400968
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 96, "type": "RequestVote", "term": 17, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 97, "type": "RequestVote", "term": 17, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 98, "type": "RequestVote", "term": 17, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 99, "type": "RequestVote", "term": 17, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 100, "type": "RequestVote", "term": 17, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":100,"in_reply_to":90,"type":"RequestVoteRes","term":16,"res":false},"id":483}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":110,"in_reply_to":88,"type":"RequestVoteRes","term":16,"res":true},"id":488}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":114,"type":"RequestVote","term":17,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n3"},"id":492}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109177431688, 'n4': 1651673109176002245, 'n5': 1651673109191320035}
curr time
1651673109191627285

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109192379681, 'n4': 1651673109176002245, 'n5': 1651673109191320035}
curr time
1651673109192550795

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
5
 last log term
10

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 101, "in_reply_to": 114, "type": "RequestVoteRes", "term": 17, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651673109193970947

DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":91,"in_reply_to":89,"type":"RequestVoteRes","term":16,"res":true},"id":496}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":99,"type":"RequestVote","term":17,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n4"},"id":504}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":109,"type":"RequestVote","term":17,"prevLogIndex":8,"lastLogTerm":10,"candidateId":"n5"},"id":513}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":114,"type":"RequestVote","term":18,"prevLogIndex":8,"lastLogTerm":10,"candidateId":"n5"},"id":518}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":119,"type":"RequestVote","term":19,"prevLogIndex":8,"lastLogTerm":10,"candidateId":"n5"},"id":523}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109193339986, 'n4': 1651673109209015650, 'n5': 1651673109191320035}
curr time
1651673109209302697

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:voting for myself
n4
at time
1651673109210074803
nr votes
2

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 102, "in_reply_to": 99, "type": "RequestVoteRes", "term": 17, "res": true}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
8
 last log term
10

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 103, "in_reply_to": 109, "type": "RequestVoteRes", "term": 17, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
8
 last log term
10

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 104, "in_reply_to": 114, "type": "RequestVoteRes", "term": 17, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
8
 last log term
10

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 105, "in_reply_to": 119, "type": "RequestVoteRes", "term": 17, "res": false}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":102,"in_reply_to":99,"type":"RequestVoteRes","term":17,"res":true},"id":526}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109193339986, 'n4': 1651673109214792622, 'n5': 1651673109211775813}
curr time
1651673109215042033

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n4

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 6, 'n2': 6, 'n3': 6, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 106, "type": "AppendEntries", "term": 17, "prevIndex": 5, "prevTerm": 10, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":124,"type":"RequestVote","term":18,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n3"},"id":533}
INFO:root:HBdest
n2
nextIndex
{'n1': 6, 'n2': 6, 'n3': 6, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]

DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 107, "type": "AppendEntries", "term": 17, "prevIndex": 5, "prevTerm": 10, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 6, 'n2': 6, 'n3': 6, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 108, "type": "AppendEntries", "term": 17, "prevIndex": 5, "prevTerm": 10, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 6, 'n2': 6, 'n3': 6, 'n4': 6, 'n5': 6}
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]

DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 109, "type": "AppendEntries", "term": 17, "prevIndex": 5, "prevTerm": 10, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":121,"in_reply_to":100,"type":"RequestVoteRes","term":19,"res":false},"id":539}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":126,"in_reply_to":98,"type":"RequestVoteRes","term":18,"res":false},"id":544}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":126,"in_reply_to":109,"type":"AppendEntriesRes","res":false,"term":19},"id":546}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
5
 last log term
10

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 110, "in_reply_to": 124, "type": "RequestVoteRes", "term": 18, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651673109243061476

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":131,"in_reply_to":108,"type":"AppendEntriesRes","res":false,"term":19},"id":551}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":134,"type":"AppendEntries","term":19,"prevIndex":5,"prevTerm":10,"entries":[],"commit":0},"id":554}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n4
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109241289541, 'n4': 1651673109214792622, 'n5': 1651673109268763116}
curr time
1651673109269238567

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n4
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n3
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109270398726, 'n4': 1651673109214792622, 'n5': 1651673109268763116}
curr time
1651673109270567794

INFO:root:resposta
False
majority
3

INFO:root:vote ended, new leader is
n4

INFO:root:there is a new leader

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109271129735, 'n4': 1651673109214792622, 'n5': 1651673109271026633}
curr time
1651673109271433157

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 111, "in_reply_to": 134, "type": "AppendEntriesRes", "res": true, "term": 19, "next": 6, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":130,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":559}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":138,"type":"AppendEntries","term":19,"prevIndex":5,"prevTerm":10,"entries":[],"commit":0},"id":564}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 112, "in_reply_to": 138, "type": "AppendEntriesRes", "res": true, "term": 19, "next": 6, "commit": 0}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":135,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":569}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

INFO:root:election ended

INFO:root:node
n3
current time
1651673109400539880
node_time
1651673109214792622
dif
185747258
False

INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":139,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":575}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":143,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":579}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":147,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":583}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":151,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":587}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

DEBUG:root:received {"dest":"n4","body":{"key":0,"from":1,"to":4,"type":"cas","msg_id":1},"src":"c15","id":588}
DEBUG:root:sending {"dest": "c15", "src": "n4", "body": {"msg_id": 113, "in_reply_to": 1, "type": "error", "code": 11, "text": "Not Leader"}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":155,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":593}
INFO:root:280
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
8
0
n4
[]

INFO:root:node
n3
current time
1651673109896818052
node_time
1651673109214792622
dif
682025430
False

INFO:root:lead is dead

INFO:root:starting new elections, new term
20
sec, min max hb
0.34574777463013506
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 114, "type": "RequestVote", "term": 20, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 115, "type": "RequestVote", "term": 20, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 116, "type": "RequestVote", "term": 20, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 117, "type": "RequestVote", "term": 20, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 118, "type": "RequestVote", "term": 20, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":117,"type":"RequestVote","term":20,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n4"},"id":597}
INFO:root:voting for myself
n4
at time
1651673109903165107
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 119, "in_reply_to": 117, "type": "RequestVoteRes", "term": 20, "res": true}}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":156,"in_reply_to":118,"type":"RequestVoteRes","term":19,"res":false},"id":599}
INFO:root:node
n3
current time
1651673109905210081
node_time
1651673109903155292
dif
2054789
True

INFO:root:leader alive, resuming timeout checker

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109332412768, 'n4': 1651673109903155292, 'n5': 1651673109905960958}
curr time
1651673109906150640

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":140,"in_reply_to":116,"type":"RequestVoteRes","term":20,"res":true},"id":600}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109909905020, 'n4': 1651673109903155292, 'n5': 1651673109905960958}
curr time
1651673109910110080

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":160,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":604}
DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":119,"in_reply_to":117,"type":"RequestVoteRes","term":20,"res":true},"id":605}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 120, "in_reply_to": 160, "type": "AppendEntriesRes", "res": false, "term": 20}}
INFO:root:msg term
19
current term
20
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
msg entries
[]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673109909905020, 'n4': 1651673109914784564, 'n5': 1651673109914043905}
curr time
1651673109914952101

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:node
n3
current time
1651673109941372969
node_time
1651673109914784564
dif
26588405
True

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n3
current time
1651673109998698919
node_time
1651673109914784564
dif
83914355
True

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n3
current time
1651673110018671357
node_time
1651673109914784564
dif
103886793
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":164,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":611}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 121, "in_reply_to": 164, "type": "AppendEntriesRes", "res": false, "term": 20}}
INFO:root:msg term
19
current term
20
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
msg entries
[]

DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":168,"type":"AppendEntries","term":19,"prevIndex":8,"prevTerm":10,"entries":[],"commit":0},"id":618}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 122, "in_reply_to": 168, "type": "AppendEntriesRes", "res": false, "term": 20}}
INFO:root:msg term
19
current term
20
log
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
msg entries
[]

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
21
sec, min max hb
0.4030761067728932
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n4", "body": {"msg_id": 123, "type": "RequestVote", "term": 21, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n2", "src": "n4", "body": {"msg_id": 124, "type": "RequestVote", "term": 21, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 125, "type": "RequestVote", "term": 21, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 126, "type": "RequestVote", "term": 21, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:sending {"dest": "n5", "src": "n4", "body": {"msg_id": 127, "type": "RequestVote", "term": 21, "prevLogIndex": 5, "lastLogTerm": 10, "candidateId": "n4"}}
DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":147,"type":"RequestVote","term":21,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n3"},"id":623}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
prevlog index
5
 last log term
10

DEBUG:root:sending {"dest": "n3", "src": "n4", "body": {"msg_id": 128, "in_reply_to": 147, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651673110170012894

DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":126,"type":"RequestVote","term":21,"prevLogIndex":5,"lastLogTerm":10,"candidateId":"n4"},"id":629}
DEBUG:root:received {"dest":"n4","src":"n5","body":{"msg_id":170,"in_reply_to":127,"type":"RequestVoteRes","term":19,"res":false},"id":632}
INFO:root:voting for myself
n4
at time
1651673110178634181
nr votes
0

DEBUG:root:sending {"dest": "n4", "src": "n4", "body": {"msg_id": 129, "in_reply_to": 126, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673110169525062, 'n4': 1651673110178623826, 'n5': 1651673110179281257}
curr time
1651673110179429032

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n4","src":"n4","body":{"msg_id":129,"in_reply_to":126,"type":"RequestVoteRes","term":21,"res":true},"id":634}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673110169525062, 'n4': 1651673110180513893, 'n5': 1651673110179281257}
curr time
1651673110180732544

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n4","src":"n3","body":{"msg_id":150,"in_reply_to":125,"type":"RequestVoteRes","term":21,"res":false},"id":635}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n4
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['pass', None], 0], [['write', [0, 1]], 2], [['write', [0, 1]], 2], [['cas', [1, [2, 4]]], 10], [['cas', [1, [2, 4]]], 10]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n4
timeout dict
{'n1': 1651673107871885331, 'n2': 1651673108972296683, 'n3': 1651673110182684230, 'n4': 1651673110180513893, 'n5': 1651673110179281257}
curr time
1651673110182915568

INFO:root:resposta
False
majority
3


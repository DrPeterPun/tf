DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":2,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":6}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 1, "in_reply_to": 2, "type": "RequestVoteRes", "term": 1, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":8,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":15}
DEBUG:root:received {"dest":"n1","body":{"type":"init","node_id":"n1","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c4","id":16}
INFO:root:election started and voted vor
n2
at time
1651670250214147945

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 2, "in_reply_to": 8, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
INFO:root:node n1 initialized
DEBUG:root:sending {"dest": "c4", "src": "n1", "body": {"msg_id": 3, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 4, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 5, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 6, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 7, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":12,"in_reply_to":4,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":32}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":4,"in_reply_to":7,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":33}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":4,"in_reply_to":6,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":34}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":4,"in_reply_to":5,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":35}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":6,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":38}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 8, "in_reply_to": 6, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670250297047657

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":5,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":41}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 9, "in_reply_to": 5, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":13,"type":"AppendEntries","term":2,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":56}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 10, "in_reply_to": 13, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":7,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":63}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 11, "in_reply_to": 7, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":14,"type":"AppendEntries","term":2,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":76}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 12, "in_reply_to": 14, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
3

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 13, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 14, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 15, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 16, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 17, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":13,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":84}
INFO:root:voting for myself
n1
at time
1651670250315284137
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 18, "in_reply_to": 13, "type": "RequestVoteRes", "term": 3, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":18,"in_reply_to":13,"type":"RequestVoteRes","term":3,"res":true},"id":89}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":18,"in_reply_to":14,"type":"RequestVoteRes","term":2,"res":false},"id":90}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250216085448, 'n1': 1651670250316985984, 'n3': 1651670250309155300, 'n4': 1651670250301652057, 'n5': 1651670250297828650}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250317256276, 'n1': 1651670250316985984, 'n3': 1651670250309155300, 'n4': 1651670250301652057, 'n5': 1651670250297828650}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":19,"in_reply_to":16,"type":"RequestVoteRes","term":2,"res":false},"id":91}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":18,"in_reply_to":15,"type":"RequestVoteRes","term":3,"res":true},"id":92}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":15,"in_reply_to":17,"type":"RequestVoteRes","term":2,"res":false},"id":93}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250317256276, 'n1': 1651670250316985984, 'n3': 1651670250309155300, 'n4': 1651670250317758316, 'n5': 1651670250297828650}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250317256276, 'n1': 1651670250316985984, 'n3': 1651670250317890724, 'n4': 1651670250317758316, 'n5': 1651670250297828650}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 19, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 20, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 21, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 22, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
3
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250317256276, 'n1': 1651670250316985984, 'n3': 1651670250317890724, 'n4': 1651670250317758316, 'n5': 1651670250319235464}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":19,"in_reply_to":19,"type":"AppendEntriesRes","res":true,"term":3,"next":1,"commit":0},"id":98}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":19,"in_reply_to":20,"type":"AppendEntriesRes","res":true,"term":3,"next":1,"commit":0},"id":99}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":20,"in_reply_to":21,"type":"AppendEntriesRes","res":true,"term":3,"next":1,"commit":0},"id":100}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":16,"in_reply_to":22,"type":"AppendEntriesRes","res":true,"term":3,"next":1,"commit":0},"id":101}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":20,"type":"RequestVote","term":4,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":104}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 23, "in_reply_to": 20, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651670250417723096

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":26,"type":"AppendEntries","term":4,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":114}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 24, "in_reply_to": 26, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 1, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 25, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 26, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 27, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 28, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 29, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":25,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":122}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":22,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":123}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":23,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":128}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":20,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":131}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":28,"in_reply_to":28,"type":"RequestVoteRes","term":5,"res":true},"id":142}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":27,"in_reply_to":26,"type":"RequestVoteRes","term":5,"res":true},"id":144}
INFO:root:voting for myself
n1
at time
1651670250521674883
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 30, "in_reply_to": 25, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 31, "in_reply_to": 22, "type": "RequestVoteRes", "term": 5, "res": false}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 32, "in_reply_to": 23, "type": "RequestVoteRes", "term": 5, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 33, "in_reply_to": 20, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250523197411, 'n1': 1651670250521670512, 'n3': 1651670250420446250, 'n4': 1651670250524062788, 'n5': 1651670250523491900}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250524342678, 'n1': 1651670250521670512, 'n3': 1651670250420446250, 'n4': 1651670250524062788, 'n5': 1651670250523491900}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 34, "type": "AppendEntries", "term": 5, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 35, "type": "AppendEntries", "term": 5, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 36, "type": "AppendEntries", "term": 5, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 37, "type": "AppendEntries", "term": 5, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":30,"in_reply_to":27,"type":"RequestVoteRes","term":5,"res":true},"id":146}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":26,"in_reply_to":29,"type":"RequestVoteRes","term":5,"res":false},"id":153}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":31,"type":"AppendEntries","term":5,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":158}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":30,"in_reply_to":25,"type":"RequestVoteRes","term":5,"res":true},"id":160}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250524342678, 'n1': 1651670250521670512, 'n3': 1651670250526511075, 'n4': 1651670250524062788, 'n5': 1651670250523491900}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250524342678, 'n1': 1651670250521670512, 'n3': 1651670250526511075, 'n4': 1651670250524062788, 'n5': 1651670250526744506}

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 38, "in_reply_to": 31, "type": "AppendEntriesRes", "res": true, "term": 5, "next": 1, "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
5
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250526906146, 'n1': 1651670250527042836, 'n3': 1651670250526511075, 'n4': 1651670250524062788, 'n5': 1651670250526744506}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":35,"in_reply_to":34,"type":"AppendEntriesRes","res":true,"term":5,"next":1,"commit":0},"id":173}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":33,"in_reply_to":36,"type":"AppendEntriesRes","res":true,"term":5,"next":1,"commit":0},"id":175}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":35,"in_reply_to":35,"type":"AppendEntriesRes","res":true,"term":5,"next":1,"commit":0},"id":174}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":30,"in_reply_to":37,"type":"AppendEntriesRes","res":true,"term":5,"next":1,"commit":0},"id":177}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":31,"type":"RequestVote","term":6,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":178}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 39, "in_reply_to": 31, "type": "RequestVoteRes", "term": 6, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651670250529823782

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":37,"type":"AppendEntries","term":6,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":188}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 40, "in_reply_to": 37, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
7

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 41, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 42, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 43, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 44, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 45, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":41,"type":"RequestVote","term":7,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":196}
INFO:root:voting for myself
n1
at time
1651670250555556862
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 46, "in_reply_to": 41, "type": "RequestVoteRes", "term": 7, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":38,"in_reply_to":42,"type":"RequestVoteRes","term":6,"res":false},"id":201}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":46,"in_reply_to":41,"type":"RequestVoteRes","term":7,"res":true},"id":202}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":38,"in_reply_to":43,"type":"RequestVoteRes","term":7,"res":true},"id":203}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":36,"in_reply_to":44,"type":"RequestVoteRes","term":7,"res":true},"id":204}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
7
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250556564650, 'n1': 1651670250555552932, 'n3': 1651670250527716645, 'n4': 1651670250527698532, 'n5': 1651670250532812727}

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":41,"in_reply_to":45,"type":"RequestVoteRes","term":7,"res":true},"id":205}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
7
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250556564650, 'n1': 1651670250556981904, 'n3': 1651670250527716645, 'n4': 1651670250527698532, 'n5': 1651670250532812727}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
7
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250556564650, 'n1': 1651670250556981904, 'n3': 1651670250557137404, 'n4': 1651670250527698532, 'n5': 1651670250532812727}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 47, "type": "AppendEntries", "term": 7, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 48, "type": "AppendEntries", "term": 7, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 49, "type": "AppendEntries", "term": 7, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 50, "type": "AppendEntries", "term": 7, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
7
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250556564650, 'n1': 1651670250556981904, 'n3': 1651670250557137404, 'n4': 1651670250557845461, 'n5': 1651670250532812727}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
7
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250556564650, 'n1': 1651670250556981904, 'n3': 1651670250557137404, 'n4': 1651670250557845461, 'n5': 1651670250558066524}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":39,"in_reply_to":48,"type":"AppendEntriesRes","res":true,"term":7,"next":1,"commit":0},"id":210}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":39,"in_reply_to":47,"type":"AppendEntriesRes","res":true,"term":7,"next":1,"commit":0},"id":211}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":37,"in_reply_to":49,"type":"AppendEntriesRes","res":true,"term":7,"next":1,"commit":0},"id":212}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":42,"in_reply_to":50,"type":"AppendEntriesRes","res":true,"term":7,"next":1,"commit":0},"id":213}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":38,"type":"RequestVote","term":8,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":214}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 51, "in_reply_to": 38, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670250564917354

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":44,"type":"AppendEntries","term":8,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":224}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 52, "in_reply_to": 44, "type": "AppendEntriesRes", "res": true, "term": 8, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":42,"type":"RequestVote","term":9,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":232}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 53, "in_reply_to": 42, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":48,"type":"AppendEntries","term":9,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":242}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n2
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250628688497, 'n1': 1651670250556981904, 'n3': 1651670250559089779, 'n4': 1651670250567521495, 'n5': 1651670250559141215}

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 54, "in_reply_to": 48, "type": "AppendEntriesRes", "res": true, "term": 9, "next": 1, "commit": 0}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":44,"type":"RequestVote","term":10,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":248}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 55, "in_reply_to": 44, "type": "RequestVoteRes", "term": 10, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651670250632025787

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":50,"type":"AppendEntries","term":10,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":260}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 56, "in_reply_to": 50, "type": "AppendEntriesRes", "res": true, "term": 10, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":54,"type":"RequestVote","term":11,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":270}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 57, "in_reply_to": 54, "type": "RequestVoteRes", "term": 10, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":60,"type":"AppendEntries","term":11,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":280}
INFO:root:vote ended, new leader is
n2

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n2
kvsotr
{}
cur term
10
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250664610033, 'n1': 1651670250556981904, 'n3': 1651670250639543834, 'n4': 1651670250567521495, 'n5': 1651670250559141215}

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 58, "in_reply_to": 60, "type": "AppendEntriesRes", "res": true, "term": 11, "next": 1, "commit": 0}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":56,"type":"AppendEntries","term":11,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":288}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 59, "in_reply_to": 56, "type": "AppendEntriesRes", "res": true, "term": 11, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":60,"type":"RequestVote","term":12,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":295}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 60, "in_reply_to": 60, "type": "RequestVoteRes", "term": 12, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651670250675282630

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":66,"type":"AppendEntries","term":12,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":306}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 61, "in_reply_to": 66, "type": "AppendEntriesRes", "res": true, "term": 12, "next": 1, "commit": 0}}
INFO:root:node
n2
current time
1651670250732882872
node_time
1651670250556981904
dif
175900968
False

INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
13

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 62, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 63, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 64, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 65, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 66, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":62,"type":"RequestVote","term":13,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":314}
INFO:root:voting for myself
n1
at time
1651670250734742437
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 67, "in_reply_to": 62, "type": "RequestVoteRes", "term": 13, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":67,"type":"RequestVote","term":13,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":319}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":67,"in_reply_to":62,"type":"RequestVoteRes","term":13,"res":true},"id":320}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 68, "in_reply_to": 67, "type": "RequestVoteRes", "term": 13, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250736184527, 'n1': 1651670250736486529, 'n3': 1651670250683827968, 'n4': 1651670250567521495, 'n5': 1651670250559141215}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":70,"in_reply_to":64,"type":"RequestVoteRes","term":13,"res":true},"id":321}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":69,"in_reply_to":63,"type":"RequestVoteRes","term":13,"res":true},"id":322}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":58,"in_reply_to":65,"type":"RequestVoteRes","term":13,"res":true},"id":323}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":54,"in_reply_to":66,"type":"RequestVoteRes","term":13,"res":true},"id":325}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n2
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250736184527, 'n1': 1651670250736486529, 'n3': 1651670250737924016, 'n4': 1651670250567521495, 'n5': 1651670250559141215}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 69, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 70, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 71, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 72, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250740085242, 'n1': 1651670250736486529, 'n3': 1651670250737924016, 'n4': 1651670250567521495, 'n5': 1651670250559141215}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250740085242, 'n1': 1651670250736486529, 'n3': 1651670250737924016, 'n4': 1651670250740434722, 'n5': 1651670250559141215}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250740085242, 'n1': 1651670250736486529, 'n3': 1651670250737924016, 'n4': 1651670250740434722, 'n5': 1651670250740662975}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":72,"in_reply_to":70,"type":"AppendEntriesRes","res":true,"term":13,"next":1,"commit":0},"id":338}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":60,"in_reply_to":71,"type":"AppendEntriesRes","res":true,"term":13,"next":1,"commit":0},"id":339}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":56,"in_reply_to":72,"type":"AppendEntriesRes","res":true,"term":13,"next":1,"commit":0},"id":340}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":74,"in_reply_to":69,"type":"AppendEntriesRes","res":true,"term":13,"next":1,"commit":0},"id":341}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":61,"type":"RequestVote","term":14,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":342}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 73, "in_reply_to": 61, "type": "RequestVoteRes", "term": 14, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670250761542741

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":73,"type":"RequestVote","term":14,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":346}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":57,"type":"RequestVote","term":14,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":354}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 74, "in_reply_to": 73, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 75, "in_reply_to": 57, "type": "RequestVoteRes", "term": 14, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":69,"type":"AppendEntries","term":14,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":370}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 76, "in_reply_to": 69, "type": "AppendEntriesRes", "res": true, "term": 14, "next": 1, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
15

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 77, "type": "RequestVote", "term": 15, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 78, "type": "RequestVote", "term": 15, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 79, "type": "RequestVote", "term": 15, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 80, "type": "RequestVote", "term": 15, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 81, "type": "RequestVote", "term": 15, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":77,"type":"RequestVote","term":15,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":380}
INFO:root:voting for myself
n1
at time
1651670250778033473
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 82, "in_reply_to": 77, "type": "RequestVoteRes", "term": 15, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":79,"in_reply_to":78,"type":"RequestVoteRes","term":15,"res":true},"id":385}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":82,"in_reply_to":79,"type":"RequestVoteRes","term":14,"res":false},"id":386}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":82,"in_reply_to":77,"type":"RequestVoteRes","term":15,"res":true},"id":387}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":66,"in_reply_to":81,"type":"RequestVoteRes","term":14,"res":false},"id":388}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":73,"in_reply_to":80,"type":"RequestVoteRes","term":15,"res":true},"id":389}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
15
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250779683620, 'n1': 1651670250778028768, 'n3': 1651670250762828603, 'n4': 1651670250766994695, 'n5': 1651670250763026353}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
15
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250779683620, 'n1': 1651670250778028768, 'n3': 1651670250780064698, 'n4': 1651670250766994695, 'n5': 1651670250763026353}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
15
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250779683620, 'n1': 1651670250780262932, 'n3': 1651670250780064698, 'n4': 1651670250766994695, 'n5': 1651670250763026353}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 83, "type": "AppendEntries", "term": 15, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 84, "type": "AppendEntries", "term": 15, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 85, "type": "AppendEntries", "term": 15, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 86, "type": "AppendEntries", "term": 15, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
15
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250779683620, 'n1': 1651670250780262932, 'n3': 1651670250780064698, 'n4': 1651670250766994695, 'n5': 1651670250781549458}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
15
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250779683620, 'n1': 1651670250780262932, 'n3': 1651670250780064698, 'n4': 1651670250781789689, 'n5': 1651670250781549458}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":74,"in_reply_to":85,"type":"AppendEntriesRes","res":true,"term":15,"next":1,"commit":0},"id":394}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":67,"in_reply_to":86,"type":"AppendEntriesRes","res":true,"term":15,"next":1,"commit":0},"id":395}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":80,"in_reply_to":83,"type":"AppendEntriesRes","res":true,"term":15,"next":1,"commit":0},"id":396}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":83,"in_reply_to":84,"type":"AppendEntriesRes","res":true,"term":15,"next":1,"commit":0},"id":397}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":75,"type":"RequestVote","term":16,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":398}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":81,"type":"RequestVote","term":16,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":400}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 87, "in_reply_to": 75, "type": "RequestVoteRes", "term": 16, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670250837864673

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 88, "in_reply_to": 81, "type": "RequestVoteRes", "term": 16, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":82,"type":"AppendEntries","term":16,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":418}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 89, "in_reply_to": 82, "type": "AppendEntriesRes", "res": true, "term": 16, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
17

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 90, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 91, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 92, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 93, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 94, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":90,"type":"RequestVote","term":17,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":426}
INFO:root:voting for myself
n1
at time
1651670250863438463
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 95, "in_reply_to": 90, "type": "RequestVoteRes", "term": 17, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":89,"in_reply_to":91,"type":"RequestVoteRes","term":16,"res":false},"id":431}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":95,"in_reply_to":90,"type":"RequestVoteRes","term":17,"res":true},"id":432}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":87,"in_reply_to":92,"type":"RequestVoteRes","term":16,"res":false},"id":433}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250864521001, 'n1': 1651670250863433162, 'n3': 1651670250783896753, 'n4': 1651670250840889661, 'n5': 1651670250783146556}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":71,"in_reply_to":94,"type":"RequestVoteRes","term":16,"res":false},"id":434}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250864521001, 'n1': 1651670250864998112, 'n3': 1651670250783896753, 'n4': 1651670250840889661, 'n5': 1651670250783146556}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":86,"in_reply_to":93,"type":"RequestVoteRes","term":17,"res":true},"id":435}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":88,"type":"RequestVote","term":17,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":436}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250864521001, 'n1': 1651670250864998112, 'n3': 1651670250866451718, 'n4': 1651670250840889661, 'n5': 1651670250783146556}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":72,"type":"RequestVote","term":17,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":444}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250864521001, 'n1': 1651670250864998112, 'n3': 1651670250866451718, 'n4': 1651670250840889661, 'n5': 1651670250866673198}

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 96, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 97, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 98, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":95,"type":"AppendEntries","term":17,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":454}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 99, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250864521001, 'n1': 1651670250864998112, 'n3': 1651670250866451718, 'n4': 1651670250869457426, 'n5': 1651670250866673198}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 100, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 101, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":99,"in_reply_to":97,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":462}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":90,"in_reply_to":98,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":464}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 102, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 103, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":80,"in_reply_to":99,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":468}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":100,"in_reply_to":101,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":470}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 104, "in_reply_to": 88, "type": "RequestVoteRes", "term": 17, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651670250871946579

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 105, "in_reply_to": 72, "type": "RequestVoteRes", "term": 17, "res": false}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 106, "in_reply_to": 95, "type": "AppendEntriesRes", "res": true, "term": 17, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":93,"in_reply_to":96,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":474}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":94,"in_reply_to":100,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":475}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":91,"in_reply_to":102,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":476}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":81,"in_reply_to":103,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":477}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":101,"type":"AppendEntries","term":17,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":480}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 107, "in_reply_to": 101, "type": "AppendEntriesRes", "res": true, "term": 17, "next": 1, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 108, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 109, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 110, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 111, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":96,"in_reply_to":108,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":491}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":105,"in_reply_to":109,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":492}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":93,"in_reply_to":110,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":493}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":94,"type":"AppendEntries","term":17,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":495}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 112, "in_reply_to": 94, "type": "AppendEntriesRes", "res": true, "term": 17, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":83,"in_reply_to":111,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":500}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":98,"type":"RequestVote","term":18,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":504}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 113, "in_reply_to": 98, "type": "RequestVoteRes", "term": 17, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":104,"type":"AppendEntries","term":18,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":514}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n4
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250879140849, 'n1': 1651670250864998112, 'n3': 1651670250879188621, 'n4': 1651670250886119074, 'n5': 1651670250880129830}

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 114, "in_reply_to": 104, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":109,"type":"AppendEntries","term":18,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":522}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 115, "in_reply_to": 109, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":113,"type":"RequestVote","term":19,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":530}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 116, "in_reply_to": 113, "type": "RequestVoteRes", "term": 19, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651670250895710061

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":119,"type":"AppendEntries","term":19,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":540}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 117, "in_reply_to": 119, "type": "AppendEntriesRes", "res": true, "term": 19, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
20

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 118, "type": "RequestVote", "term": 20, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 119, "type": "RequestVote", "term": 20, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 120, "type": "RequestVote", "term": 20, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 121, "type": "RequestVote", "term": 20, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 122, "type": "RequestVote", "term": 20, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":118,"type":"RequestVote","term":20,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":548}
INFO:root:voting for myself
n1
at time
1651670250939255359
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 123, "in_reply_to": 118, "type": "RequestVoteRes", "term": 20, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":90,"type":"RequestVote","term":20,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":553}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":111,"type":"RequestVote","term":20,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":556}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":103,"in_reply_to":119,"type":"RequestVoteRes","term":20,"res":true},"id":563}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":95,"in_reply_to":122,"type":"RequestVoteRes","term":20,"res":true},"id":564}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":123,"in_reply_to":118,"type":"RequestVoteRes","term":20,"res":true},"id":565}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":123,"in_reply_to":120,"type":"RequestVoteRes","term":20,"res":true},"id":566}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":104,"type":"RequestVote","term":21,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":567}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 124, "in_reply_to": 90, "type": "RequestVoteRes", "term": 20, "res": false}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 125, "in_reply_to": 111, "type": "RequestVoteRes", "term": 20, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n4
kvsotr
{}
cur term
20
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250941914105, 'n1': 1651670250939251451, 'n3': 1651670250900115665, 'n4': 1651670250941801041, 'n5': 1651670250941614150}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n4
kvsotr
{}
cur term
20
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250941914105, 'n1': 1651670250939251451, 'n3': 1651670250900115665, 'n4': 1651670250941801041, 'n5': 1651670250942179959}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 126, "type": "AppendEntries", "term": 20, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 127, "type": "AppendEntries", "term": 20, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 128, "type": "AppendEntries", "term": 20, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 129, "type": "AppendEntries", "term": 20, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":116,"in_reply_to":121,"type":"RequestVoteRes","term":20,"res":true},"id":576}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
20
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250941914105, 'n1': 1651670250943405463, 'n3': 1651670250900115665, 'n4': 1651670250941801041, 'n5': 1651670250942179959}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
20
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250941914105, 'n1': 1651670250943405463, 'n3': 1651670250943591669, 'n4': 1651670250941801041, 'n5': 1651670250942179959}

INFO:root:resposta
True
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 130, "in_reply_to": 104, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651670250943828499

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":127,"in_reply_to":127,"type":"AppendEntriesRes","res":true,"term":20,"next":1,"commit":0},"id":591}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":112,"in_reply_to":126,"type":"AppendEntriesRes","res":false,"term":21},"id":593}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":99,"in_reply_to":129,"type":"AppendEntriesRes","res":true,"term":20,"next":1,"commit":0},"id":594}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":120,"in_reply_to":128,"type":"AppendEntriesRes","res":true,"term":20,"next":1,"commit":0},"id":595}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
21
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
n2
timeout dict
{'n2': 1651670250943730422, 'n1': 1651670250943405463, 'n3': 1651670250943591669, 'n4': 1651670250945458667, 'n5': 1651670250942179959}

INFO:root:resposta
True
majority
3

INFO:root:387##########:
node
n1
current term
21
next I
{'n1': 1, 'n2': 0, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 131, "type": "AppendEntries", "term": 21, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":113,"type":"AppendEntries","term":21,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":596}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 132, "in_reply_to": 113, "type": "AppendEntriesRes", "res": true, "term": 21, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":117,"in_reply_to":131,"type":"AppendEntriesRes","res":true,"term":21,"next":2,"commit":0},"id":605}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
22

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 133, "type": "RequestVote", "term": 22, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 134, "type": "RequestVote", "term": 22, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 135, "type": "RequestVote", "term": 22, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 136, "type": "RequestVote", "term": 22, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 137, "type": "RequestVote", "term": 22, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":133,"type":"RequestVote","term":22,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":606}
INFO:root:voting for myself
n1
at time
1651670250973563361
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 138, "in_reply_to": 133, "type": "RequestVoteRes", "term": 22, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":118,"in_reply_to":134,"type":"RequestVoteRes","term":21,"res":false},"id":611}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":138,"in_reply_to":133,"type":"RequestVoteRes","term":22,"res":true},"id":612}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":122,"in_reply_to":136,"type":"RequestVoteRes","term":22,"res":true},"id":613}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":101,"in_reply_to":137,"type":"RequestVoteRes","term":22,"res":true},"id":614}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
22
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250974201317, 'n1': 1651670250973559673, 'n3': 1651670250945708744, 'n4': 1651670250945990417, 'n5': 1651670250945968329}

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":129,"in_reply_to":135,"type":"RequestVoteRes","term":22,"res":true},"id":615}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
22
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250974201317, 'n1': 1651670250974647772, 'n3': 1651670250945708744, 'n4': 1651670250945990417, 'n5': 1651670250945968329}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
22
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250974201317, 'n1': 1651670250974647772, 'n3': 1651670250945708744, 'n4': 1651670250974831788, 'n5': 1651670250945968329}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 139, "type": "AppendEntries", "term": 22, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 140, "type": "AppendEntries", "term": 22, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 141, "type": "AppendEntries", "term": 22, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 142, "type": "AppendEntries", "term": 22, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
22
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250974201317, 'n1': 1651670250974647772, 'n3': 1651670250945708744, 'n4': 1651670250974831788, 'n5': 1651670250975719723}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
22
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250974201317, 'n1': 1651670250974647772, 'n3': 1651670250975882673, 'n4': 1651670250974831788, 'n5': 1651670250975719723}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":130,"in_reply_to":140,"type":"AppendEntriesRes","res":true,"term":22,"next":1,"commit":0},"id":620}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":123,"in_reply_to":141,"type":"AppendEntriesRes","res":true,"term":22,"next":1,"commit":0},"id":621}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":119,"in_reply_to":139,"type":"AppendEntriesRes","res":true,"term":22,"next":2,"commit":0},"id":622}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":102,"in_reply_to":142,"type":"AppendEntriesRes","res":true,"term":22,"next":1,"commit":0},"id":623}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":120,"type":"RequestVote","term":23,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":626}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 143, "in_reply_to": 120, "type": "RequestVoteRes", "term": 23, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651670250981245787

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":126,"type":"AppendEntries","term":23,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":636}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
24

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 144, "type": "RequestVote", "term": 24, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 145, "type": "RequestVote", "term": 24, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 146, "type": "RequestVote", "term": 24, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 147, "type": "RequestVote", "term": 24, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 148, "type": "RequestVote", "term": 24, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":144,"type":"RequestVote","term":24,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":640}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 149, "in_reply_to": 126, "type": "AppendEntriesRes", "res": false, "term": 24}}
INFO:root:msg term
23
current term
24
log
[(('pass', None), 0)]
msg entries
[]

INFO:root:voting for myself
n1
at time
1651670250985140294
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 150, "in_reply_to": 144, "type": "RequestVoteRes", "term": 24, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":104,"in_reply_to":148,"type":"RequestVoteRes","term":24,"res":true},"id":647}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":133,"type":"RequestVote","term":23,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":645}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":125,"in_reply_to":147,"type":"RequestVoteRes","term":24,"res":true},"id":648}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":150,"in_reply_to":144,"type":"RequestVoteRes","term":24,"res":true},"id":649}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":130,"in_reply_to":145,"type":"RequestVoteRes","term":23,"res":false},"id":653}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
24
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250984886961, 'n1': 1651670250985137027, 'n3': 1651670250976359051, 'n4': 1651670250976541213, 'n5': 1651670250986554311}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 151, "in_reply_to": 133, "type": "RequestVoteRes", "term": 24, "res": false}}
INFO:root:Bad election request, term is not up to date
n1
at time
1651670250987041529

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
24
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670250984886961, 'n1': 1651670250985137027, 'n3': 1651670250986855044, 'n4': 1651670250987124573, 'n5': 1651670250986554311}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":138,"in_reply_to":146,"type":"RequestVoteRes","term":24,"res":true},"id":656}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":131,"type":"AppendEntries","term":23,"prevIndex":0,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":658}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 152, "type": "AppendEntries", "term": 24, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 153, "type": "AppendEntries", "term": 24, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 154, "type": "AppendEntries", "term": 24, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 155, "type": "AppendEntries", "term": 24, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
24
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250984886961, 'n1': 1651670250988836501, 'n3': 1651670250986855044, 'n4': 1651670250987124573, 'n5': 1651670250986554311}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
24
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250989057972, 'n1': 1651670250988836501, 'n3': 1651670250986855044, 'n4': 1651670250987124573, 'n5': 1651670250986554311}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
24
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670250989057972, 'n1': 1651670250988836501, 'n3': 1651670250989205434, 'n4': 1651670250987124573, 'n5': 1651670250986554311}

INFO:root:resposta
True
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 156, "in_reply_to": 131, "type": "AppendEntriesRes", "res": false, "term": 24}}
INFO:root:msg term
23
current term
24
log
[(('pass', None), 0)]
msg entries
[[['pass', None], 0]]

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":133,"in_reply_to":152,"type":"AppendEntriesRes","res":true,"term":24,"next":2,"commit":0},"id":665}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":127,"in_reply_to":154,"type":"AppendEntriesRes","res":true,"term":24,"next":1,"commit":0},"id":666}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":140,"in_reply_to":153,"type":"AppendEntriesRes","res":true,"term":24,"next":1,"commit":0},"id":667}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":106,"in_reply_to":155,"type":"AppendEntriesRes","res":true,"term":24,"next":1,"commit":0},"id":670}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":134,"in_reply_to":156,"type":"error","code":11,"text":"Not Leader"},"id":671}
WARNING:root:unknown message type error
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":107,"type":"RequestVote","term":25,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":672}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 157, "in_reply_to": 107, "type": "RequestVoteRes", "term": 25, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651670250998103068

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":129,"type":"RequestVote","term":25,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":682}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 158, "in_reply_to": 129, "type": "RequestVoteRes", "term": 25, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":113,"type":"AppendEntries","term":25,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":690}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 159, "in_reply_to": 113, "type": "AppendEntriesRes", "res": true, "term": 25, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":136,"type":"AppendEntries","term":25,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":700}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 160, "in_reply_to": 136, "type": "AppendEntriesRes", "res": true, "term": 25, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
26

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 161, "type": "RequestVote", "term": 26, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 162, "type": "RequestVote", "term": 26, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 163, "type": "RequestVote", "term": 26, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 164, "type": "RequestVote", "term": 26, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 165, "type": "RequestVote", "term": 26, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":161,"type":"RequestVote","term":26,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":708}
INFO:root:voting for myself
n1
at time
1651670251023274406
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 166, "in_reply_to": 161, "type": "RequestVoteRes", "term": 26, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":166,"in_reply_to":161,"type":"RequestVoteRes","term":26,"res":true},"id":714}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":145,"in_reply_to":163,"type":"RequestVoteRes","term":26,"res":true},"id":715}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":119,"in_reply_to":165,"type":"RequestVoteRes","term":25,"res":false},"id":713}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
26
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670250989981801, 'n1': 1651670251024024657, 'n3': 1651670250990041826, 'n4': 1651670251004445547, 'n5': 1651670251000836916}

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":139,"in_reply_to":162,"type":"RequestVoteRes","term":25,"res":false},"id":716}
INFO:root:resposta
True
majority
3

INFO:root:election timeout, starting new election

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":140,"in_reply_to":164,"type":"RequestVoteRes","term":26,"res":true},"id":717}
INFO:root:antes  #487
1

INFO:root:starting new elections, new term
27

INFO:root:depois  #489
2

INFO:root:Requesting new Vote

INFO:root:Got a response to the vote Request #475

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 167, "type": "RequestVote", "term": 27, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n2': 1651670250989981801, 'n1': 1651670251024024657, 'n3': 1651670251024677058, 'n4': 1651670251004445547, 'n5': 1651670251000836916}

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 168, "type": "RequestVote", "term": 27, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
INFO:root:resposta
True
majority
3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 169, "type": "RequestVote", "term": 27, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
INFO:root:antes  #487
0

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 170, "type": "RequestVote", "term": 27, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":167,"type":"RequestVote","term":27,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":718}
INFO:root:depois  #489
1

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 171, "type": "RequestVote", "term": 27, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n2': 1651670250989981801, 'n1': 1651670251024024657, 'n3': 1651670251024677058, 'n4': 1651670251004445547, 'n5': 1651670251025580021}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n2': 1651670251025934435, 'n1': 1651670251024024657, 'n3': 1651670251024677058, 'n4': 1651670251004445547, 'n5': 1651670251025580021}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n2': 1651670251025934435, 'n1': 1651670251024024657, 'n3': 1651670251024677058, 'n4': 1651670251026089346, 'n5': 1651670251025580021}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:voting for myself
n1
at time
1651670251026306805
nr votes
3

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 172, "in_reply_to": 167, "type": "RequestVoteRes", "term": 27, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":140,"in_reply_to":168,"type":"RequestVoteRes","term":25,"res":false},"id":722}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":146,"in_reply_to":169,"type":"RequestVoteRes","term":27,"res":true},"id":723}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":141,"in_reply_to":170,"type":"RequestVoteRes","term":27,"res":true},"id":725}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":120,"in_reply_to":171,"type":"RequestVoteRes","term":25,"res":false},"id":726}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":172,"in_reply_to":167,"type":"RequestVoteRes","term":27,"res":true},"id":727}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
3
n1
timeout dict
{'n2': 1651670251027618349, 'n1': 1651670251026304284, 'n3': 1651670251024677058, 'n4': 1651670251026089346, 'n5': 1651670251025580021}

INFO:root:resposta
False
majority
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 173, "type": "AppendEntries", "term": 27, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 174, "type": "AppendEntries", "term": 27, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 175, "type": "AppendEntries", "term": 27, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 176, "type": "AppendEntries", "term": 27, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":147,"in_reply_to":174,"type":"AppendEntriesRes","res":true,"term":27,"next":1,"commit":0},"id":732}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251027618349, 'n1': 1651670251026304284, 'n3': 1651670251028819160, 'n4': 1651670251026089346, 'n5': 1651670251025580021}

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":141,"in_reply_to":173,"type":"AppendEntriesRes","res":true,"term":27,"next":2,"commit":0},"id":733}
INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":142,"in_reply_to":175,"type":"AppendEntriesRes","res":true,"term":27,"next":1,"commit":0},"id":734}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":121,"in_reply_to":176,"type":"AppendEntriesRes","res":true,"term":27,"next":1,"commit":0},"id":735}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251027618349, 'n1': 1651670251026304284, 'n3': 1651670251028819160, 'n4': 1651670251030660288, 'n5': 1651670251025580021}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251027618349, 'n1': 1651670251026304284, 'n3': 1651670251028819160, 'n4': 1651670251030660288, 'n5': 1651670251031065447}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
27
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251027618349, 'n1': 1651670251031224937, 'n3': 1651670251028819160, 'n4': 1651670251030660288, 'n5': 1651670251031065447}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":143,"type":"RequestVote","term":28,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":736}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 177, "in_reply_to": 143, "type": "RequestVoteRes", "term": 28, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670251035202750

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":149,"type":"AppendEntries","term":28,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":746}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 178, "in_reply_to": 149, "type": "AppendEntriesRes", "res": true, "term": 28, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":124,"type":"RequestVote","term":29,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":754}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 179, "in_reply_to": 124, "type": "RequestVoteRes", "term": 28, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":130,"type":"AppendEntries","term":29,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":764}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
28
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251031390368, 'n1': 1651670251031224937, 'n3': 1651670251031367417, 'n4': 1651670251037662714, 'n5': 1651670251045640022}

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 180, "in_reply_to": 130, "type": "AppendEntriesRes", "res": true, "term": 29, "next": 1, "commit": 0}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":155,"type":"RequestVote","term":30,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":772}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":152,"type":"RequestVote","term":30,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":773}
INFO:root:election ended

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 181, "in_reply_to": 155, "type": "RequestVoteRes", "term": 30, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670251075692629

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 182, "in_reply_to": 152, "type": "RequestVoteRes", "term": 30, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":162,"type":"AppendEntries","term":30,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":792}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 183, "in_reply_to": 162, "type": "AppendEntriesRes", "res": true, "term": 30, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
31

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 184, "type": "RequestVote", "term": 31, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 185, "type": "RequestVote", "term": 31, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 186, "type": "RequestVote", "term": 31, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 187, "type": "RequestVote", "term": 31, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 188, "type": "RequestVote", "term": 31, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":184,"type":"RequestVote","term":31,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":800}
INFO:root:voting for myself
n1
at time
1651670251082531429
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 189, "in_reply_to": 184, "type": "RequestVoteRes", "term": 31, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":149,"in_reply_to":185,"type":"RequestVoteRes","term":30,"res":false},"id":805}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":166,"in_reply_to":187,"type":"RequestVoteRes","term":31,"res":true},"id":806}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":160,"in_reply_to":186,"type":"RequestVoteRes","term":30,"res":false},"id":807}
INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
31
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251082960145, 'n1': 1651670251082527702, 'n3': 1651670251076141637, 'n4': 1651670251077566927, 'n5': 1651670251045640022}

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":137,"in_reply_to":188,"type":"RequestVoteRes","term":30,"res":false},"id":808}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":189,"in_reply_to":184,"type":"RequestVoteRes","term":31,"res":true},"id":809}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
31
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251082960145, 'n1': 1651670251082527702, 'n3': 1651670251076141637, 'n4': 1651670251083336320, 'n5': 1651670251045640022}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
31
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251082960145, 'n1': 1651670251082527702, 'n3': 1651670251083531244, 'n4': 1651670251083336320, 'n5': 1651670251045640022}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
31
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251082960145, 'n1': 1651670251082527702, 'n3': 1651670251083531244, 'n4': 1651670251083336320, 'n5': 1651670251083617858}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
31
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251082960145, 'n1': 1651670251083699092, 'n3': 1651670251083531244, 'n4': 1651670251083336320, 'n5': 1651670251083617858}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 190, "type": "AppendEntries", "term": 31, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 191, "type": "AppendEntries", "term": 31, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 192, "type": "AppendEntries", "term": 31, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 193, "type": "AppendEntries", "term": 31, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":167,"in_reply_to":192,"type":"AppendEntriesRes","res":true,"term":31,"next":1,"commit":0},"id":814}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":150,"in_reply_to":190,"type":"AppendEntriesRes","res":true,"term":31,"next":2,"commit":0},"id":815}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":161,"in_reply_to":191,"type":"AppendEntriesRes","res":true,"term":31,"next":1,"commit":0},"id":816}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":138,"in_reply_to":193,"type":"AppendEntriesRes","res":true,"term":31,"next":1,"commit":0},"id":817}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":168,"type":"RequestVote","term":32,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":818}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 194, "in_reply_to": 168, "type": "RequestVoteRes", "term": 32, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670251086654966

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":163,"type":"RequestVote","term":33,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":827}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 195, "in_reply_to": 163, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":152,"type":"RequestVote","term":32,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":836}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":174,"type":"AppendEntries","term":32,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":837}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 196, "in_reply_to": 152, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 197, "in_reply_to": 174, "type": "AppendEntriesRes", "res": true, "term": 32, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":143,"type":"RequestVote","term":33,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":852}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 198, "in_reply_to": 143, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":172,"type":"AppendEntries","term":33,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":867}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n3
kvsotr
{}
cur term
32
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251089397960, 'n1': 1651670251083699092, 'n3': 1651670251095117335, 'n4': 1651670251089540663, 'n5': 1651670251091503007}

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 199, "in_reply_to": 172, "type": "AppendEntriesRes", "res": true, "term": 33, "next": 1, "commit": 0}}
INFO:root:node
n3
current time
1651670251097184196
node_time
1651670251083699092
dif
13485104
True

INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":150,"type":"RequestVote","term":34,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":876}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 200, "in_reply_to": 150, "type": "RequestVoteRes", "term": 34, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651670251104375198

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":156,"type":"AppendEntries","term":34,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":886}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 201, "in_reply_to": 156, "type": "AppendEntriesRes", "res": true, "term": 34, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":178,"type":"AppendEntries","term":33,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":891}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 202, "in_reply_to": 178, "type": "AppendEntriesRes", "res": false, "term": 34}}
INFO:root:msg term
33
current term
34
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":183,"in_reply_to":202,"type":"error","code":11,"text":"Not Leader"},"id":898}
WARNING:root:unknown message type error
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
35

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 203, "type": "RequestVote", "term": 35, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 204, "type": "RequestVote", "term": 35, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 205, "type": "RequestVote", "term": 35, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 206, "type": "RequestVote", "term": 35, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 207, "type": "RequestVote", "term": 35, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":203,"type":"RequestVote","term":35,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":906}
INFO:root:voting for myself
n1
at time
1651670251136601824
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 208, "in_reply_to": 203, "type": "RequestVoteRes", "term": 35, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":161,"in_reply_to":207,"type":"RequestVoteRes","term":35,"res":true},"id":911}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":208,"in_reply_to":203,"type":"RequestVoteRes","term":35,"res":true},"id":912}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":186,"in_reply_to":206,"type":"RequestVoteRes","term":35,"res":true},"id":913}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":187,"in_reply_to":205,"type":"RequestVoteRes","term":34,"res":false},"id":914}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":165,"in_reply_to":204,"type":"RequestVoteRes","term":34,"res":false},"id":915}
INFO:root:node id:
n1
leader
n3
kvsotr
{}
cur term
35
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251089397960, 'n1': 1651670251136599017, 'n3': 1651670251107439639, 'n4': 1651670251089540663, 'n5': 1651670251137281069}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n3
kvsotr
{}
cur term
35
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251089397960, 'n1': 1651670251137604147, 'n3': 1651670251107439639, 'n4': 1651670251089540663, 'n5': 1651670251137281069}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 209, "type": "AppendEntries", "term": 35, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 210, "type": "AppendEntries", "term": 35, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 211, "type": "AppendEntries", "term": 35, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 212, "type": "AppendEntries", "term": 35, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251089397960, 'n1': 1651670251137604147, 'n3': 1651670251107439639, 'n4': 1651670251138321899, 'n5': 1651670251137281069}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251089397960, 'n1': 1651670251137604147, 'n3': 1651670251138531432, 'n4': 1651670251138321899, 'n5': 1651670251137281069}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
35
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251138709954, 'n1': 1651670251137604147, 'n3': 1651670251138531432, 'n4': 1651670251138321899, 'n5': 1651670251137281069}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":187,"in_reply_to":211,"type":"AppendEntriesRes","res":true,"term":35,"next":1,"commit":0},"id":920}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":166,"in_reply_to":209,"type":"AppendEntriesRes","res":true,"term":35,"next":2,"commit":0},"id":921}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":162,"in_reply_to":212,"type":"AppendEntriesRes","res":true,"term":35,"next":1,"commit":0},"id":922}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":188,"in_reply_to":210,"type":"AppendEntriesRes","res":true,"term":35,"next":2,"commit":0},"id":923}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":167,"type":"RequestVote","term":36,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":924}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 213, "in_reply_to": 167, "type": "RequestVoteRes", "term": 36, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651670251142096092

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":173,"type":"AppendEntries","term":36,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":934}
INFO:root:280
[(('pass', None), 0)]
1
0
n1
[]

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":189,"type":"RequestVote","term":36,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":936}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 214, "in_reply_to": 189, "type": "RequestVoteRes", "term": 36, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":191,"type":"RequestVote","term":37,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":945}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 215, "in_reply_to": 191, "type": "RequestVoteRes", "term": 36, "res": false}}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":199,"type":"AppendEntries","term":37,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":962}
INFO:root:280
[(('pass', None), 0)]
1
0
n1
[]

INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
37

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 216, "type": "RequestVote", "term": 37, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":166,"type":"RequestVote","term":36,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":968}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":216,"type":"RequestVote","term":37,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":972}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 217, "in_reply_to": 166, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 218, "type": "RequestVote", "term": 37, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
INFO:root:Bad election request, term is not up to date
None
at time
1651670251177699887

INFO:root:voting for myself
n1
at time
1651670251177792111
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 219, "in_reply_to": 216, "type": "RequestVoteRes", "term": 37, "res": true}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 220, "type": "RequestVote", "term": 37, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 221, "type": "RequestVote", "term": 37, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":219,"in_reply_to":216,"type":"RequestVoteRes","term":37,"res":true},"id":980}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
37
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251143981161, 'n1': 1651670251178457394, 'n3': 1651670251147958284, 'n4': 1651670251144315549, 'n5': 1651670251177340595}

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 222, "type": "RequestVote", "term": 37, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":183,"in_reply_to":218,"type":"RequestVoteRes","term":37,"res":false},"id":983}
INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":205,"in_reply_to":220,"type":"RequestVoteRes","term":37,"res":false},"id":984}
INFO:root:antes  #487
1

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":197,"in_reply_to":221,"type":"RequestVoteRes","term":36,"res":false},"id":986}
INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
37
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251179550054, 'n1': 1651670251178457394, 'n3': 1651670251147958284, 'n4': 1651670251144315549, 'n5': 1651670251177340595}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
37
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251179550054, 'n1': 1651670251178457394, 'n3': 1651670251179737904, 'n4': 1651670251144315549, 'n5': 1651670251177340595}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
37
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251179550054, 'n1': 1651670251178457394, 'n3': 1651670251179737904, 'n4': 1651670251179892552, 'n5': 1651670251177340595}

INFO:root:resposta
False
majority
3

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

Exception in thread Thread-25:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":198,"type":"RequestVote","term":37,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":987}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":172,"in_reply_to":222,"type":"RequestVoteRes","term":36,"res":false},"id":988}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":184,"type":"RequestVote","term":38,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":989}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 223, "in_reply_to": 198, "type": "RequestVoteRes", "term": 37, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
37
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251179550054, 'n1': 1651670251178457394, 'n3': 1651670251179737904, 'n4': 1651670251184223406, 'n5': 1651670251184572151}

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 224, "in_reply_to": 184, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":191,"type":"AppendEntries","term":38,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":1008}
INFO:root:election timeout, starting new election

INFO:root:280
[(('pass', None), 0)]
1
0
n1
[]

INFO:root:starting new elections, new term
38

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 225, "type": "RequestVote", "term": 38, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 226, "type": "RequestVote", "term": 38, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 227, "type": "RequestVote", "term": 38, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 228, "type": "RequestVote", "term": 38, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 229, "type": "RequestVote", "term": 38, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":225,"type":"RequestVote","term":38,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":1013}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":175,"type":"RequestVote","term":37,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1018}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":209,"in_reply_to":227,"type":"RequestVoteRes","term":38,"res":false},"id":1019}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":195,"in_reply_to":226,"type":"RequestVoteRes","term":38,"res":false},"id":1020}
INFO:root:voting for myself
n1
at time
1651670251188562367
nr votes
1

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":205,"in_reply_to":228,"type":"RequestVoteRes","term":38,"res":false},"id":1022}
DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 230, "in_reply_to": 225, "type": "RequestVoteRes", "term": 38, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":178,"in_reply_to":229,"type":"RequestVoteRes","term":38,"res":true},"id":1025}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 231, "in_reply_to": 175, "type": "RequestVoteRes", "term": 38, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":230,"in_reply_to":225,"type":"RequestVoteRes","term":38,"res":true},"id":1028}
INFO:root:Bad election request, term is not up to date
n1
at time
1651670251189589217

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
38
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251187065395, 'n1': 1651670251188559130, 'n3': 1651670251189778198, 'n4': 1651670251184223406, 'n5': 1651670251189277399}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
38
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251189961730, 'n1': 1651670251188559130, 'n3': 1651670251189778198, 'n4': 1651670251184223406, 'n5': 1651670251189277399}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
38
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251189961730, 'n1': 1651670251188559130, 'n3': 1651670251189778198, 'n4': 1651670251190092354, 'n5': 1651670251189277399}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
38
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251189961730, 'n1': 1651670251188559130, 'n3': 1651670251189778198, 'n4': 1651670251190092354, 'n5': 1651670251190239820}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
38
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251189961730, 'n1': 1651670251190419912, 'n3': 1651670251189778198, 'n4': 1651670251190092354, 'n5': 1651670251190239820}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 232, "type": "AppendEntries", "term": 38, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 233, "type": "AppendEntries", "term": 38, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 234, "type": "AppendEntries", "term": 38, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 235, "type": "AppendEntries", "term": 38, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":197,"in_reply_to":232,"type":"AppendEntriesRes","res":true,"term":38,"next":2,"commit":0},"id":1035}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":211,"in_reply_to":233,"type":"AppendEntriesRes","res":true,"term":38,"next":4,"commit":0},"id":1038}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":182,"in_reply_to":235,"type":"AppendEntriesRes","res":true,"term":38,"next":1,"commit":0},"id":1039}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":207,"in_reply_to":234,"type":"AppendEntriesRes","res":true,"term":38,"next":1,"commit":0},"id":1040}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":208,"type":"RequestVote","term":39,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1041}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 236, "in_reply_to": 208, "type": "RequestVoteRes", "term": 39, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651670251194108628

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 2, 'n3': 4, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

Exception in thread Thread-28:
INFO:root:election timeout, starting new election

Traceback (most recent call last):
INFO:root:starting new elections, new term
40

  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 237, "type": "RequestVote", "term": 40, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 238, "type": "RequestVote", "term": 40, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 239, "type": "RequestVote", "term": 40, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":237,"type":"RequestVote","term":40,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":1051}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":214,"type":"AppendEntries","term":39,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":1053}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":199,"in_reply_to":238,"type":"RequestVoteRes","term":38,"res":false},"id":1056}
    self.function(*self.args, **self.kwargs)
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 240, "type": "RequestVote", "term": 40, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
INFO:root:voting for myself
n1
at time
1651670251197355189
nr votes
1

    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":213,"in_reply_to":239,"type":"RequestVoteRes","term":38,"res":false},"id":1059}
    prevTerm=log[nextIndex[dest]-1][1]
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 241, "type": "RequestVote", "term": 40, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
IndexError: list index out of range
DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 242, "in_reply_to": 237, "type": "RequestVoteRes", "term": 40, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":218,"in_reply_to":240,"type":"RequestVoteRes","term":40,"res":true},"id":1063}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 243, "in_reply_to": 214, "type": "AppendEntriesRes", "res": false, "term": 40}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":242,"in_reply_to":237,"type":"RequestVoteRes","term":40,"res":true},"id":1066}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":185,"in_reply_to":241,"type":"RequestVoteRes","term":40,"res":true},"id":1067}
INFO:root:msg term
39
current term
40
log
[(('pass', None), 0)]
msg entries
[]

INFO:root:leader alive, resuming timeout checker

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
40
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251199274424, 'n1': 1651670251197351599, 'n3': 1651670251192125154, 'n4': 1651670251198730865, 'n5': 1651670251192298922}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":219,"type":"AppendEntries","term":40,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":1069}
INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
40
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251199274424, 'n1': 1651670251197351599, 'n3': 1651670251199567017, 'n4': 1651670251198730865, 'n5': 1651670251192298922}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
40
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251199274424, 'n1': 1651670251197351599, 'n3': 1651670251199567017, 'n4': 1651670251199819524, 'n5': 1651670251192298922}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
40
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251199274424, 'n1': 1651670251199982510, 'n3': 1651670251199567017, 'n4': 1651670251199819524, 'n5': 1651670251192298922}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 244, "type": "AppendEntries", "term": 40, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 245, "type": "AppendEntries", "term": 40, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 246, "type": "AppendEntries", "term": 40, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 247, "type": "AppendEntries", "term": 40, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
40
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251199274424, 'n1': 1651670251199982510, 'n3': 1651670251199567017, 'n4': 1651670251199819524, 'n5': 1651670251200764598}

INFO:root:resposta
True
majority
3

INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 248, "in_reply_to": 219, "type": "AppendEntriesRes", "res": true, "term": 40, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":220,"in_reply_to":246,"type":"AppendEntriesRes","res":true,"term":40,"next":1,"commit":0},"id":1074}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":201,"in_reply_to":244,"type":"AppendEntriesRes","res":true,"term":40,"next":2,"commit":0},"id":1075}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":186,"in_reply_to":247,"type":"AppendEntriesRes","res":true,"term":40,"next":1,"commit":0},"id":1077}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":215,"in_reply_to":245,"type":"AppendEntriesRes","res":true,"term":40,"next":4,"commit":0},"id":1078}
INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 2, 'n3': 4, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 249, "type": "AppendEntries", "term": 40, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 2, 'n3': 4, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-40:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":202,"in_reply_to":249,"type":"AppendEntriesRes","res":true,"term":40,"next":2,"commit":0},"id":1080}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 2, 'n3': 4, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 250, "type": "AppendEntries", "term": 40, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 2, 'n3': 4, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-45:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":203,"in_reply_to":250,"type":"AppendEntriesRes","res":true,"term":40,"next":2,"commit":0},"id":1082}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":187,"type":"RequestVote","term":41,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1083}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":221,"type":"RequestVote","term":41,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1085}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 251, "in_reply_to": 187, "type": "RequestVoteRes", "term": 40, "res": false}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 252, "in_reply_to": 221, "type": "RequestVoteRes", "term": 40, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":194,"type":"AppendEntries","term":41,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":1103}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251232900354, 'n1': 1651670251199982510, 'n3': 1651670251201690526, 'n4': 1651670251238397913, 'n5': 1651670251242466360}

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 253, "in_reply_to": 194, "type": "AppendEntriesRes", "res": true, "term": 41, "next": 2, "commit": 0}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":229,"type":"RequestVote","term":42,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1111}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 254, "in_reply_to": 229, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":235,"type":"RequestVote","term":43,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1121}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 255, "in_reply_to": 235, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":240,"type":"RequestVote","term":44,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1130}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 256, "in_reply_to": 240, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":200,"type":"RequestVote","term":44,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1136}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 257, "in_reply_to": 200, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":205,"type":"RequestVote","term":45,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1144}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 258, "in_reply_to": 205, "type": "RequestVoteRes", "term": 41, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":245,"type":"RequestVote","term":45,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1146}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 259, "in_reply_to": 245, "type": "RequestVoteRes", "term": 41, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":212,"type":"RequestVote","term":46,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1164}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 260, "in_reply_to": 212, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":252,"type":"RequestVote","term":46,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1166}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 261, "in_reply_to": 252, "type": "RequestVoteRes", "term": 41, "res": false}}
INFO:root:node
n5
current time
1651670251305421148
node_time
1651670251199982510
dif
105438638
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":260,"type":"RequestVote","term":47,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1188}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 262, "in_reply_to": 260, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":265,"type":"RequestVote","term":48,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1198}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 263, "in_reply_to": 265, "type": "RequestVoteRes", "term": 41, "res": false}}
INFO:root:election ended

INFO:root:node
n5
current time
1651670251342575991
node_time
1651670251199982510
dif
142593481
False

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n5
current time
1651670251343933861
node_time
1651670251199982510
dif
143951351
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":272,"type":"RequestVote","term":49,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1211}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 264, "in_reply_to": 272, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":280,"type":"RequestVote","term":50,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":1223}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 265, "in_reply_to": 280, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":224,"type":"RequestVote","term":47,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1230}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 266, "in_reply_to": 224, "type": "RequestVoteRes", "term": 41, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":286,"type":"AppendEntries","term":50,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":1241}
INFO:root:vote ended, new leader is
n5

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n4
kvsotr
{}
cur term
41
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251232900354, 'n1': 1651670251199982510, 'n3': 1651670251201690526, 'n4': 1651670251377973104, 'n5': 1651670251369106027}

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 267, "in_reply_to": 286, "type": "AppendEntriesRes", "res": true, "term": 50, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":231,"type":"RequestVote","term":51,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1246}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 268, "in_reply_to": 231, "type": "RequestVoteRes", "term": 50, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":237,"type":"RequestVote","term":52,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1261}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 269, "in_reply_to": 237, "type": "RequestVoteRes", "term": 50, "res": false}}
INFO:root:node
n4
current time
1651670251395329250
node_time
1651670251199982510
dif
195346740
False

INFO:root:leader alive, resuming timeout checker

INFO:root:node
n4
current time
1651670251396041621
node_time
1651670251199982510
dif
196059111
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":243,"type":"RequestVote","term":53,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1271}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 270, "in_reply_to": 243, "type": "RequestVoteRes", "term": 50, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":249,"type":"RequestVote","term":54,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1281}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 271, "in_reply_to": 249, "type": "RequestVoteRes", "term": 50, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":257,"type":"AppendEntries","term":54,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":1292}
INFO:root:vote ended, new leader is
n4

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
50
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251232900354, 'n1': 1651670251199982510, 'n3': 1651670251201690526, 'n4': 1651670251377973104, 'n5': 1651670251421404081}

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 272, "in_reply_to": 257, "type": "AppendEntriesRes", "res": true, "term": 54, "next": 2, "commit": 0}}
INFO:root:election ended

INFO:root:node
n5
current time
1651670251439532548
node_time
1651670251199982510
dif
239550038
False

INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

INFO:root:node
n5
current time
1651670251513867559
node_time
1651670251199982510
dif
313885049
False

INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

INFO:root:node
n5
current time
1651670251530310817
node_time
1651670251199982510
dif
330328307
False

INFO:root:lead is dead

INFO:root:starting new elections, new term
55

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 273, "type": "RequestVote", "term": 55, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 274, "type": "RequestVote", "term": 55, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 275, "type": "RequestVote", "term": 55, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 276, "type": "RequestVote", "term": 55, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 277, "type": "RequestVote", "term": 55, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":273,"type":"RequestVote","term":55,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n1"},"id":1299}
INFO:root:voting for myself
n1
at time
1651670251531210719
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 278, "in_reply_to": 273, "type": "RequestVoteRes", "term": 55, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":226,"in_reply_to":274,"type":"RequestVoteRes","term":55,"res":true},"id":1304}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":239,"in_reply_to":275,"type":"RequestVoteRes","term":54,"res":false},"id":1305}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":278,"in_reply_to":273,"type":"RequestVoteRes","term":55,"res":true},"id":1306}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":261,"in_reply_to":277,"type":"RequestVoteRes","term":55,"res":true},"id":1307}
INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251531958148, 'n1': 1651670251531207035, 'n3': 1651670251201690526, 'n4': 1651670251377973104, 'n5': 1651670251421404081}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251531958148, 'n1': 1651670251531207035, 'n3': 1651670251532401579, 'n4': 1651670251377973104, 'n5': 1651670251421404081}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251531958148, 'n1': 1651670251532525334, 'n3': 1651670251532401579, 'n4': 1651670251377973104, 'n5': 1651670251421404081}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 279, "type": "AppendEntries", "term": 55, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 280, "type": "AppendEntries", "term": 55, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 281, "type": "AppendEntries", "term": 55, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 282, "type": "AppendEntries", "term": 55, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
55
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251531958148, 'n1': 1651670251532525334, 'n3': 1651670251532401579, 'n4': 1651670251377973104, 'n5': 1651670251533537152}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":227,"in_reply_to":279,"type":"AppendEntriesRes","res":true,"term":55,"next":2,"commit":0},"id":1312}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":240,"in_reply_to":280,"type":"AppendEntriesRes","res":true,"term":55,"next":4,"commit":0},"id":1313}
INFO:root:election ended

INFO:root:election ended

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":262,"type":"RequestVote","term":56,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1314}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 283, "in_reply_to": 262, "type": "RequestVoteRes", "term": 55, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":268,"type":"RequestVote","term":57,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1323}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 284, "in_reply_to": 268, "type": "RequestVoteRes", "term": 55, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 285, "type": "AppendEntries", "term": 55, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-57:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":230,"in_reply_to":285,"type":"AppendEntriesRes","res":true,"term":55,"next":2,"commit":0},"id":1333}
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":231,"type":"RequestVote","term":56,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":1334}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 286, "in_reply_to": 231, "type": "RequestVoteRes", "term": 56, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651670251596957559

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":237,"type":"AppendEntries","term":56,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":1343}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 287, "in_reply_to": 237, "type": "AppendEntriesRes", "res": true, "term": 56, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
57

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 288, "type": "RequestVote", "term": 57, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 289, "type": "RequestVote", "term": 57, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 290, "type": "RequestVote", "term": 57, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 291, "type": "RequestVote", "term": 57, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 292, "type": "RequestVote", "term": 57, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":288,"type":"RequestVote","term":57,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n1"},"id":1352}
INFO:root:voting for myself
n1
at time
1651670251601552320
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 293, "in_reply_to": 288, "type": "RequestVoteRes", "term": 57, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":293,"in_reply_to":288,"type":"RequestVoteRes","term":57,"res":true},"id":1358}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":245,"in_reply_to":290,"type":"RequestVoteRes","term":56,"res":false},"id":1359}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251599269846, 'n1': 1651670251602234150, 'n3': 1651670251534208151, 'n4': 1651670251377973104, 'n5': 1651670251586718154}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251599269846, 'n1': 1651670251602234150, 'n3': 1651670251602542806, 'n4': 1651670251377973104, 'n5': 1651670251586718154}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":277,"in_reply_to":292,"type":"RequestVoteRes","term":57,"res":false},"id":1360}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251599269846, 'n1': 1651670251602234150, 'n3': 1651670251602542806, 'n4': 1651670251377973104, 'n5': 1651670251602853059}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":243,"in_reply_to":289,"type":"RequestVoteRes","term":57,"res":true},"id":1362}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
57
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251603521099, 'n1': 1651670251602234150, 'n3': 1651670251602542806, 'n4': 1651670251377973104, 'n5': 1651670251602853059}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 294, "type": "AppendEntries", "term": 57, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 295, "type": "AppendEntries", "term": 57, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 296, "type": "AppendEntries", "term": 57, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 297, "type": "AppendEntries", "term": 57, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":245,"in_reply_to":294,"type":"AppendEntriesRes","res":true,"term":57,"next":2,"commit":0},"id":1368}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":246,"in_reply_to":295,"type":"AppendEntriesRes","res":true,"term":57,"next":4,"commit":0},"id":1369}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":279,"type":"RequestVote","term":58,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1370}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 298, "in_reply_to": 279, "type": "RequestVoteRes", "term": 57, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":285,"type":"RequestVote","term":59,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1379}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 299, "in_reply_to": 285, "type": "RequestVoteRes", "term": 57, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":248,"type":"RequestVote","term":58,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":1388}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":291,"type":"RequestVote","term":60,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1392}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 300, "in_reply_to": 248, "type": "RequestVoteRes", "term": 58, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651670251632926710

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 301, "in_reply_to": 291, "type": "RequestVoteRes", "term": 58, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":255,"type":"AppendEntries","term":58,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":1406}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":298,"type":"RequestVote","term":61,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1409}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 302, "in_reply_to": 255, "type": "AppendEntriesRes", "res": true, "term": 58, "next": 2, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 303, "in_reply_to": 298, "type": "RequestVoteRes", "term": 58, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":306,"type":"RequestVote","term":62,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1424}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 304, "in_reply_to": 306, "type": "RequestVoteRes", "term": 58, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":311,"type":"RequestVote","term":63,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1431}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 305, "in_reply_to": 311, "type": "RequestVoteRes", "term": 58, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 306, "type": "AppendEntries", "term": 58, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-67:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
59

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 307, "type": "RequestVote", "term": 59, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 308, "type": "RequestVote", "term": 59, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 309, "type": "RequestVote", "term": 59, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 310, "type": "RequestVote", "term": 59, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 311, "type": "RequestVote", "term": 59, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":307,"type":"RequestVote","term":59,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n1"},"id":1447}
INFO:root:voting for myself
n1
at time
1651670251698301966
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 312, "in_reply_to": 307, "type": "RequestVoteRes", "term": 59, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":312,"in_reply_to":307,"type":"RequestVoteRes","term":59,"res":true},"id":1452}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":255,"in_reply_to":309,"type":"RequestVoteRes","term":58,"res":false},"id":1453}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":320,"in_reply_to":311,"type":"RequestVoteRes","term":63,"res":false},"id":1454}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251700915275, 'n3': 1651670251605301542, 'n4': 1651670251377973104, 'n5': 1651670251640505006}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251700915275, 'n3': 1651670251701267626, 'n4': 1651670251377973104, 'n5': 1651670251640505006}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n1
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251700915275, 'n3': 1651670251701267626, 'n4': 1651670251377973104, 'n5': 1651670251701406541}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":321,"type":"RequestVote","term":64,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1456}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 313, "in_reply_to": 321, "type": "RequestVoteRes", "term": 59, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":327,"type":"RequestVote","term":65,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1463}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 314, "in_reply_to": 327, "type": "RequestVoteRes", "term": 59, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":333,"type":"AppendEntries","term":65,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":1472}
INFO:root:vote ended, new leader is
n1

INFO:root:there is a new leader

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
59
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251700915275, 'n3': 1651670251701267626, 'n4': 1651670251377973104, 'n5': 1651670251710368525}

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 315, "in_reply_to": 333, "type": "AppendEntriesRes", "res": true, "term": 65, "next": 2, "commit": 0}}
INFO:root:election ended

INFO:root:node
n5
current time
1651670251833890052
node_time
1651670251700915275
dif
132974777
False

INFO:root:lead is dead

INFO:root:starting new elections, new term
66

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 316, "type": "RequestVote", "term": 66, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 317, "type": "RequestVote", "term": 66, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 318, "type": "RequestVote", "term": 66, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 319, "type": "RequestVote", "term": 66, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 320, "type": "RequestVote", "term": 66, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":316,"type":"RequestVote","term":66,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n1"},"id":1479}
INFO:root:voting for myself
n1
at time
1651670251835053801
nr votes
1

DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 321, "in_reply_to": 316, "type": "RequestVoteRes", "term": 66, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":259,"in_reply_to":318,"type":"RequestVoteRes","term":65,"res":false},"id":1484}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":321,"in_reply_to":316,"type":"RequestVoteRes","term":66,"res":true},"id":1485}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":337,"in_reply_to":320,"type":"RequestVoteRes","term":66,"res":true},"id":1486}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
66
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251835050659, 'n3': 1651670251835815442, 'n4': 1651670251377973104, 'n5': 1651670251710368525}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
66
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n1
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251836018941, 'n3': 1651670251835815442, 'n4': 1651670251377973104, 'n5': 1651670251710368525}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n1
leader
n5
kvsotr
{}
cur term
66
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n1
timeout dict
{'n2': 1651670251636208766, 'n1': 1651670251836018941, 'n3': 1651670251835815442, 'n4': 1651670251377973104, 'n5': 1651670251836240935}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n1

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 322, "type": "AppendEntries", "term": 66, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 323, "type": "AppendEntries", "term": 66, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 324, "type": "AppendEntries", "term": 66, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 325, "type": "AppendEntries", "term": 66, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":260,"in_reply_to":323,"type":"AppendEntriesRes","res":true,"term":66,"next":4,"commit":0},"id":1491}
INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 326, "type": "AppendEntries", "term": 66, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-93:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":338,"type":"RequestVote","term":67,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1493}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 327, "in_reply_to": 338, "type": "RequestVoteRes", "term": 66, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":344,"type":"RequestVote","term":68,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1501}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 328, "in_reply_to": 344, "type": "RequestVoteRes", "term": 66, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":350,"type":"RequestVote","term":69,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1509}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 329, "in_reply_to": 350, "type": "RequestVoteRes", "term": 66, "res": false}}
INFO:root:election ended

INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 330, "type": "AppendEntries", "term": 66, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-87:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":356,"type":"RequestVote","term":70,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1518}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 331, "in_reply_to": 356, "type": "RequestVoteRes", "term": 66, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":362,"type":"RequestVote","term":71,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1526}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 332, "in_reply_to": 362, "type": "RequestVoteRes", "term": 66, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":368,"type":"RequestVote","term":72,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1534}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 333, "in_reply_to": 368, "type": "RequestVoteRes", "term": 66, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":374,"type":"RequestVote","term":73,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1542}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 334, "in_reply_to": 374, "type": "RequestVoteRes", "term": 66, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":380,"type":"RequestVote","term":74,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1550}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 335, "in_reply_to": 380, "type": "RequestVoteRes", "term": 66, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":386,"type":"RequestVote","term":75,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1558}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 336, "in_reply_to": 386, "type": "RequestVoteRes", "term": 66, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":392,"type":"RequestVote","term":76,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":1566}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 337, "in_reply_to": 392, "type": "RequestVoteRes", "term": 66, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n1","body":{"key":1,"from":3,"to":1,"type":"cas","msg_id":1},"src":"c16","id":1574}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 338, "type": "AppendEntries", "term": 66, "entries": [[["cas", [1, [3, 1]]], 66]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 339, "type": "AppendEntries", "term": 66, "entries": [[["cas", [1, [3, 1]]], 66]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 340, "type": "AppendEntries", "term": 66, "entries": [[["cas", [1, [3, 1]]], 66]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":398,"in_reply_to":340,"type":"AppendEntriesRes","res":false,"term":76},"id":1578}
INFO:root:387##########:
node
n1
current term
66
next I
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (3, 1))), 66)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 341, "type": "AppendEntries", "term": 66, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [3, 1]]], 66]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":399,"in_reply_to":341,"type":"AppendEntriesRes","res":false,"term":76},"id":1580}
INFO:root:387##########:
node
n1
current term
66
next I
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': 0}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (3, 1))), 66)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 342, "type": "AppendEntries", "term": 66, "prevIndex": -1, "prevTerm": 66, "entries": [[["pass", null], 0], [["pass", null], 0], [["cas", [1, [3, 1]]], 66]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":400,"in_reply_to":342,"type":"AppendEntriesRes","res":false,"term":76},"id":1582}
INFO:root:387##########:
node
n1
current term
66
next I
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': -1}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (3, 1))), 66)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 343, "type": "AppendEntries", "term": 66, "prevIndex": -2, "prevTerm": 0, "entries": [[["cas", [1, [3, 1]]], 66]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":401,"in_reply_to":343,"type":"AppendEntriesRes","res":false,"term":76},"id":1584}
INFO:root:387##########:
node
n1
current term
66
next I
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': -2}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (3, 1))), 66)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 344, "type": "AppendEntries", "term": 66, "prevIndex": -3, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [3, 1]]], 66]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":402,"in_reply_to":344,"type":"AppendEntriesRes","res":false,"term":76},"id":1586}
INFO:root:387##########:
node
n1
current term
66
next I
{'n1': 2, 'n2': 2, 'n3': 4, 'n4': 2, 'n5': -3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (1, (3, 1))), 66)]
dest
n5

ERROR:root:fatal exception in handler
Traceback (most recent call last):
  File "/home/peter/Documents/tf/lab3/ms.py", line 27, in exitOnError
    fn(*args)
  File "/home/peter/Documents/tf/lab3/raft.py", line 406, in handle
    send(node_id, dest, type='AppendEntries', term=current_term, prevIndex = nextIndex[dest]-1,prevTerm=log[nextIndex[dest]-1][1] ,entries=log[nextIndex[dest]:],commit=commitIndex)
IndexError: list index out of range

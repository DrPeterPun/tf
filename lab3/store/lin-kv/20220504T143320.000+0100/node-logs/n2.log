DEBUG:root:received {"dest":"n2","body":{"type":"init","node_id":"n2","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c3","id":3}
INFO:root:node n2 initialized
DEBUG:root:sending {"dest": "c3", "src": "n2", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:node
n1
current time
1651671200978864145
node_time
1651671200978858350
dif
5795
True

INFO:root:LEADER IS DEAD bit of a aldrabation tho
n1

INFO:root:lead is dead

INFO:root:starting new elections, new term
1

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 2, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 3, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 4, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 5, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 6, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":3,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":9}
INFO:root:voting for myself
n2
at time
1651671200985688422
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 7, "in_reply_to": 3, "type": "RequestVoteRes", "term": 1, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":7,"in_reply_to":3,"type":"RequestVoteRes","term":1,"res":true},"id":13}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671200978858350, 'n2': 1651671200986972213, 'n3': 1651671200978858350, 'n4': 1651671200978858350, 'n5': 1651671200978858350}

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":2,"in_reply_to":5,"type":"RequestVoteRes","term":1,"res":true},"id":14}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":2,"in_reply_to":6,"type":"RequestVoteRes","term":1,"res":true},"id":15}
INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671200978858350, 'n2': 1651671200986972213, 'n3': 1651671200978858350, 'n4': 1651671200988374788, 'n5': 1651671200978858350}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 8, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":2,"in_reply_to":4,"type":"RequestVoteRes","term":1,"res":true},"id":17}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 9, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 10, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 11, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":3,"in_reply_to":11,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":22}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":3,"in_reply_to":9,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":23}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":3,"in_reply_to":10,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":24}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671200978858350, 'n2': 1651671200986972213, 'n3': 1651671200978858350, 'n4': 1651671200988374788, 'n5': 1651671200993498645}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671200978858350, 'n2': 1651671200986972213, 'n3': 1651671200994523995, 'n4': 1651671200988374788, 'n5': 1651671200993498645}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":2,"type":"AppendEntries","term":0,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":26}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 12, "in_reply_to": 2, "type": "AppendEntriesRes", "res": false, "term": 1}}
INFO:root:msg term
0
current term
1
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":6,"in_reply_to":2,"type":"RequestVoteRes","term":1,"res":true},"id":31}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201008168158, 'n2': 1651671200986972213, 'n3': 1651671200994706955, 'n4': 1651671200994723312, 'n5': 1651671200994684026}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":7,"in_reply_to":8,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":35}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":8,"type":"AppendEntries","term":1,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":36}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 13, "in_reply_to": 8, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":9,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":49}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 14, "in_reply_to": 9, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:election started and voted vor
n4
at time
1651671201088740953

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":7,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":55}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 15, "in_reply_to": 7, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":9,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":68}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 16, "in_reply_to": 9, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":16,"type":"AppendEntries","term":2,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":76}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 17, "in_reply_to": 16, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":16,"type":"AppendEntries","term":2,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":86}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 18, "in_reply_to": 16, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":16,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":93}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 19, "in_reply_to": 16, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
3

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 20, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 21, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 22, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 23, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 24, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":21,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":103}
INFO:root:voting for myself
n2
at time
1651671201191161459
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 25, "in_reply_to": 21, "type": "RequestVoteRes", "term": 3, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":18,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":106}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 26, "in_reply_to": 18, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":25,"in_reply_to":21,"type":"RequestVoteRes","term":3,"res":true},"id":111}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":20,"in_reply_to":22,"type":"RequestVoteRes","term":3,"res":true},"id":112}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":22,"in_reply_to":23,"type":"RequestVoteRes","term":2,"res":false},"id":113}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":21,"in_reply_to":20,"type":"RequestVoteRes","term":2,"res":false},"id":115}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":22,"in_reply_to":24,"type":"RequestVoteRes","term":3,"res":true},"id":118}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201109633556, 'n2': 1651671201193633870, 'n3': 1651671201099705542, 'n4': 1651671201094232451, 'n5': 1651671201191733441}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201109633556, 'n2': 1651671201193633870, 'n3': 1651671201193969895, 'n4': 1651671201094232451, 'n5': 1651671201191733441}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 27, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 28, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 29, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 30, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201109633556, 'n2': 1651671201193633870, 'n3': 1651671201193969895, 'n4': 1651671201195395363, 'n5': 1651671201191733441}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201195671744, 'n2': 1651671201193633870, 'n3': 1651671201193969895, 'n4': 1651671201195395363, 'n5': 1651671201191733441}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201195671744, 'n2': 1651671201193633870, 'n3': 1651671201193969895, 'n4': 1651671201195395363, 'n5': 1651671201195816842}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":22,"in_reply_to":28,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":126}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":24,"in_reply_to":29,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":127}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":24,"in_reply_to":30,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":128}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":24,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":131}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 31, "in_reply_to": 24, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671201296577994

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":26,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":133}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 32, "in_reply_to": 26, "type": "RequestVoteRes", "term": 4, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 33, "type": "AppendEntries", "term": 4, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 34, "type": "AppendEntries", "term": 4, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 35, "type": "AppendEntries", "term": 4, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 36, "type": "AppendEntries", "term": 4, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":27,"in_reply_to":35,"type":"AppendEntriesRes","res":true,"term":4,"next":2,"commit":0},"id":154}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":31,"type":"AppendEntries","term":4,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":155}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 37, "in_reply_to": 31, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":34,"in_reply_to":34,"type":"AppendEntriesRes","res":true,"term":4,"next":2,"commit":0},"id":158}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":32,"in_reply_to":36,"type":"AppendEntriesRes","res":true,"term":4,"next":2,"commit":0},"id":159}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 38, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 39, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 40, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 41, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 42, "type": "RequestVote", "term": 5, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":39,"type":"RequestVote","term":5,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":166}
INFO:root:voting for myself
n2
at time
1651671201340899708
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 43, "in_reply_to": 39, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":25,"in_reply_to":38,"type":"RequestVoteRes","term":2,"res":false},"id":170}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201342353036, 'n2': 1651671201340892020, 'n3': 1651671201310970069, 'n4': 1651671201307401159, 'n5': 1651671201311059968}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":43,"in_reply_to":39,"type":"RequestVoteRes","term":5,"res":true},"id":171}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201342353036, 'n2': 1651671201343341325, 'n3': 1651671201310970069, 'n4': 1651671201307401159, 'n5': 1651671201311059968}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":29,"in_reply_to":41,"type":"RequestVoteRes","term":4,"res":false},"id":172}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":35,"in_reply_to":40,"type":"RequestVoteRes","term":5,"res":true},"id":173}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":35,"in_reply_to":42,"type":"RequestVoteRes","term":4,"res":false},"id":174}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201342353036, 'n2': 1651671201343341325, 'n3': 1651671201310970069, 'n4': 1651671201344670894, 'n5': 1651671201311059968}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201342353036, 'n2': 1651671201343341325, 'n3': 1651671201345728880, 'n4': 1651671201344670894, 'n5': 1651671201311059968}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 44, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 45, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 46, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 47, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201342353036, 'n2': 1651671201343341325, 'n3': 1651671201345728880, 'n4': 1651671201344670894, 'n5': 1651671201349245887}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":36,"in_reply_to":45,"type":"AppendEntriesRes","res":true,"term":5,"next":2,"commit":0},"id":179}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":30,"in_reply_to":46,"type":"AppendEntriesRes","res":true,"term":5,"next":2,"commit":0},"id":180}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":36,"in_reply_to":47,"type":"AppendEntriesRes","res":true,"term":5,"next":2,"commit":0},"id":181}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":38,"type":"RequestVote","term":6,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":183}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 48, "in_reply_to": 38, "type": "RequestVoteRes", "term": 6, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671201447099322

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":44,"type":"AppendEntries","term":6,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":193}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 49, "in_reply_to": 44, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 2, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":34,"type":"RequestVote","term":7,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":200}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 50, "in_reply_to": 34, "type": "RequestVoteRes", "term": 6, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":40,"type":"AppendEntries","term":7,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":210}
INFO:root:vote ended, new leader is
n2

INFO:root:there is a new leader

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
6
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201342353036, 'n2': 1651671201343341325, 'n3': 1651671201455882357, 'n4': 1651671201522913131, 'n5': 1651671201353948967}

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 51, "in_reply_to": 40, "type": "AppendEntriesRes", "res": true, "term": 7, "next": 2, "commit": 0}}
INFO:root:node
n4
current time
1651671201524566817
node_time
1651671201343341325
dif
181225492
False

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":49,"type":"RequestVote","term":8,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":216}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 52, "in_reply_to": 49, "type": "RequestVoteRes", "term": 8, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671201525810288

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":56,"type":"AppendEntries","term":8,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":228}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 53, "in_reply_to": 56, "type": "AppendEntriesRes", "res": true, "term": 8, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":44,"type":"RequestVote","term":9,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":236}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 54, "in_reply_to": 44, "type": "RequestVoteRes", "term": 8, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
9

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":62,"type":"AppendEntries","term":8,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":246}
INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 55, "type": "RequestVote", "term": 9, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 56, "type": "RequestVote", "term": 9, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 57, "in_reply_to": 62, "type": "AppendEntriesRes", "res": false, "term": 9}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 58, "type": "RequestVote", "term": 9, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:msg term
8
current term
9
log
[(('pass', None), 0), [['pass', None], 0]]
msg entries
[]

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":56,"type":"RequestVote","term":9,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":253}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":49,"type":"RequestVote","term":9,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":254}
INFO:root:voting for myself
n2
at time
1651671201553125577
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 59, "in_reply_to": 56, "type": "RequestVoteRes", "term": 9, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":30,"in_reply_to":55,"type":"RequestVoteRes","term":2,"res":false},"id":260}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 60, "type": "RequestVote", "term": 9, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":32,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":263}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":59,"in_reply_to":56,"type":"RequestVoteRes","term":9,"res":true},"id":267}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 61, "in_reply_to": 49, "type": "RequestVoteRes", "term": 9, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":66,"in_reply_to":58,"type":"RequestVoteRes","term":8,"res":false},"id":268}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":51,"type":"RequestVote","term":10,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":270}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":55,"in_reply_to":60,"type":"RequestVoteRes","term":9,"res":false},"id":281}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 62, "type": "RequestVote", "term": 9, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201560240658, 'n2': 1651671201553118779, 'n3': 1651671201550667463, 'n4': 1651671201555080233, 'n5': 1651671201535230134}

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 63, "in_reply_to": 32, "type": "RequestVoteRes", "term": 9, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651671201562836650

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201562611934, 'n2': 1651671201562988352, 'n3': 1651671201550667463, 'n4': 1651671201555080233, 'n5': 1651671201535230134}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201562611934, 'n2': 1651671201562988352, 'n3': 1651671201563494067, 'n4': 1651671201555080233, 'n5': 1651671201535230134}

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 64, "in_reply_to": 51, "type": "RequestVoteRes", "term": 9, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201562611934, 'n2': 1651671201562988352, 'n3': 1651671201563494067, 'n4': 1651671201564147352, 'n5': 1651671201563823513}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":58,"in_reply_to":62,"type":"RequestVoteRes","term":10,"res":false},"id":290}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
9
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201562611934, 'n2': 1651671201562988352, 'n3': 1651671201563494067, 'n4': 1651671201564147352, 'n5': 1651671201566655328}

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":58,"type":"AppendEntries","term":9,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":293}
INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 65, "in_reply_to": 58, "type": "AppendEntriesRes", "res": true, "term": 9, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
10

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 66, "type": "RequestVote", "term": 10, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 67, "type": "RequestVote", "term": 10, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 68, "type": "RequestVote", "term": 10, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 69, "type": "RequestVote", "term": 10, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 70, "type": "RequestVote", "term": 10, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":67,"type":"RequestVote","term":10,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":300}
INFO:root:voting for myself
n2
at time
1651671201630186425
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 71, "in_reply_to": 67, "type": "RequestVoteRes", "term": 10, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":61,"type":"RequestVote","term":11,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":303}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":39,"in_reply_to":66,"type":"RequestVoteRes","term":9,"res":false},"id":307}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":61,"in_reply_to":69,"type":"RequestVoteRes","term":10,"res":true},"id":310}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 72, "in_reply_to": 61, "type": "RequestVoteRes", "term": 10, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":71,"in_reply_to":67,"type":"RequestVoteRes","term":10,"res":true},"id":312}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":65,"in_reply_to":70,"type":"RequestVoteRes","term":11,"res":false},"id":313}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":70,"in_reply_to":68,"type":"RequestVoteRes","term":9,"res":false},"id":316}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
10
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201637032667, 'n2': 1651671201630175323, 'n3': 1651671201563494067, 'n4': 1651671201568685907, 'n5': 1651671201633088569}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
10
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201637032667, 'n2': 1651671201630175323, 'n3': 1651671201563494067, 'n4': 1651671201637701350, 'n5': 1651671201633088569}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n4
kvsotr
{}
cur term
10
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201637032667, 'n2': 1651671201638533200, 'n3': 1651671201563494067, 'n4': 1651671201637701350, 'n5': 1651671201633088569}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 73, "type": "AppendEntries", "term": 10, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 74, "type": "AppendEntries", "term": 10, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 75, "type": "AppendEntries", "term": 10, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 76, "type": "AppendEntries", "term": 10, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
10
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201637032667, 'n2': 1651671201638533200, 'n3': 1651671201563494067, 'n4': 1651671201637701350, 'n5': 1651671201642076942}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
10
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201637032667, 'n2': 1651671201638533200, 'n3': 1651671201642747890, 'n4': 1651671201637701350, 'n5': 1651671201642076942}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":67,"in_reply_to":76,"type":"AppendEntriesRes","res":false,"term":11},"id":323}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":63,"in_reply_to":75,"type":"AppendEntriesRes","res":true,"term":10,"next":2,"commit":0},"id":324}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":72,"in_reply_to":74,"type":"AppendEntriesRes","res":true,"term":10,"next":3,"commit":0},"id":325}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":69,"type":"RequestVote","term":12,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":327}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 77, "in_reply_to": 69, "type": "RequestVoteRes", "term": 12, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671201659822401

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":43,"type":"RequestVote","term":10,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":337}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 78, "in_reply_to": 43, "type": "RequestVoteRes", "term": 12, "res": false}}
INFO:root:Bad election request, term is not up to date
n5
at time
1651671201668072545

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 3, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 79, "type": "AppendEntries", "term": 12, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 3, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-6:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":75,"type":"AppendEntries","term":12,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":344}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 80, "in_reply_to": 75, "type": "AppendEntriesRes", "res": true, "term": 12, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":67,"type":"AppendEntries","term":10,"entries":[[["cas",[1,[2,1]]],10]],"prevIndex":1,"prevTerm":0,"commit":0},"id":353}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 81, "in_reply_to": 67, "type": "AppendEntriesRes", "res": false, "term": 12}}
INFO:root:msg term
10
current term
12
log
[(('pass', None), 0), [['pass', None], 0]]
msg entries
[[['cas', [1, [2, 1]]], 10]]

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":70,"in_reply_to":81,"type":"error","code":11,"text":"Not Leader"},"id":360}
WARNING:root:unknown message type error
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
13

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 82, "type": "RequestVote", "term": 13, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
14

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 83, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 84, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 85, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 86, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 87, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 88, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":83,"type":"RequestVote","term":14,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":365}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":86,"type":"RequestVote","term":14,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":368}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 89, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:voting for myself
n2
at time
1651671201764596866
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 91, "in_reply_to": 83, "type": "RequestVoteRes", "term": 14, "res": true}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 90, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":48,"in_reply_to":82,"type":"RequestVoteRes","term":10,"res":false},"id":369}
INFO:root:voting for myself
n2
at time
1651671201766343534
nr votes
2

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 93, "in_reply_to": 86, "type": "RequestVoteRes", "term": 14, "res": true}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 92, "type": "RequestVote", "term": 14, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":49,"in_reply_to":84,"type":"RequestVoteRes","term":10,"res":false},"id":371}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201767186573, 'n2': 1651671201766338105, 'n3': 1651671201645784615, 'n4': 1651671201678816445, 'n5': 1651671201674541460}

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":76,"in_reply_to":85,"type":"RequestVoteRes","term":12,"res":false},"id":372}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":72,"in_reply_to":87,"type":"RequestVoteRes","term":12,"res":false},"id":374}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":77,"in_reply_to":88,"type":"RequestVoteRes","term":12,"res":false},"id":376}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":91,"in_reply_to":83,"type":"RequestVoteRes","term":14,"res":true},"id":377}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201766338105, 'n3': 1651671201645784615, 'n4': 1651671201678816445, 'n5': 1651671201674541460}

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":81,"in_reply_to":89,"type":"RequestVoteRes","term":14,"res":true},"id":379}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":93,"in_reply_to":86,"type":"RequestVoteRes","term":14,"res":true},"id":380}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":73,"in_reply_to":90,"type":"RequestVoteRes","term":12,"res":false},"id":382}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201766338105, 'n3': 1651671201770107071, 'n4': 1651671201678816445, 'n5': 1651671201674541460}

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":82,"in_reply_to":92,"type":"RequestVoteRes","term":14,"res":true},"id":383}
INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201766338105, 'n3': 1651671201770107071, 'n4': 1651671201771052658, 'n5': 1651671201674541460}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201766338105, 'n3': 1651671201771375349, 'n4': 1651671201771052658, 'n5': 1651671201674541460}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201771645381, 'n3': 1651671201771375349, 'n4': 1651671201771052658, 'n5': 1651671201674541460}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 94, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 95, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 96, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 97, "type": "AppendEntries", "term": 14, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201771645381, 'n3': 1651671201771375349, 'n4': 1651671201771052658, 'n5': 1651671201773435133}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201773758715, 'n3': 1651671201771375349, 'n4': 1651671201771052658, 'n5': 1651671201773435133}

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201773758715, 'n3': 1651671201771375349, 'n4': 1651671201774048199, 'n5': 1651671201773435133}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
14
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201769030388, 'n2': 1651671201773758715, 'n3': 1651671201771375349, 'n4': 1651671201774048199, 'n5': 1651671201774302305}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":78,"in_reply_to":95,"type":"AppendEntriesRes","res":true,"term":14,"next":3,"commit":0},"id":388}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":74,"in_reply_to":96,"type":"AppendEntriesRes","res":true,"term":14,"next":3,"commit":0},"id":389}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":83,"in_reply_to":97,"type":"AppendEntriesRes","res":true,"term":14,"next":2,"commit":0},"id":390}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":85,"type":"RequestVote","term":15,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":392}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 98, "in_reply_to": 85, "type": "RequestVoteRes", "term": 15, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671201794998532

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":91,"type":"AppendEntries","term":15,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":402}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 99, "in_reply_to": 91, "type": "AppendEntriesRes", "res": true, "term": 15, "next": 2, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 3, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 100, "type": "AppendEntries", "term": 15, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 3, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-10:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":51,"in_reply_to":100,"type":"AppendEntriesRes","res":false,"term":10},"id":410}
INFO:root:387##########:
node
n2
current term
15
next I
{'n1': 1, 'n2': 2, 'n3': 3, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 101, "type": "AppendEntries", "term": 15, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":52,"in_reply_to":101,"type":"AppendEntriesRes","res":true,"term":15,"next":3,"commit":0},"id":412}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 2, 'n3': 3, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-19:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
16

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 102, "type": "RequestVote", "term": 16, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 103, "type": "RequestVote", "term": 16, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 104, "type": "RequestVote", "term": 16, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 105, "type": "RequestVote", "term": 16, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 106, "type": "RequestVote", "term": 16, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":103,"type":"RequestVote","term":16,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":414}
INFO:root:voting for myself
n2
at time
1651671201898430086
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 107, "in_reply_to": 103, "type": "RequestVoteRes", "term": 16, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":53,"in_reply_to":102,"type":"RequestVoteRes","term":15,"res":false},"id":418}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":107,"in_reply_to":103,"type":"RequestVoteRes","term":16,"res":true},"id":419}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":77,"in_reply_to":105,"type":"RequestVoteRes","term":15,"res":false},"id":420}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201900704995, 'n2': 1651671201898419488, 'n3': 1651671201775467087, 'n4': 1651671201775523006, 'n5': 1651671201798347249}

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":81,"in_reply_to":104,"type":"RequestVoteRes","term":15,"res":false},"id":421}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":94,"in_reply_to":106,"type":"RequestVoteRes","term":16,"res":true},"id":422}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201900704995, 'n2': 1651671201902756208, 'n3': 1651671201775467087, 'n4': 1651671201775523006, 'n5': 1651671201798347249}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201900704995, 'n2': 1651671201902756208, 'n3': 1651671201775467087, 'n4': 1651671201903766563, 'n5': 1651671201798347249}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201900704995, 'n2': 1651671201902756208, 'n3': 1651671201904217181, 'n4': 1651671201903766563, 'n5': 1651671201798347249}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
16
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201900704995, 'n2': 1651671201902756208, 'n3': 1651671201904217181, 'n4': 1651671201903766563, 'n5': 1651671201904731887}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 108, "type": "AppendEntries", "term": 16, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 109, "type": "AppendEntries", "term": 16, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 110, "type": "AppendEntries", "term": 16, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 111, "type": "AppendEntries", "term": 16, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":54,"in_reply_to":108,"type":"AppendEntriesRes","res":false,"term":15},"id":427}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":82,"in_reply_to":109,"type":"AppendEntriesRes","res":true,"term":16,"next":3,"commit":0},"id":428}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":78,"in_reply_to":110,"type":"AppendEntriesRes","res":true,"term":16,"next":3,"commit":0},"id":429}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":95,"in_reply_to":111,"type":"AppendEntriesRes","res":true,"term":16,"next":2,"commit":0},"id":430}
INFO:root:387##########:
node
n2
current term
16
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 112, "type": "AppendEntries", "term": 16, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":55,"in_reply_to":112,"type":"AppendEntriesRes","res":true,"term":16,"next":4,"commit":0},"id":432}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":97,"type":"RequestVote","term":17,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":434}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 113, "in_reply_to": 97, "type": "RequestVoteRes", "term": 17, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671201939086828

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":103,"type":"AppendEntries","term":17,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":444}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 114, "in_reply_to": 103, "type": "AppendEntriesRes", "res": true, "term": 17, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
18

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 115, "type": "RequestVote", "term": 18, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 116, "type": "RequestVote", "term": 18, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 117, "type": "RequestVote", "term": 18, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 118, "type": "RequestVote", "term": 18, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 119, "type": "RequestVote", "term": 18, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":116,"type":"RequestVote","term":18,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":454}
INFO:root:voting for myself
n2
at time
1651671201988714089
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 120, "in_reply_to": 116, "type": "RequestVoteRes", "term": 18, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":59,"in_reply_to":115,"type":"RequestVoteRes","term":17,"res":false},"id":458}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":120,"in_reply_to":116,"type":"RequestVoteRes","term":18,"res":true},"id":459}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":85,"in_reply_to":117,"type":"RequestVoteRes","term":17,"res":false},"id":460}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":107,"in_reply_to":119,"type":"RequestVoteRes","term":18,"res":true},"id":461}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":81,"in_reply_to":118,"type":"RequestVoteRes","term":17,"res":false},"id":462}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201990943363, 'n2': 1651671201988706567, 'n3': 1651671201912678438, 'n4': 1651671201912731616, 'n5': 1651671201943109357}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671201990943363, 'n2': 1651671201991374314, 'n3': 1651671201912678438, 'n4': 1651671201912731616, 'n5': 1651671201943109357}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201990943363, 'n2': 1651671201991374314, 'n3': 1651671201991889007, 'n4': 1651671201912731616, 'n5': 1651671201943109357}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671201990943363, 'n2': 1651671201991374314, 'n3': 1651671201991889007, 'n4': 1651671201912731616, 'n5': 1651671201992195061}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 121, "type": "AppendEntries", "term": 18, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 122, "type": "AppendEntries", "term": 18, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 123, "type": "AppendEntries", "term": 18, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 124, "type": "AppendEntries", "term": 18, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
18
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671201990943363, 'n2': 1651671201991374314, 'n3': 1651671201991889007, 'n4': 1651671201994159033, 'n5': 1651671201992195061}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":60,"in_reply_to":121,"type":"AppendEntriesRes","res":false,"term":17},"id":467}
INFO:root:387##########:
node
n2
current term
18
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 125, "type": "AppendEntries", "term": 18, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":86,"in_reply_to":122,"type":"AppendEntriesRes","res":true,"term":18,"next":3,"commit":0},"id":468}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":82,"in_reply_to":123,"type":"AppendEntriesRes","res":true,"term":18,"next":3,"commit":0},"id":469}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":108,"in_reply_to":124,"type":"AppendEntriesRes","res":true,"term":18,"next":2,"commit":0},"id":470}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":61,"in_reply_to":125,"type":"AppendEntriesRes","res":true,"term":18,"next":6,"commit":0},"id":472}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":110,"type":"RequestVote","term":19,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":474}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 126, "in_reply_to": 110, "type": "RequestVoteRes", "term": 19, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671202003548818

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":116,"type":"AppendEntries","term":19,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":484}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 127, "in_reply_to": 116, "type": "AppendEntriesRes", "res": true, "term": 19, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
20

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 128, "type": "RequestVote", "term": 20, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 129, "type": "RequestVote", "term": 20, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 130, "type": "RequestVote", "term": 20, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 131, "type": "RequestVote", "term": 20, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 132, "type": "RequestVote", "term": 20, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":129,"type":"RequestVote","term":20,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":494}
INFO:root:voting for myself
n2
at time
1651671202022539395
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 133, "in_reply_to": 129, "type": "RequestVoteRes", "term": 20, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":65,"in_reply_to":128,"type":"RequestVoteRes","term":19,"res":false},"id":498}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202023475611, 'n2': 1651671202022530267, 'n3': 1651671201997185161, 'n4': 1651671201997473083, 'n5': 1651671202009755352}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":89,"in_reply_to":130,"type":"RequestVoteRes","term":19,"res":false},"id":499}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":133,"in_reply_to":129,"type":"RequestVoteRes","term":20,"res":true},"id":500}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":85,"in_reply_to":131,"type":"RequestVoteRes","term":19,"res":false},"id":501}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":120,"in_reply_to":132,"type":"RequestVoteRes","term":20,"res":true},"id":502}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202023475611, 'n2': 1651671202022530267, 'n3': 1651671202024612464, 'n4': 1651671201997473083, 'n5': 1651671202009755352}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202023475611, 'n2': 1651671202024919838, 'n3': 1651671202024612464, 'n4': 1651671201997473083, 'n5': 1651671202009755352}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202023475611, 'n2': 1651671202024919838, 'n3': 1651671202024612464, 'n4': 1651671202025333179, 'n5': 1651671202009755352}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
20
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202023475611, 'n2': 1651671202024919838, 'n3': 1651671202024612464, 'n4': 1651671202025333179, 'n5': 1651671202025610074}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 134, "type": "AppendEntries", "term": 20, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 135, "type": "AppendEntries", "term": 20, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 136, "type": "AppendEntries", "term": 20, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 137, "type": "AppendEntries", "term": 20, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":66,"in_reply_to":134,"type":"AppendEntriesRes","res":false,"term":19},"id":507}
INFO:root:387##########:
node
n2
current term
20
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 138, "type": "AppendEntries", "term": 20, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":121,"in_reply_to":137,"type":"AppendEntriesRes","res":true,"term":20,"next":2,"commit":0},"id":508}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":86,"in_reply_to":136,"type":"AppendEntriesRes","res":true,"term":20,"next":3,"commit":0},"id":509}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":90,"in_reply_to":135,"type":"AppendEntriesRes","res":true,"term":20,"next":3,"commit":0},"id":510}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":67,"in_reply_to":138,"type":"AppendEntriesRes","res":true,"term":20,"next":8,"commit":0},"id":512}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":123,"type":"RequestVote","term":21,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":514}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 139, "in_reply_to": 123, "type": "RequestVoteRes", "term": 21, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671202094735610

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 8, 'n2': 2, 'n3': 3, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

Exception in thread Thread-23:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":129,"type":"AppendEntries","term":21,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":524}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 140, "in_reply_to": 129, "type": "AppendEntriesRes", "res": true, "term": 21, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
22

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 141, "type": "RequestVote", "term": 22, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 142, "type": "RequestVote", "term": 22, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 143, "type": "RequestVote", "term": 22, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":133,"type":"AppendEntries","term":21,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":532}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":142,"type":"RequestVote","term":22,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":534}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 144, "type": "RequestVote", "term": 22, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 145, "type": "RequestVote", "term": 22, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 146, "in_reply_to": 133, "type": "AppendEntriesRes", "res": false, "term": 22}}
INFO:root:msg term
21
current term
22
log
[(('pass', None), 0), [['pass', None], 0]]
msg entries
[]

INFO:root:voting for myself
n2
at time
1651671202109877767
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 147, "in_reply_to": 142, "type": "RequestVoteRes", "term": 22, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":71,"in_reply_to":141,"type":"RequestVoteRes","term":20,"res":false},"id":539}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":147,"in_reply_to":142,"type":"RequestVoteRes","term":22,"res":true},"id":543}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202113063771, 'n2': 1651671202109868545, 'n3': 1651671202029448404, 'n4': 1651671202029409187, 'n5': 1651671202109182129}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202113063771, 'n2': 1651671202113816299, 'n3': 1651671202029448404, 'n4': 1651671202029409187, 'n5': 1651671202109182129}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":94,"in_reply_to":143,"type":"RequestVoteRes","term":21,"res":false},"id":546}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":89,"in_reply_to":144,"type":"RequestVoteRes","term":21,"res":false},"id":547}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":138,"in_reply_to":145,"type":"RequestVoteRes","term":22,"res":true},"id":549}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202113063771, 'n2': 1651671202113816299, 'n3': 1651671202117804227, 'n4': 1651671202029409187, 'n5': 1651671202109182129}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202113063771, 'n2': 1651671202113816299, 'n3': 1651671202117804227, 'n4': 1651671202118583898, 'n5': 1651671202109182129}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202113063771, 'n2': 1651671202113816299, 'n3': 1651671202117804227, 'n4': 1651671202118583898, 'n5': 1651671202119257729}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 148, "type": "AppendEntries", "term": 22, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":139,"type":"AppendEntries","term":22,"prevIndex":0,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":552}
INFO:root:HBdest
n3
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 149, "type": "AppendEntries", "term": 22, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 150, "type": "AppendEntries", "term": 22, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 151, "type": "AppendEntries", "term": 22, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 152, "in_reply_to": 139, "type": "AppendEntriesRes", "res": true, "term": 22, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":141,"type":"RequestVote","term":23,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":555}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":75,"in_reply_to":148,"type":"AppendEntriesRes","res":false,"term":21},"id":564}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 153, "in_reply_to": 141, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:387##########:
node
n2
current term
22
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 154, "type": "AppendEntries", "term": 22, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0], [["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":147,"type":"RequestVote","term":24,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":567}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":96,"in_reply_to":149,"type":"AppendEntriesRes","res":true,"term":22,"next":3,"commit":0},"id":574}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":152,"type":"RequestVote","term":25,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":578}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 155, "in_reply_to": 147, "type": "RequestVoteRes", "term": 22, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 156, "in_reply_to": 152, "type": "RequestVoteRes", "term": 22, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":92,"in_reply_to":150,"type":"AppendEntriesRes","res":true,"term":22,"next":3,"commit":0},"id":584}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":78,"in_reply_to":154,"type":"AppendEntriesRes","res":true,"term":22,"next":13,"commit":0},"id":589}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":156,"in_reply_to":151,"type":"AppendEntriesRes","res":false,"term":25},"id":590}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":160,"type":"AppendEntries","term":25,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":596}
INFO:root:vote ended, new leader is
n2

INFO:root:there is a new leader

INFO:root:node id:
n2
leader
n5
kvsotr
{}
cur term
22
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671202139577104, 'n2': 1651671202113816299, 'n3': 1651671202133942636, 'n4': 1651671202139459388, 'n5': 1651671202154899661}

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 157, "in_reply_to": 160, "type": "AppendEntriesRes", "res": true, "term": 25, "next": 3, "commit": 0}}
INFO:root:election ended

INFO:root:node
n5
current time
1651671202191671748
node_time
1651671202113816299
dif
77855449
True

INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

INFO:root:election ended

INFO:root:node
n5
current time
1651671202279155591
node_time
1651671202113816299
dif
165339292
False

INFO:root:lead is dead

INFO:root:starting new elections, new term
26

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 158, "type": "RequestVote", "term": 26, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 159, "type": "RequestVote", "term": 26, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 160, "type": "RequestVote", "term": 26, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 161, "type": "RequestVote", "term": 26, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 162, "type": "RequestVote", "term": 26, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":159,"type":"RequestVote","term":26,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":608}
INFO:root:voting for myself
n2
at time
1651671202280694137
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 163, "in_reply_to": 159, "type": "RequestVoteRes", "term": 26, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":81,"in_reply_to":158,"type":"RequestVoteRes","term":25,"res":false},"id":612}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n5
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202281614431, 'n2': 1651671202280687507, 'n3': 1651671202133942636, 'n4': 1651671202139459388, 'n5': 1651671202154899661}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":101,"in_reply_to":160,"type":"RequestVoteRes","term":26,"res":true},"id":614}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":163,"in_reply_to":159,"type":"RequestVoteRes","term":26,"res":true},"id":613}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":96,"in_reply_to":161,"type":"RequestVoteRes","term":25,"res":false},"id":615}
INFO:root:node id:
n2
leader
n5
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202281614431, 'n2': 1651671202280687507, 'n3': 1651671202282061072, 'n4': 1651671202139459388, 'n5': 1651671202154899661}

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":164,"in_reply_to":162,"type":"RequestVoteRes","term":26,"res":true},"id":616}
INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n5
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202281614431, 'n2': 1651671202282760402, 'n3': 1651671202282061072, 'n4': 1651671202139459388, 'n5': 1651671202154899661}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 164, "type": "AppendEntries", "term": 26, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 165, "type": "AppendEntries", "term": 26, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 166, "type": "AppendEntries", "term": 26, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 167, "type": "AppendEntries", "term": 26, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671202281614431, 'n2': 1651671202282760402, 'n3': 1651671202282061072, 'n4': 1651671202284005389, 'n5': 1651671202154899661}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
26
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671202281614431, 'n2': 1651671202282760402, 'n3': 1651671202282061072, 'n4': 1651671202284005389, 'n5': 1651671202284246190}

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":102,"in_reply_to":165,"type":"AppendEntriesRes","res":true,"term":26,"next":3,"commit":0},"id":621}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":97,"in_reply_to":166,"type":"AppendEntriesRes","res":false,"term":25},"id":622}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":82,"in_reply_to":164,"type":"AppendEntriesRes","res":true,"term":26,"next":14,"commit":0},"id":623}
INFO:root:387##########:
node
n2
current term
26
next I
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 168, "type": "AppendEntries", "term": 26, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":98,"in_reply_to":168,"type":"AppendEntriesRes","res":true,"term":26,"next":4,"commit":0},"id":625}
INFO:root:leader alive, resuming timeout checker

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 14, 'n2': 3, 'n3': 3, 'n4': 4, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-26:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 14, 'n2': 3, 'n3': 3, 'n4': 4, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-29:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":166,"type":"RequestVote","term":27,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":627}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 169, "in_reply_to": 166, "type": "RequestVoteRes", "term": 26, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":172,"type":"RequestVote","term":28,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":639}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":105,"type":"RequestVote","term":27,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":638}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 170, "in_reply_to": 172, "type": "RequestVoteRes", "term": 26, "res": false}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 171, "in_reply_to": 105, "type": "RequestVoteRes", "term": 27, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671202383592039

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":112,"type":"AppendEntries","term":27,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":657}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 172, "in_reply_to": 112, "type": "AppendEntriesRes", "res": true, "term": 27, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":180,"type":"RequestVote","term":29,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":667}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 173, "in_reply_to": 180, "type": "RequestVoteRes", "term": 27, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
28

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 174, "type": "RequestVote", "term": 28, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 175, "type": "RequestVote", "term": 28, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 176, "type": "RequestVote", "term": 28, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 177, "type": "RequestVote", "term": 28, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 178, "type": "RequestVote", "term": 28, "prevLogIndex": 2, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":175,"type":"RequestVote","term":28,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n2"},"id":677}
INFO:root:voting for myself
n2
at time
1651671202415703654
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 179, "in_reply_to": 175, "type": "RequestVoteRes", "term": 28, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":117,"in_reply_to":176,"type":"RequestVoteRes","term":28,"res":true},"id":682}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":88,"in_reply_to":174,"type":"RequestVoteRes","term":27,"res":false},"id":681}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":179,"in_reply_to":175,"type":"RequestVoteRes","term":28,"res":true},"id":683}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202285205789, 'n2': 1651671202415700200, 'n3': 1651671202416269328, 'n4': 1651671202286408884, 'n5': 1651671202408972600}

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":105,"in_reply_to":177,"type":"RequestVoteRes","term":27,"res":false},"id":684}
INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":185,"in_reply_to":178,"type":"RequestVoteRes","term":29,"res":false},"id":685}
INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202416743436, 'n2': 1651671202415700200, 'n3': 1651671202416269328, 'n4': 1651671202286408884, 'n5': 1651671202408972600}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202416743436, 'n2': 1651671202416831718, 'n3': 1651671202416269328, 'n4': 1651671202286408884, 'n5': 1651671202408972600}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 180, "type": "AppendEntries", "term": 28, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 181, "type": "AppendEntries", "term": 28, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 182, "type": "AppendEntries", "term": 28, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 183, "type": "AppendEntries", "term": 28, "prevIndex": 2, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671202416743436, 'n2': 1651671202416831718, 'n3': 1651671202416269328, 'n4': 1651671202417696053, 'n5': 1651671202408972600}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
28
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671202416743436, 'n2': 1651671202416831718, 'n3': 1651671202416269328, 'n4': 1651671202417696053, 'n5': 1651671202417891538}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":118,"in_reply_to":181,"type":"AppendEntriesRes","res":true,"term":28,"next":3,"commit":0},"id":690}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":89,"in_reply_to":180,"type":"AppendEntriesRes","res":true,"term":28,"next":14,"commit":0},"id":691}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":106,"in_reply_to":182,"type":"AppendEntriesRes","res":false,"term":27},"id":692}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":186,"in_reply_to":183,"type":"AppendEntriesRes","res":false,"term":29},"id":693}
INFO:root:387##########:
node
n2
current term
28
next I
{'n1': 14, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 184, "type": "AppendEntries", "term": 28, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":107,"in_reply_to":184,"type":"AppendEntriesRes","res":true,"term":28,"next":6,"commit":0},"id":695}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":188,"type":"RequestVote","term":30,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":697}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 185, "in_reply_to": 188, "type": "RequestVoteRes", "term": 28, "res": false}}
INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 14, 'n2': 3, 'n3': 3, 'n4': 6, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-32:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 14, 'n2': 3, 'n3': 3, 'n4': 6, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]

Exception in thread Thread-37:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":194,"type":"RequestVote","term":31,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":707}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 186, "in_reply_to": 194, "type": "RequestVoteRes", "term": 28, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":122,"type":"RequestVote","term":29,"prevLogIndex":2,"lastLogTerm":0,"candidateId":"n3"},"id":717}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0]]
prevlog index
2
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 187, "in_reply_to": 122, "type": "RequestVoteRes", "term": 29, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671202519234435

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":128,"type":"AppendEntries","term":29,"prevIndex":2,"prevTerm":0,"entries":[],"commit":0},"id":727}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 188, "in_reply_to": 128, "type": "AppendEntriesRes", "res": true, "term": 29, "next": 3, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":132,"type":"AppendEntries","term":29,"entries":[[["cas",[1,[4,3]]],29]],"prevIndex":2,"prevTerm":0,"commit":0},"id":737}
INFO:root:commiting command
[['cas', [1, [4, 3]]], 29]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 189, "in_reply_to": 132, "type": "AppendEntriesRes", "res": true, "term": 29, "next": 4, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
30

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 190, "type": "RequestVote", "term": 30, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 191, "type": "RequestVote", "term": 30, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 192, "type": "RequestVote", "term": 30, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 193, "type": "RequestVote", "term": 30, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 194, "type": "RequestVote", "term": 30, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":191,"type":"RequestVote","term":30,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":742}
INFO:root:voting for myself
n2
at time
1651671202573931212
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 195, "in_reply_to": 191, "type": "RequestVoteRes", "term": 30, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":94,"in_reply_to":190,"type":"RequestVoteRes","term":29,"res":false},"id":746}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":202,"in_reply_to":194,"type":"RequestVoteRes","term":31,"res":false},"id":747}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":195,"in_reply_to":191,"type":"RequestVoteRes","term":30,"res":true},"id":748}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202575037226, 'n2': 1651671202573924056, 'n3': 1651671202541251156, 'n4': 1651671202419376023, 'n5': 1651671202504792265}

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":113,"in_reply_to":193,"type":"RequestVoteRes","term":29,"res":false},"id":749}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":134,"in_reply_to":192,"type":"RequestVoteRes","term":30,"res":true},"id":750}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202575037226, 'n2': 1651671202573924056, 'n3': 1651671202541251156, 'n4': 1651671202419376023, 'n5': 1651671202576088046}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202575037226, 'n2': 1651671202576642151, 'n3': 1651671202541251156, 'n4': 1651671202419376023, 'n5': 1651671202576088046}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202575037226, 'n2': 1651671202576642151, 'n3': 1651671202541251156, 'n4': 1651671202576931593, 'n5': 1651671202576088046}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
30
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202575037226, 'n2': 1651671202576642151, 'n3': 1651671202577112861, 'n4': 1651671202576931593, 'n5': 1651671202576088046}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 196, "type": "AppendEntries", "term": 30, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 197, "type": "AppendEntries", "term": 30, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 198, "type": "AppendEntries", "term": 30, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 199, "type": "AppendEntries", "term": 30, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":95,"in_reply_to":196,"type":"AppendEntriesRes","res":false,"term":29},"id":755}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":135,"in_reply_to":197,"type":"AppendEntriesRes","res":true,"term":30,"next":4,"commit":0},"id":756}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":114,"in_reply_to":198,"type":"AppendEntriesRes","res":false,"term":29},"id":757}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":203,"in_reply_to":199,"type":"AppendEntriesRes","res":false,"term":31},"id":758}
INFO:root:387##########:
node
n2
current term
30
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 200, "type": "AppendEntries", "term": 30, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
INFO:root:387##########:
node
n2
current term
30
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 201, "type": "AppendEntries", "term": 30, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":115,"in_reply_to":201,"type":"AppendEntriesRes","res":false,"term":29},"id":761}
INFO:root:387##########:
node
n2
current term
30
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 202, "type": "AppendEntries", "term": 30, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":96,"in_reply_to":200,"type":"AppendEntriesRes","res":true,"term":30,"next":15,"commit":0},"id":762}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":116,"in_reply_to":202,"type":"AppendEntriesRes","res":true,"term":30,"next":9,"commit":0},"id":764}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":205,"type":"RequestVote","term":32,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":766}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 203, "in_reply_to": 205, "type": "RequestVoteRes", "term": 30, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 15, 'n2': 4, 'n3': 4, 'n4': 9, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

Exception in thread Thread-45:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 15, 'n2': 4, 'n3': 4, 'n4': 9, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

Exception in thread Thread-50:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":138,"type":"RequestVote","term":31,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":776}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 204, "in_reply_to": 138, "type": "RequestVoteRes", "term": 31, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671202678747499

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":144,"type":"AppendEntries","term":31,"prevIndex":3,"prevTerm":29,"entries":[],"commit":0},"id":786}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 205, "in_reply_to": 144, "type": "AppendEntriesRes", "res": true, "term": 31, "next": 4, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":213,"type":"RequestVote","term":33,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":800}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 206, "in_reply_to": 213, "type": "RequestVoteRes", "term": 31, "res": false}}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":219,"type":"RequestVote","term":34,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":810}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 207, "in_reply_to": 219, "type": "RequestVoteRes", "term": 31, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":225,"type":"RequestVote","term":35,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":820}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 208, "in_reply_to": 225, "type": "RequestVoteRes", "term": 31, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
32

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 209, "type": "RequestVote", "term": 32, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 210, "type": "RequestVote", "term": 32, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 211, "type": "RequestVote", "term": 32, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 212, "type": "RequestVote", "term": 32, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 213, "type": "RequestVote", "term": 32, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":210,"type":"RequestVote","term":32,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":830}
INFO:root:voting for myself
n2
at time
1651671202782609628
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 214, "in_reply_to": 210, "type": "RequestVoteRes", "term": 32, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":104,"in_reply_to":209,"type":"RequestVoteRes","term":31,"res":false},"id":834}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":125,"in_reply_to":212,"type":"RequestVoteRes","term":31,"res":false},"id":835}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":214,"in_reply_to":210,"type":"RequestVoteRes","term":32,"res":true},"id":836}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":153,"in_reply_to":211,"type":"RequestVoteRes","term":32,"res":true},"id":838}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":230,"in_reply_to":213,"type":"RequestVoteRes","term":35,"res":false},"id":837}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202786079158, 'n2': 1651671202782598365, 'n3': 1651671202688326823, 'n4': 1651671202585582473, 'n5': 1651671202771159370}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202786079158, 'n2': 1651671202782598365, 'n3': 1651671202688326823, 'n4': 1651671202786752072, 'n5': 1651671202771159370}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202786079158, 'n2': 1651671202787343406, 'n3': 1651671202688326823, 'n4': 1651671202786752072, 'n5': 1651671202771159370}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202786079158, 'n2': 1651671202787343406, 'n3': 1651671202787947267, 'n4': 1651671202786752072, 'n5': 1651671202771159370}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 215, "type": "AppendEntries", "term": 32, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

INFO:root:election ended

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 216, "type": "AppendEntries", "term": 32, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 217, "type": "AppendEntries", "term": 32, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 218, "type": "AppendEntries", "term": 32, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":105,"in_reply_to":215,"type":"AppendEntriesRes","res":false,"term":31},"id":842}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
32
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671202786079158, 'n2': 1651671202787343406, 'n3': 1651671202787947267, 'n4': 1651671202786752072, 'n5': 1651671202791310661}

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
32
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":154,"in_reply_to":216,"type":"AppendEntriesRes","res":true,"term":32,"next":4,"commit":0},"id":844}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 219, "type": "AppendEntries", "term": 32, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":126,"in_reply_to":217,"type":"AppendEntriesRes","res":false,"term":31},"id":845}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":231,"in_reply_to":218,"type":"AppendEntriesRes","res":false,"term":35},"id":846}
INFO:root:387##########:
node
n2
current term
32
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 220, "type": "AppendEntries", "term": 32, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":106,"in_reply_to":219,"type":"AppendEntriesRes","res":true,"term":32,"next":17,"commit":0},"id":849}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":127,"in_reply_to":220,"type":"AppendEntriesRes","res":false,"term":31},"id":850}
INFO:root:387##########:
node
n2
current term
32
next I
{'n1': 17, 'n2': 4, 'n3': 4, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 221, "type": "AppendEntries", "term": 32, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":128,"in_reply_to":221,"type":"AppendEntriesRes","res":true,"term":32,"next":13,"commit":0},"id":852}
INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":234,"type":"RequestVote","term":36,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":856}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 222, "in_reply_to": 234, "type": "RequestVoteRes", "term": 32, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":157,"type":"RequestVote","term":33,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":866}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 223, "in_reply_to": 157, "type": "RequestVoteRes", "term": 33, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671202866045937

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":163,"type":"AppendEntries","term":33,"prevIndex":3,"prevTerm":29,"entries":[],"commit":0},"id":876}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 224, "in_reply_to": 163, "type": "AppendEntriesRes", "res": true, "term": 33, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":242,"type":"RequestVote","term":37,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":890}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 225, "in_reply_to": 242, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

INFO:root:sending HB

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":248,"type":"RequestVote","term":38,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":900}
INFO:root:HBdest
n1
nextIndex
{'n1': 17, 'n2': 4, 'n3': 4, 'n4': 13, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

Exception in thread Thread-56:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

  File "/usr/lib/python3.10/threading.py", line 1371, in run
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 226, "in_reply_to": 248, "type": "RequestVoteRes", "term": 33, "res": false}}
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":254,"type":"RequestVote","term":39,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":910}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 227, "in_reply_to": 254, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
34

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 228, "type": "RequestVote", "term": 34, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 229, "type": "RequestVote", "term": 34, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 230, "type": "RequestVote", "term": 34, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 231, "type": "RequestVote", "term": 34, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 232, "type": "RequestVote", "term": 34, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":229,"type":"RequestVote","term":34,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":920}
INFO:root:voting for myself
n2
at time
1651671202967838501
nr votes
1

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":114,"in_reply_to":228,"type":"RequestVoteRes","term":33,"res":false},"id":924}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 233, "in_reply_to": 229, "type": "RequestVoteRes", "term": 34, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":172,"in_reply_to":230,"type":"RequestVoteRes","term":34,"res":true},"id":925}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":137,"in_reply_to":231,"type":"RequestVoteRes","term":33,"res":false},"id":926}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202968504761, 'n2': 1651671202967833057, 'n3': 1651671202868024206, 'n4': 1651671202797389103, 'n5': 1651671202962277813}

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":259,"in_reply_to":232,"type":"RequestVoteRes","term":39,"res":false},"id":927}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":233,"in_reply_to":229,"type":"RequestVoteRes","term":34,"res":true},"id":928}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671202968504761, 'n2': 1651671202967833057, 'n3': 1651671202969179400, 'n4': 1651671202797389103, 'n5': 1651671202962277813}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202968504761, 'n2': 1651671202967833057, 'n3': 1651671202969179400, 'n4': 1651671202969615597, 'n5': 1651671202962277813}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202968504761, 'n2': 1651671202967833057, 'n3': 1651671202969179400, 'n4': 1651671202969615597, 'n5': 1651671202969821004}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
34
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671202968504761, 'n2': 1651671202970004079, 'n3': 1651671202969179400, 'n4': 1651671202969615597, 'n5': 1651671202969821004}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 234, "type": "AppendEntries", "term": 34, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 235, "type": "AppendEntries", "term": 34, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 236, "type": "AppendEntries", "term": 34, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 237, "type": "AppendEntries", "term": 34, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":115,"in_reply_to":234,"type":"AppendEntriesRes","res":false,"term":33},"id":933}
INFO:root:387##########:
node
n2
current term
34
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":173,"in_reply_to":235,"type":"AppendEntriesRes","res":true,"term":34,"next":4,"commit":0},"id":934}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 238, "type": "AppendEntries", "term": 34, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":138,"in_reply_to":236,"type":"AppendEntriesRes","res":false,"term":33},"id":935}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":260,"in_reply_to":237,"type":"AppendEntriesRes","res":false,"term":39},"id":936}
INFO:root:387##########:
node
n2
current term
34
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 239, "type": "AppendEntries", "term": 34, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":116,"in_reply_to":238,"type":"AppendEntriesRes","res":true,"term":34,"next":19,"commit":0},"id":939}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":139,"in_reply_to":239,"type":"AppendEntriesRes","res":false,"term":33},"id":940}
INFO:root:387##########:
node
n2
current term
34
next I
{'n1': 19, 'n2': 4, 'n3': 4, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 240, "type": "AppendEntries", "term": 34, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":140,"in_reply_to":240,"type":"AppendEntriesRes","res":true,"term":34,"next":17,"commit":0},"id":942}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":262,"type":"RequestVote","term":40,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":946}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 241, "in_reply_to": 262, "type": "RequestVoteRes", "term": 34, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":176,"type":"RequestVote","term":35,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":956}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 242, "in_reply_to": 176, "type": "RequestVoteRes", "term": 35, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671203069660781

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":182,"type":"AppendEntries","term":35,"prevIndex":3,"prevTerm":29,"entries":[],"commit":0},"id":966}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 243, "in_reply_to": 182, "type": "AppendEntriesRes", "res": true, "term": 35, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":270,"type":"RequestVote","term":41,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":980}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 244, "in_reply_to": 270, "type": "RequestVoteRes", "term": 35, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":276,"type":"RequestVote","term":42,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":990}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 245, "in_reply_to": 276, "type": "RequestVoteRes", "term": 35, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
36

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 246, "type": "RequestVote", "term": 36, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 247, "type": "RequestVote", "term": 36, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 248, "type": "RequestVote", "term": 36, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 249, "type": "RequestVote", "term": 36, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 250, "type": "RequestVote", "term": 36, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":247,"type":"RequestVote","term":36,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":1000}
INFO:root:voting for myself
n2
at time
1651671203171056310
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 251, "in_reply_to": 247, "type": "RequestVoteRes", "term": 36, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":124,"in_reply_to":246,"type":"RequestVoteRes","term":35,"res":false},"id":1003}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":190,"in_reply_to":248,"type":"RequestVoteRes","term":36,"res":true},"id":1005}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":148,"in_reply_to":249,"type":"RequestVoteRes","term":35,"res":false},"id":1006}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":251,"in_reply_to":247,"type":"RequestVoteRes","term":36,"res":true},"id":1007}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":281,"in_reply_to":250,"type":"RequestVoteRes","term":42,"res":false},"id":1008}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
36
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203172917638, 'n2': 1651671203171050869, 'n3': 1651671203071122313, 'n4': 1651671202974003399, 'n5': 1651671203160692284}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
36
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203172917638, 'n2': 1651671203171050869, 'n3': 1651671203173201816, 'n4': 1651671202974003399, 'n5': 1651671203160692284}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
36
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203172917638, 'n2': 1651671203171050869, 'n3': 1651671203173201816, 'n4': 1651671203173566296, 'n5': 1651671203160692284}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
36
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203172917638, 'n2': 1651671203173792173, 'n3': 1651671203173201816, 'n4': 1651671203173566296, 'n5': 1651671203160692284}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 252, "type": "AppendEntries", "term": 36, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 253, "type": "AppendEntries", "term": 36, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 254, "type": "AppendEntries", "term": 36, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 255, "type": "AppendEntries", "term": 36, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
36
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671203172917638, 'n2': 1651671203173792173, 'n3': 1651671203173201816, 'n4': 1651671203173566296, 'n5': 1651671203175430480}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":125,"in_reply_to":252,"type":"AppendEntriesRes","res":false,"term":35},"id":1013}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":191,"in_reply_to":253,"type":"AppendEntriesRes","res":true,"term":36,"next":4,"commit":0},"id":1014}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":149,"in_reply_to":254,"type":"AppendEntriesRes","res":false,"term":35},"id":1015}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":282,"in_reply_to":255,"type":"AppendEntriesRes","res":false,"term":42},"id":1016}
INFO:root:387##########:
node
n2
current term
36
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 256, "type": "AppendEntries", "term": 36, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
INFO:root:387##########:
node
n2
current term
36
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 257, "type": "AppendEntries", "term": 36, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":150,"in_reply_to":257,"type":"AppendEntriesRes","res":false,"term":35},"id":1019}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":126,"in_reply_to":256,"type":"AppendEntriesRes","res":true,"term":36,"next":21,"commit":0},"id":1020}
INFO:root:387##########:
node
n2
current term
36
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 258, "type": "AppendEntries", "term": 36, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":151,"in_reply_to":258,"type":"AppendEntriesRes","res":true,"term":36,"next":21,"commit":0},"id":1022}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 21, 'n2': 4, 'n3': 4, 'n4': 21, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

Exception in thread Thread-65:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 21, 'n2': 4, 'n3': 4, 'n4': 21, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

Exception in thread Thread-71:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":193,"type":"RequestVote","term":37,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":1024}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 259, "in_reply_to": 193, "type": "RequestVoteRes", "term": 37, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671203243674500

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":285,"type":"RequestVote","term":43,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1034}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 260, "in_reply_to": 285, "type": "RequestVoteRes", "term": 37, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":199,"type":"AppendEntries","term":37,"prevIndex":3,"prevTerm":29,"entries":[],"commit":0},"id":1039}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 261, "in_reply_to": 199, "type": "AppendEntriesRes", "res": true, "term": 37, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":292,"type":"RequestVote","term":44,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1058}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 262, "in_reply_to": 292, "type": "RequestVoteRes", "term": 37, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
38

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 263, "type": "RequestVote", "term": 38, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 264, "type": "RequestVote", "term": 38, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 265, "type": "RequestVote", "term": 38, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 266, "type": "RequestVote", "term": 38, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 267, "type": "RequestVote", "term": 38, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":264,"type":"RequestVote","term":38,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":1068}
INFO:root:voting for myself
n2
at time
1651671203344777096
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 268, "in_reply_to": 264, "type": "RequestVoteRes", "term": 38, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":268,"in_reply_to":264,"type":"RequestVoteRes","term":38,"res":true},"id":1072}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":132,"in_reply_to":263,"type":"RequestVoteRes","term":37,"res":false},"id":1073}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":297,"in_reply_to":267,"type":"RequestVoteRes","term":44,"res":false},"id":1074}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":158,"in_reply_to":266,"type":"RequestVoteRes","term":37,"res":false},"id":1075}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203178286122, 'n2': 1651671203345326590, 'n3': 1651671203246219333, 'n4': 1651671203179475767, 'n5': 1651671203290390093}

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":207,"in_reply_to":265,"type":"RequestVoteRes","term":38,"res":true},"id":1076}
INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203345763624, 'n2': 1651671203345326590, 'n3': 1651671203246219333, 'n4': 1651671203179475767, 'n5': 1651671203290390093}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203345763624, 'n2': 1651671203345326590, 'n3': 1651671203246219333, 'n4': 1651671203179475767, 'n5': 1651671203345865004}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203345763624, 'n2': 1651671203345326590, 'n3': 1651671203246219333, 'n4': 1651671203345973398, 'n5': 1651671203345865004}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
38
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203345763624, 'n2': 1651671203345326590, 'n3': 1651671203346076729, 'n4': 1651671203345973398, 'n5': 1651671203345865004}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 269, "type": "AppendEntries", "term": 38, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 270, "type": "AppendEntries", "term": 38, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 271, "type": "AppendEntries", "term": 38, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 272, "type": "AppendEntries", "term": 38, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":133,"in_reply_to":269,"type":"AppendEntriesRes","res":false,"term":37},"id":1081}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":208,"in_reply_to":270,"type":"AppendEntriesRes","res":true,"term":38,"next":4,"commit":0},"id":1082}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":159,"in_reply_to":271,"type":"AppendEntriesRes","res":false,"term":37},"id":1083}
INFO:root:387##########:
node
n2
current term
38
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":298,"in_reply_to":272,"type":"AppendEntriesRes","res":false,"term":44},"id":1084}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 273, "type": "AppendEntries", "term": 38, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
INFO:root:387##########:
node
n2
current term
38
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 274, "type": "AppendEntries", "term": 38, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":160,"in_reply_to":274,"type":"AppendEntriesRes","res":false,"term":37},"id":1087}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":134,"in_reply_to":273,"type":"AppendEntriesRes","res":true,"term":38,"next":23,"commit":0},"id":1088}
INFO:root:387##########:
node
n2
current term
38
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 275, "type": "AppendEntries", "term": 38, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":161,"in_reply_to":275,"type":"AppendEntriesRes","res":true,"term":38,"next":25,"commit":0},"id":1090}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":300,"type":"RequestVote","term":45,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1092}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 276, "in_reply_to": 300, "type": "RequestVoteRes", "term": 38, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":306,"type":"RequestVote","term":46,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1102}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 277, "in_reply_to": 306, "type": "RequestVoteRes", "term": 38, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":212,"type":"RequestVote","term":39,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":1112}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 278, "in_reply_to": 212, "type": "RequestVoteRes", "term": 39, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671203398906164

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":218,"type":"AppendEntries","term":39,"prevIndex":3,"prevTerm":29,"entries":[],"commit":0},"id":1122}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 279, "in_reply_to": 218, "type": "AppendEntriesRes", "res": true, "term": 39, "next": 4, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 23, 'n2': 4, 'n3': 4, 'n4': 25, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

Exception in thread Thread-76:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
40

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 280, "type": "RequestVote", "term": 40, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 281, "type": "RequestVote", "term": 40, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 282, "type": "RequestVote", "term": 40, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 283, "type": "RequestVote", "term": 40, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 284, "type": "RequestVote", "term": 40, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":281,"type":"RequestVote","term":40,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":1136}
INFO:root:voting for myself
n2
at time
1651671203410375544
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 285, "in_reply_to": 281, "type": "RequestVoteRes", "term": 40, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":140,"in_reply_to":280,"type":"RequestVoteRes","term":39,"res":false},"id":1141}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":313,"in_reply_to":284,"type":"RequestVoteRes","term":46,"res":false},"id":1140}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":224,"in_reply_to":282,"type":"RequestVoteRes","term":40,"res":true},"id":1142}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":168,"in_reply_to":283,"type":"RequestVoteRes","term":39,"res":false},"id":1143}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":285,"in_reply_to":281,"type":"RequestVoteRes","term":40,"res":true},"id":1144}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203410963474, 'n2': 1651671203410371401, 'n3': 1651671203400497627, 'n4': 1651671203349028443, 'n5': 1651671203383481485}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203410963474, 'n2': 1651671203410371401, 'n3': 1651671203400497627, 'n4': 1651671203349028443, 'n5': 1651671203411095134}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203410963474, 'n2': 1651671203410371401, 'n3': 1651671203411209963, 'n4': 1651671203349028443, 'n5': 1651671203411095134}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203410963474, 'n2': 1651671203410371401, 'n3': 1651671203411209963, 'n4': 1651671203411370053, 'n5': 1651671203411095134}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
40
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203410963474, 'n2': 1651671203411465116, 'n3': 1651671203411209963, 'n4': 1651671203411370053, 'n5': 1651671203411095134}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 286, "type": "AppendEntries", "term": 40, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 287, "type": "AppendEntries", "term": 40, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 288, "type": "AppendEntries", "term": 40, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 289, "type": "AppendEntries", "term": 40, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":141,"in_reply_to":286,"type":"AppendEntriesRes","res":false,"term":39},"id":1149}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":225,"in_reply_to":287,"type":"AppendEntriesRes","res":true,"term":40,"next":4,"commit":0},"id":1150}
INFO:root:387##########:
node
n2
current term
40
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":169,"in_reply_to":288,"type":"AppendEntriesRes","res":false,"term":39},"id":1151}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 290, "type": "AppendEntries", "term": 40, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":314,"in_reply_to":289,"type":"AppendEntriesRes","res":false,"term":46},"id":1152}
INFO:root:387##########:
node
n2
current term
40
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 291, "type": "AppendEntries", "term": 40, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":142,"in_reply_to":290,"type":"AppendEntriesRes","res":true,"term":40,"next":25,"commit":0},"id":1155}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":170,"in_reply_to":291,"type":"AppendEntriesRes","res":false,"term":39},"id":1156}
INFO:root:387##########:
node
n2
current term
40
next I
{'n1': 25, 'n2': 4, 'n3': 4, 'n4': 2, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 292, "type": "AppendEntries", "term": 40, "prevIndex": 1, "prevTerm": 0, "entries": [[["pass", null], 0], [["cas", [1, [4, 3]]], 29]], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":171,"in_reply_to":292,"type":"AppendEntriesRes","res":true,"term":40,"next":29,"commit":0},"id":1158}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":316,"type":"RequestVote","term":47,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1160}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 293, "in_reply_to": 316, "type": "RequestVoteRes", "term": 40, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":228,"type":"RequestVote","term":41,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":1170}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 294, "in_reply_to": 228, "type": "RequestVoteRes", "term": 41, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671203446370850

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":234,"type":"AppendEntries","term":41,"prevIndex":3,"prevTerm":29,"entries":[],"commit":0},"id":1180}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 295, "in_reply_to": 234, "type": "AppendEntriesRes", "res": true, "term": 41, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":324,"type":"RequestVote","term":48,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1194}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 296, "in_reply_to": 324, "type": "RequestVoteRes", "term": 41, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
42

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 297, "type": "RequestVote", "term": 42, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 298, "type": "RequestVote", "term": 42, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 299, "type": "RequestVote", "term": 42, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 300, "type": "RequestVote", "term": 42, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 301, "type": "RequestVote", "term": 42, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":298,"type":"RequestVote","term":42,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":1204}
INFO:root:voting for myself
n2
at time
1651671203497773256
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 302, "in_reply_to": 298, "type": "RequestVoteRes", "term": 42, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":148,"in_reply_to":297,"type":"RequestVoteRes","term":41,"res":false},"id":1208}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
42
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203498919527, 'n2': 1651671203497762148, 'n3': 1651671203448047681, 'n4': 1651671203414287749, 'n5': 1651671203469381143}

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":241,"in_reply_to":299,"type":"RequestVoteRes","term":42,"res":true},"id":1209}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":329,"in_reply_to":301,"type":"RequestVoteRes","term":48,"res":false},"id":1210}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":178,"in_reply_to":300,"type":"RequestVoteRes","term":41,"res":false},"id":1211}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":302,"in_reply_to":298,"type":"RequestVoteRes","term":42,"res":true},"id":1212}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
42
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203498919527, 'n2': 1651671203497762148, 'n3': 1651671203500742810, 'n4': 1651671203414287749, 'n5': 1651671203469381143}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
42
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203498919527, 'n2': 1651671203497762148, 'n3': 1651671203500742810, 'n4': 1651671203414287749, 'n5': 1651671203501668339}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
42
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203498919527, 'n2': 1651671203497762148, 'n3': 1651671203500742810, 'n4': 1651671203502016360, 'n5': 1651671203501668339}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
42
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203498919527, 'n2': 1651671203502379660, 'n3': 1651671203500742810, 'n4': 1651671203502016360, 'n5': 1651671203501668339}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:election timeout, starting new election

INFO:root:vote ended, new leader is
n2

INFO:root:starting new elections, new term
43

INFO:root:sending HB

INFO:root:Requesting new Vote

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 303, "type": "RequestVote", "term": 43, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 305, "type": "RequestVote", "term": 43, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 304, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 306, "type": "RequestVote", "term": 43, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":331,"type":"RequestVote","term":49,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":1214}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":305,"type":"RequestVote","term":43,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n2"},"id":1219}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 307, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 308, "type": "RequestVote", "term": 43, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 309, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":244,"type":"RequestVote","term":43,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":1228}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 310, "type": "RequestVote", "term": 43, "prevLogIndex": 3, "lastLogTerm": 29, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":150,"in_reply_to":303,"type":"RequestVoteRes","term":41,"res":false},"id":1229}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 311, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":151,"in_reply_to":304,"type":"AppendEntriesRes","res":false,"term":41},"id":1230}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 312, "in_reply_to": 331, "type": "RequestVoteRes", "term": 43, "res": false}}
INFO:root:voting for myself
n2
at time
1651671203516035299
nr votes
1

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 313, "in_reply_to": 305, "type": "RequestVoteRes", "term": 43, "res": true}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 314, "in_reply_to": 244, "type": "RequestVoteRes", "term": 43, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":181,"in_reply_to":308,"type":"RequestVoteRes","term":41,"res":false},"id":1241}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":248,"in_reply_to":306,"type":"RequestVoteRes","term":43,"res":true},"id":1242}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":182,"in_reply_to":309,"type":"AppendEntriesRes","res":false,"term":41},"id":1243}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":337,"in_reply_to":310,"type":"RequestVoteRes","term":49,"res":false},"id":1245}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":338,"in_reply_to":311,"type":"AppendEntriesRes","res":false,"term":49},"id":1247}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":313,"in_reply_to":305,"type":"RequestVoteRes","term":43,"res":true},"id":1249}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":251,"in_reply_to":307,"type":"AppendEntriesRes","res":true,"term":43,"next":4,"commit":0},"id":1250}
INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203518087302, 'n2': 1651671203516026019, 'n3': 1651671203516507813, 'n4': 1651671203502016360, 'n5': 1651671203515213606}

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":250,"type":"RequestVote","term":43,"prevLogIndex":3,"lastLogTerm":29,"candidateId":"n3"},"id":1252}
INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
43
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 315, "type": "AppendEntries", "term": 43, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203519423140, 'n2': 1651671203516026019, 'n3': 1651671203516507813, 'n4': 1651671203519869593, 'n5': 1651671203515213606}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651671203519423140, 'n2': 1651671203516026019, 'n3': 1651671203520291250, 'n4': 1651671203519869593, 'n5': 1651671203515213606}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:387##########:
node
n2
current term
43
next I
{'n1': 3, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 316, "type": "AppendEntries", "term": 43, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203519423140, 'n2': 1651671203516026019, 'n3': 1651671203520291250, 'n4': 1651671203520811465, 'n5': 1651671203521229308}

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
43
log 
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651671203519423140, 'n2': 1651671203521532835, 'n3': 1651671203520291250, 'n4': 1651671203520811465, 'n5': 1651671203521499018}

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":154,"in_reply_to":315,"type":"AppendEntriesRes","res":true,"term":43,"next":27,"commit":0},"id":1261}
INFO:root:sending HB

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":184,"in_reply_to":316,"type":"AppendEntriesRes","res":false,"term":41},"id":1262}
INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 317, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 318, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 319, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 4, 'n2': 4, 'n3': 4, 'n4': 4, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 320, "type": "AppendEntries", "term": 43, "prevIndex": 3, "prevTerm": 29, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":155,"in_reply_to":317,"type":"AppendEntriesRes","res":false,"term":43},"id":1266}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
prevlog index
3
 last log term
29

DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":185,"in_reply_to":319,"type":"AppendEntriesRes","res":false,"term":41},"id":1269}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":340,"in_reply_to":320,"type":"AppendEntriesRes","res":false,"term":49},"id":1270}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 321, "in_reply_to": 250, "type": "RequestVoteRes", "term": 43, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651671203526149597

INFO:root:387##########:
node
n2
current term
43
next I
{'n1': 27, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 322, "type": "AppendEntries", "term": 43, "prevIndex": 2, "prevTerm": 0, "entries": [[["cas", [1, [4, 3]]], 29]], "commit": 0}}
INFO:root:387##########:
node
n2
current term
43
next I
{'n1': 26, 'n2': 4, 'n3': 4, 'n4': 3, 'n5': 4}
log
[(('pass', None), 0), [['pass', None], 0], [['pass', None], 0], [['cas', [1, [4, 3]]], 29]]
dest
n1

ERROR:root:fatal exception in handler
Traceback (most recent call last):
  File "/home/peter/Documents/tf/lab3/ms.py", line 27, in exitOnError
    fn(*args)
  File "/home/peter/Documents/tf/lab3/raft.py", line 410, in handle
    send(node_id, dest, type='AppendEntries', term=current_term, prevIndex = nextIndex[dest]-1,prevTerm=log[nextIndex[dest]-1][1] ,entries=log[nextIndex[dest]:],commit=commitIndex)
IndexError: list index out of range

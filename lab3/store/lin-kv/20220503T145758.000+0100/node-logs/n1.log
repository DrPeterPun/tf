DEBUG:root:received {"dest":"n1","body":{"type":"init","node_id":"n1","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c4","id":4}
INFO:root:node n1 initialized
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":2,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":8}
DEBUG:root:sending {"dest": "c4", "src": "n1", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":2,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":7}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":2,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":22}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":2,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":30}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 2, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 3, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 4, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 5, "type": "AppendEntries", "term": 0, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 6, "in_reply_to": 2, "type": "RequestVoteRes", "term": 1, "res": true}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 7, "in_reply_to": 2, "type": "RequestVoteRes", "term": 1, "res": false}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 8, "in_reply_to": 2, "type": "RequestVoteRes", "term": 1, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 9, "in_reply_to": 2, "type": "RequestVoteRes", "term": 1, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":11,"in_reply_to":3,"type":"AppendEntriesRes","res":false,"term":1},"id":51}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":11,"in_reply_to":2,"type":"AppendEntriesRes","res":false,"term":1},"id":53}
WARNING:root:387##########:
current term
1
next I
{'n1': 1, 'n2': 1, 'n3': 0, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 10, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":11,"in_reply_to":4,"type":"AppendEntriesRes","res":false,"term":1},"id":56}
WARNING:root:387##########:
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]
dest
n2

DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 11, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
WARNING:root:387##########:
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 1}
log
[(('pass', None), 0)]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 12, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":11,"in_reply_to":5,"type":"AppendEntriesRes","res":false,"term":1},"id":59}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":12,"in_reply_to":11,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":61}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":12,"in_reply_to":10,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":62}
WARNING:root:387##########:
current term
1
next I
{'n1': 1, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}
log
[(('pass', None), 0)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 13, "type": "AppendEntries", "term": 1, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":12,"in_reply_to":12,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":63}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":12,"in_reply_to":13,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":65}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":14,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":68}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":14,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":76}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 14, "in_reply_to": 14, "type": "RequestVoteRes", "term": 2, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":13,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":82}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":15,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":83}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 15, "in_reply_to": 14, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 16, "in_reply_to": 13, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 17, "in_reply_to": 15, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 18, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 19, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 20, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 21, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 22, "type": "RequestVote", "term": 3, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":18,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":108}
DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 23, "in_reply_to": 18, "type": "RequestVoteRes", "term": 3, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":22,"in_reply_to":19,"type":"RequestVoteRes","term":2,"res":false},"id":113}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":23,"in_reply_to":18,"type":"RequestVoteRes","term":3,"res":true},"id":114}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":22,"in_reply_to":20,"type":"RequestVoteRes","term":2,"res":false},"id":115}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":23,"in_reply_to":21,"type":"RequestVoteRes","term":3,"res":false},"id":116}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":22,"in_reply_to":22,"type":"RequestVoteRes","term":3,"res":true},"id":117}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":23,"type":"RequestVote","term":4,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":120}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":24,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":121}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 24, "in_reply_to": 23, "type": "RequestVoteRes", "term": 4, "res": true}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 25, "in_reply_to": 24, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 26, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 27, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 28, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 29, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 30, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n1"}}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":26,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":135}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":25,"in_reply_to":27,"type":"RequestVoteRes","term":3,"res":false},"id":144}
DEBUG:root:sending {"dest": "n1", "src": "n1", "body": {"msg_id": 31, "in_reply_to": 26, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":26,"in_reply_to":29,"type":"RequestVoteRes","term":4,"res":false},"id":145}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":31,"in_reply_to":28,"type":"RequestVoteRes","term":4,"res":false},"id":146}
DEBUG:root:received {"dest":"n1","src":"n1","body":{"msg_id":31,"in_reply_to":26,"type":"RequestVoteRes","term":5,"res":true},"id":147}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":26,"type":"RequestVote","term":4,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":148}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":30,"in_reply_to":30,"type":"RequestVoteRes","term":5,"res":true},"id":153}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 32, "in_reply_to": 26, "type": "RequestVoteRes", "term": 5, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":28,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":160}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 33, "in_reply_to": 28, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":33,"type":"RequestVote","term":6,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":170}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 34, "in_reply_to": 33, "type": "RequestVoteRes", "term": 5, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":39,"type":"RequestVote","term":7,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":180}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 35, "in_reply_to": 39, "type": "RequestVoteRes", "term": 5, "res": false}}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":36,"type":"RequestVote","term":8,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":190}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 36, "in_reply_to": 36, "type": "RequestVoteRes", "term": 8, "res": true}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":36,"type":"RequestVote","term":9,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":199}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 37, "in_reply_to": 36, "type": "RequestVoteRes", "term": 8, "res": false}}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 38, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n1", "body": {"msg_id": 39, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 40, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n1", "body": {"msg_id": 41, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":42,"in_reply_to":38,"type":"AppendEntriesRes","res":false,"term":9},"id":214}
DEBUG:root:received {"dest":"n1","src":"n3","body":{"msg_id":38,"in_reply_to":39,"type":"AppendEntriesRes","res":true,"term":8,"next":1,"commit":0},"id":215}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":43,"in_reply_to":40,"type":"AppendEntriesRes","res":false,"term":9},"id":216}
WARNING:root:387##########:
current term
8
next I
{'n1': 1, 'n2': 0, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]
dest
n2

DEBUG:root:received {"dest":"n1","src":"n5","body":{"msg_id":47,"in_reply_to":41,"type":"AppendEntriesRes","res":true,"term":8,"next":1,"commit":0},"id":217}
DEBUG:root:sending {"dest": "n2", "src": "n1", "body": {"msg_id": 42, "type": "AppendEntries", "term": 8, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
WARNING:root:387##########:
current term
8
next I
{'n1': 1, 'n2': 0, 'n3': 1, 'n4': 0, 'n5': 1}
log
[(('pass', None), 0)]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n1", "body": {"msg_id": 43, "type": "AppendEntries", "term": 8, "prevIndex": -1, "prevTerm": 0, "entries": [[["pass", null], 0]], "commit": 0}}
DEBUG:root:received {"dest":"n1","src":"n2","body":{"msg_id":43,"in_reply_to":42,"type":"AppendEntriesRes","res":false,"term":9},"id":220}
DEBUG:root:received {"dest":"n1","src":"n4","body":{"msg_id":44,"in_reply_to":43,"type":"AppendEntriesRes","res":false,"term":9},"id":221}
WARNING:root:387##########:
current term
8
next I
{'n1': 1, 'n2': -1, 'n3': 1, 'n4': 0, 'n5': 1}
log
[(('pass', None), 0)]
dest
n2

ERROR:root:fatal exception in handler
Traceback (most recent call last):
  File "/home/peter/Documents/tf/lab3/ms.py", line 27, in exitOnError
    fn(*args)
  File "/home/peter/Documents/tf/lab3/raft.py", line 388, in handle
    send(node_id, dest, type='AppendEntries', term=current_term, prevIndex = nextIndex[dest]-1,prevTerm=log[nextIndex[dest]-1][1] ,entries=log[nextIndex[dest]:],commit=commitIndex)
IndexError: list index out of range

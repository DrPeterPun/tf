DEBUG:root:received {"dest":"n3","body":{"type":"init","node_id":"n3","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c2","id":2}
INFO:root:node n3 initialized
DEBUG:root:sending {"dest": "c2", "src": "n3", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":4,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":7}
INFO:root:node
n1
current time
1651671519597677003
node_time
1651671519597666492
dif
10511
True

INFO:root:leader alive, resuming timeout checker

INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 2, "in_reply_to": 4, "type": "RequestVoteRes", "term": 1, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671519598884903

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":9,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":18}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 3, "in_reply_to": 9, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":5,"type":"AppendEntries","term":1,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":29}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 4, "in_reply_to": 5, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 1, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
2
sec, min max hb
0.3096762522160699
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 5, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 6, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 7, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 8, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 9, "type": "RequestVote", "term": 2, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":8,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":42}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 10, "in_reply_to": 8, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671519700914111

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":7,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":43}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":8,"in_reply_to":5,"type":"RequestVoteRes","term":2,"res":true},"id":46}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":14,"in_reply_to":6,"type":"RequestVoteRes","term":2,"res":false},"id":53}
INFO:root:voting for myself
n3
at time
1651671519702869470
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 11, "in_reply_to": 7, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671519703139088, 'n2': 1651671519607740899, 'n3': 1651671519702866513, 'n4': 1651671519597666492, 'n5': 1651671519700769957}
curr time
1651671519703188634

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671519703139088, 'n2': 1651671519703396812, 'n3': 1651671519702866513, 'n4': 1651671519597666492, 'n5': 1651671519700769957}
curr time
1651671519703439018

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":6,"in_reply_to":8,"type":"RequestVoteRes","term":1,"res":false},"id":55}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":12,"type":"RequestVote","term":3,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n1"},"id":58}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":12,"in_reply_to":9,"type":"RequestVoteRes","term":2,"res":false},"id":59}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":9,"type":"RequestVote","term":2,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n4"},"id":65}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":15,"type":"AppendEntries","term":2,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":69}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671519703139088, 'n2': 1651671519703396812, 'n3': 1651671519702866513, 'n4': 1651671519706154264, 'n5': 1651671519700769957}
curr time
1651671519706217729

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 12, "in_reply_to": 12, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671519706356662, 'n2': 1651671519703396812, 'n3': 1651671519702866513, 'n4': 1651671519706154264, 'n5': 1651671519706532661}
curr time
1651671519706575498

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 13, "in_reply_to": 9, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 14, "in_reply_to": 15, "type": "AppendEntriesRes", "res": true, "term": 2, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":11,"in_reply_to":7,"type":"RequestVoteRes","term":2,"res":true},"id":75}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671519706356662, 'n2': 1651671519703396812, 'n3': 1651671519707384386, 'n4': 1651671519706681836, 'n5': 1651671519706828980}
curr time
1651671519707437472

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 15, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 16, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 17, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 18, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":18,"in_reply_to":16,"type":"AppendEntriesRes","res":true,"term":2,"next":1,"commit":0},"id":84}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":15,"in_reply_to":17,"type":"AppendEntriesRes","res":false,"term":3},"id":87}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":19,"type":"AppendEntries","term":3,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":92}
INFO:root:vote ended, new leader is
n3

INFO:root:there is a new leader

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
2
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671519715318677, 'n2': 1651671519711065890, 'n3': 1651671519707384386, 'n4': 1651671519713720573, 'n5': 1651671519706828980}
curr time
1651671519715453430

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 19, "in_reply_to": 19, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":19,"in_reply_to":18,"type":"AppendEntriesRes","res":false,"term":3},"id":98}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 20, "in_reply_to": 19, "type": "error", "code": 11, "text": "Not Leader"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":22,"in_reply_to":15,"type":"AppendEntriesRes","res":false,"term":3},"id":105}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 21, "in_reply_to": 22, "type": "error", "code": 11, "text": "Not Leader"}}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":25,"type":"RequestVote","term":4,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":110}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 22, "in_reply_to": 25, "type": "RequestVoteRes", "term": 4, "res": true}}
INFO:root:election started and voted vor
n5
at time
1651671519808205862

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":20,"type":"RequestVote","term":4,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":119}
DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":31,"type":"AppendEntries","term":4,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":125}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 23, "in_reply_to": 20, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 24, "in_reply_to": 31, "type": "AppendEntriesRes", "res": true, "term": 4, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":28,"type":"AppendEntries","term":4,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":138}
INFO:root:280
[(('pass', None), 0)]
1
0
n3
[]

DEBUG:root:received {"dest":"n3","body":{"key":1,"from":1,"to":4,"type":"cas","msg_id":1},"src":"c11","id":141}
DEBUG:root:sending {"dest": "c11", "src": "n3", "body": {"msg_id": 25, "in_reply_to": 1, "type": "error", "code": 11, "text": "Not Leader"}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":25,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":145}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 26, "in_reply_to": 25, "type": "RequestVoteRes", "term": 4, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":33,"type":"AppendEntries","term":4,"entries":[[["cas",[1,[4,1]]],4]],"prevIndex":1,"prevTerm":0,"commit":0},"id":156}
INFO:root:280
[(('pass', None), 0)]
1
0
n3
[[['cas', [1, [4, 1]]], 4]]

INFO:root:node
n1
current time
1651671519902607793
node_time
1651671519707384386
dif
195223407
False

INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
5
sec, min max hb
0.41394470367546154
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 27, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 28, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 29, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 30, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 31, "type": "RequestVote", "term": 5, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":32,"type":"RequestVote","term":6,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":164}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 32, "in_reply_to": 32, "type": "RequestVoteRes", "term": 6, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671519911019269

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":29,"type":"RequestVote","term":5,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":166}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 33, "in_reply_to": 29, "type": "RequestVoteRes", "term": 6, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651671519911488233

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":30,"in_reply_to":27,"type":"RequestVoteRes","term":4,"res":false},"id":171}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":36,"in_reply_to":28,"type":"RequestVoteRes","term":6,"res":false},"id":173}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":33,"in_reply_to":29,"type":"RequestVoteRes","term":6,"res":false},"id":177}
INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
6
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651671519911755772, 'n2': 1651671519910826406, 'n3': 1651671519911384566, 'n4': 1651671519896498979, 'n5': 1651671519812099473}
curr time
1651671519911956830

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":36,"in_reply_to":31,"type":"RequestVoteRes","term":4,"res":false},"id":178}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":36,"in_reply_to":30,"type":"RequestVoteRes","term":4,"res":false},"id":179}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
6
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651671519911755772, 'n2': 1651671519912320272, 'n3': 1651671519911384566, 'n4': 1651671519896498979, 'n5': 1651671519812099473}
curr time
1651671519912433612

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
6
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651671519911755772, 'n2': 1651671519912320272, 'n3': 1651671519912556887, 'n4': 1651671519896498979, 'n5': 1651671519812099473}
curr time
1651671519912597753

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
6
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651671519911755772, 'n2': 1651671519912320272, 'n3': 1651671519912556887, 'n4': 1651671519896498979, 'n5': 1651671519912708202}
curr time
1651671519912746073

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
6
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651671519911755772, 'n2': 1651671519912320272, 'n3': 1651671519912556887, 'n4': 1651671519912854171, 'n5': 1651671519912708202}
curr time
1651671519912893884

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":38,"type":"AppendEntries","term":6,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":181}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 34, "in_reply_to": 38, "type": "AppendEntriesRes", "res": true, "term": 6, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":34,"type":"RequestVote","term":5,"prevLogIndex":2,"lastLogTerm":4,"candidateId":"n1"},"id":187}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 35, "in_reply_to": 34, "type": "RequestVoteRes", "term": 6, "res": false}}
INFO:root:Bad election request, term is not up to date
n2
at time
1651671519914745455

DEBUG:root:received {"dest":"n3","src":"n5","body":{"msg_id":41,"type":"RequestVote","term":6,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n5"},"id":201}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 36, "in_reply_to": 41, "type": "RequestVoteRes", "term": 6, "res": false}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
7
sec, min max hb
0.34990377706001247
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 37, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 38, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 39, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 40, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 41, "type": "RequestVote", "term": 7, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":39,"type":"RequestVote","term":7,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":211}
INFO:root:voting for myself
n3
at time
1651671520011021130
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 42, "in_reply_to": 39, "type": "RequestVoteRes", "term": 7, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":40,"in_reply_to":37,"type":"RequestVoteRes","term":6,"res":false},"id":214}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":43,"in_reply_to":38,"type":"RequestVoteRes","term":6,"res":false},"id":215}
INFO:root:Got a response to the vote Request #475

INFO:root:election timeout, starting new election

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":42,"in_reply_to":39,"type":"RequestVoteRes","term":7,"res":true},"id":217}
INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
7
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520011542578, 'n2': 1651671519913435947, 'n3': 1651671520011018155, 'n4': 1651671519912854171, 'n5': 1651671519916364010}
curr time
1651671520011731138

INFO:root:starting new elections, new term
8
sec, min max hb
0.2052522101599552
0.2
0.5

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":41,"in_reply_to":40,"type":"RequestVoteRes","term":6,"res":false},"id":216}
INFO:root:resposta
False
majority
3

INFO:root:Requesting new Vote

INFO:root:Got a response to the vote Request #475

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 43, "type": "RequestVote", "term": 8, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671520011542578, 'n2': 1651671520012165264, 'n3': 1651671520011018155, 'n4': 1651671519912854171, 'n5': 1651671519916364010}
curr time
1651671520012299842

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671520011542578, 'n2': 1651671520012165264, 'n3': 1651671520012449279, 'n4': 1651671519912854171, 'n5': 1651671519916364010}
curr time
1651671520012492731

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651671520011542578, 'n2': 1651671520012165264, 'n3': 1651671520012449279, 'n4': 1651671520012685181, 'n5': 1651671519916364010}
curr time
1651671520012727966

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 44, "type": "RequestVote", "term": 8, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 45, "type": "RequestVote", "term": 8, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 46, "type": "RequestVote", "term": 8, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 47, "type": "RequestVote", "term": 8, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":41,"in_reply_to":43,"type":"RequestVoteRes","term":6,"res":false},"id":220}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":45,"type":"RequestVote","term":8,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":221}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651671520013673048, 'n2': 1651671520012165264, 'n3': 1651671520012449279, 'n4': 1651671520012685181, 'n5': 1651671519916364010}
curr time
1651671520013715164

INFO:root:resposta
False
majority
3

INFO:root:voting for myself
n3
at time
1651671520013848060
nr votes
2

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 48, "in_reply_to": 45, "type": "RequestVoteRes", "term": 8, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":44,"in_reply_to":44,"type":"RequestVoteRes","term":6,"res":false},"id":224}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":48,"in_reply_to":45,"type":"RequestVoteRes","term":8,"res":true},"id":225}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":42,"in_reply_to":46,"type":"RequestVoteRes","term":6,"res":false},"id":226}
INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520013673048, 'n2': 1651671520014401966, 'n3': 1651671520013845827, 'n4': 1651671520012685181, 'n5': 1651671519916364010}
curr time
1651671520014597424

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n1
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520013673048, 'n2': 1651671520014401966, 'n3': 1651671520014789936, 'n4': 1651671520012685181, 'n5': 1651671519916364010}
curr time
1651671520014818870

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 49, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 50, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 51, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 52, "type": "AppendEntries", "term": 8, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
8
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520013673048, 'n2': 1651671520014401966, 'n3': 1651671520014789936, 'n4': 1651671520015638152, 'n5': 1651671519916364010}
curr time
1651671520015697941

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":42,"in_reply_to":49,"type":"AppendEntriesRes","res":true,"term":8,"next":3,"commit":0},"id":231}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":45,"in_reply_to":50,"type":"AppendEntriesRes","res":true,"term":8,"next":1,"commit":0},"id":232}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":43,"in_reply_to":51,"type":"AppendEntriesRes","res":true,"term":8,"next":3,"commit":0},"id":233}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":50,"type":"RequestVote","term":9,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":240}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 53, "in_reply_to": 50, "type": "RequestVoteRes", "term": 9, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520118092832

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":55,"type":"AppendEntries","term":9,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":248}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 54, "in_reply_to": 55, "type": "AppendEntriesRes", "res": true, "term": 9, "next": 1, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 1, 'n3': 1, 'n4': 3, 'n5': 1}
log
[(('pass', None), 0)]

Exception in thread Thread-5:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
10
sec, min max hb
0.3455315876177658
0.2
0.5

INFO:root:Requesting new Vote

INFO:root:starting new elections, new term
11
sec, min max hb
0.48943871780736903
0.2
0.5

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 55, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 56, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 57, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 58, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 59, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 60, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 61, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 63, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 62, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 64, "type": "RequestVote", "term": 11, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":59,"type":"RequestVote","term":11,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":258}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":60,"type":"RequestVote","term":11,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":259}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":45,"in_reply_to":55,"type":"RequestVoteRes","term":9,"res":false},"id":260}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":46,"in_reply_to":56,"type":"RequestVoteRes","term":9,"res":false},"id":263}
INFO:root:voting for myself
n3
at time
1651671520221203980
nr votes
1

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":58,"in_reply_to":57,"type":"RequestVoteRes","term":11,"res":true},"id":265}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 65, "in_reply_to": 59, "type": "RequestVoteRes", "term": 11, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":46,"in_reply_to":61,"type":"RequestVoteRes","term":9,"res":false},"id":266}
INFO:root:voting for myself
n3
at time
1651671520221818091
nr votes
2

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":59,"in_reply_to":58,"type":"RequestVoteRes","term":11,"res":true},"id":268}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 66, "in_reply_to": 60, "type": "RequestVoteRes", "term": 11, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":47,"in_reply_to":62,"type":"RequestVoteRes","term":9,"res":false},"id":269}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":65,"in_reply_to":59,"type":"RequestVoteRes","term":11,"res":true},"id":270}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":66,"in_reply_to":60,"type":"RequestVoteRes","term":11,"res":true},"id":271}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520222546832, 'n2': 1651671520121183594, 'n3': 1651671520221815179, 'n4': 1651671520017626071, 'n5': 1651671519916364010}
curr time
1651671520222653545

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520121183594, 'n3': 1651671520221815179, 'n4': 1651671520017626071, 'n5': 1651671519916364010}
curr time
1651671520222871279

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520222962863, 'n3': 1651671520221815179, 'n4': 1651671520017626071, 'n5': 1651671519916364010}
curr time
1651671520222994153

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 67, "type": "AppendEntries", "term": 11, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 68, "type": "AppendEntries", "term": 11, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 69, "type": "AppendEntries", "term": 11, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 70, "type": "AppendEntries", "term": 11, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520222962863, 'n3': 1651671520221815179, 'n4': 1651671520223764682, 'n5': 1651671519916364010}
curr time
1651671520223823591

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520223947305, 'n3': 1651671520221815179, 'n4': 1651671520223764682, 'n5': 1651671519916364010}
curr time
1651671520223989287

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520223947305, 'n3': 1651671520221815179, 'n4': 1651671520224090502, 'n5': 1651671519916364010}
curr time
1651671520224142884

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520223947305, 'n3': 1651671520224266860, 'n4': 1651671520224090502, 'n5': 1651671519916364010}
curr time
1651671520224313138

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
11
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520222837114, 'n2': 1651671520223947305, 'n3': 1651671520224439753, 'n4': 1651671520224090502, 'n5': 1651671519916364010}
curr time
1651671520224484605

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":47,"in_reply_to":67,"type":"AppendEntriesRes","res":true,"term":11,"next":3,"commit":0},"id":276}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":60,"in_reply_to":68,"type":"AppendEntriesRes","res":true,"term":11,"next":1,"commit":0},"id":277}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":48,"in_reply_to":69,"type":"AppendEntriesRes","res":true,"term":11,"next":3,"commit":0},"id":278}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":63,"type":"RequestVote","term":12,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":281}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 71, "in_reply_to": 63, "type": "RequestVoteRes", "term": 12, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520245415189

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":68,"type":"AppendEntries","term":12,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":289}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 72, "in_reply_to": 68, "type": "AppendEntriesRes", "res": true, "term": 12, "next": 1, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 1, 'n3': 1, 'n4': 3, 'n5': 1}
log
[(('pass', None), 0)]

Exception in thread Thread-13:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
13
sec, min max hb
0.4314882142920406
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 73, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 74, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 75, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 76, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 77, "type": "RequestVote", "term": 13, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":75,"type":"RequestVote","term":13,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":297}
INFO:root:voting for myself
n3
at time
1651671520325183475
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 78, "in_reply_to": 75, "type": "RequestVoteRes", "term": 13, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":50,"in_reply_to":73,"type":"RequestVoteRes","term":12,"res":false},"id":300}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":71,"in_reply_to":74,"type":"RequestVoteRes","term":13,"res":true},"id":301}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":51,"in_reply_to":76,"type":"RequestVoteRes","term":12,"res":false},"id":303}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":78,"in_reply_to":75,"type":"RequestVoteRes","term":13,"res":true},"id":302}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520325773006, 'n2': 1651671520248299432, 'n3': 1651671520325179730, 'n4': 1651671520225949595, 'n5': 1651671519916364010}
curr time
1651671520325821127

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520325773006, 'n2': 1651671520325924103, 'n3': 1651671520325179730, 'n4': 1651671520225949595, 'n5': 1651671519916364010}
curr time
1651671520325969592

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520325773006, 'n2': 1651671520325924103, 'n3': 1651671520325179730, 'n4': 1651671520326114800, 'n5': 1651671519916364010}
curr time
1651671520326150463

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
13
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520325773006, 'n2': 1651671520325924103, 'n3': 1651671520326250865, 'n4': 1651671520326114800, 'n5': 1651671519916364010}
curr time
1651671520326286853

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 79, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 80, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 81, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 82, "type": "AppendEntries", "term": 13, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":72,"in_reply_to":80,"type":"AppendEntriesRes","res":true,"term":13,"next":1,"commit":0},"id":308}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":51,"in_reply_to":79,"type":"AppendEntriesRes","res":true,"term":13,"next":3,"commit":0},"id":309}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":52,"in_reply_to":81,"type":"AppendEntriesRes","res":true,"term":13,"next":3,"commit":0},"id":310}
INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":75,"type":"RequestVote","term":14,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":315}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 83, "in_reply_to": 75, "type": "RequestVoteRes", "term": 14, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520426803958

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":81,"type":"RequestVote","term":15,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":325}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 84, "in_reply_to": 81, "type": "RequestVoteRes", "term": 15, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520428686532

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":86,"type":"AppendEntries","term":15,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":332}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 85, "in_reply_to": 86, "type": "AppendEntriesRes", "res": true, "term": 15, "next": 1, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 1, 'n3': 1, 'n4': 3, 'n5': 1}
log
[(('pass', None), 0)]

Exception in thread Thread-17:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
16
sec, min max hb
0.3154392524643766
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 86, "type": "RequestVote", "term": 16, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 87, "type": "RequestVote", "term": 16, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 88, "type": "RequestVote", "term": 16, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 89, "type": "RequestVote", "term": 16, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 90, "type": "RequestVote", "term": 16, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":88,"type":"RequestVote","term":16,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":341}
INFO:root:voting for myself
n3
at time
1651671520528095683
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 91, "in_reply_to": 88, "type": "RequestVoteRes", "term": 16, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":56,"in_reply_to":86,"type":"RequestVoteRes","term":15,"res":false},"id":344}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":91,"in_reply_to":88,"type":"RequestVoteRes","term":16,"res":true},"id":345}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":89,"in_reply_to":87,"type":"RequestVoteRes","term":16,"res":true},"id":346}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":56,"in_reply_to":89,"type":"RequestVoteRes","term":15,"res":false},"id":347}
INFO:root:Got a response to the vote Request #475

INFO:root:election timeout, starting new election

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
16
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520528995721, 'n2': 1651671520431959123, 'n3': 1651671520528092321, 'n4': 1651671520328198537, 'n5': 1651671519916364010}
curr time
1651671520529113535

INFO:root:starting new elections, new term
17
sec, min max hb
0.2667083980461308
0.2
0.5

INFO:root:resposta
False
majority
3

INFO:root:Requesting new Vote

INFO:root:Got a response to the vote Request #475

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 92, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
None
timeout dict
{'n1': 1651671520528995721, 'n2': 1651671520431959123, 'n3': 1651671520529456174, 'n4': 1651671520328198537, 'n5': 1651671519916364010}
curr time
1651671520529588898

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 93, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 94, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
None
timeout dict
{'n1': 1651671520528995721, 'n2': 1651671520530193874, 'n3': 1651671520529456174, 'n4': 1651671520328198537, 'n5': 1651671519916364010}
curr time
1651671520530236531

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
None
timeout dict
{'n1': 1651671520528995721, 'n2': 1651671520530193874, 'n3': 1651671520529456174, 'n4': 1651671520530397725, 'n5': 1651671519916364010}
curr time
1651671520530430897

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":94,"type":"RequestVote","term":17,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n3"},"id":350}
INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 95, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":57,"in_reply_to":92,"type":"RequestVoteRes","term":15,"res":false},"id":351}
INFO:root:voting for myself
n3
at time
1651671520530922694
nr votes
3

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 96, "type": "RequestVote", "term": 17, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":90,"in_reply_to":93,"type":"RequestVoteRes","term":17,"res":true},"id":352}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 97, "in_reply_to": 94, "type": "RequestVoteRes", "term": 17, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
3
n3
timeout dict
{'n1': 1651671520531519295, 'n2': 1651671520530193874, 'n3': 1651671520530920430, 'n4': 1651671520530397725, 'n5': 1651671519916364010}
curr time
1651671520531570792

DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":97,"in_reply_to":94,"type":"RequestVoteRes","term":17,"res":true},"id":355}
INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":57,"in_reply_to":95,"type":"RequestVoteRes","term":15,"res":false},"id":356}
INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 98, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 99, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 100, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 101, "type": "AppendEntries", "term": 17, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520531519295, 'n2': 1651671520532660817, 'n3': 1651671520530920430, 'n4': 1651671520530397725, 'n5': 1651671519916364010}
curr time
1651671520532726264

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520531519295, 'n2': 1651671520532660817, 'n3': 1651671520532856141, 'n4': 1651671520530397725, 'n5': 1651671519916364010}
curr time
1651671520532896079

INFO:root:resposta
True
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
17
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520531519295, 'n2': 1651671520532660817, 'n3': 1651671520532856141, 'n4': 1651671520533004107, 'n5': 1651671519916364010}
curr time
1651671520533041707

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":91,"in_reply_to":99,"type":"AppendEntriesRes","res":true,"term":17,"next":1,"commit":0},"id":362}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":58,"in_reply_to":98,"type":"AppendEntriesRes","res":true,"term":17,"next":3,"commit":0},"id":361}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":58,"in_reply_to":100,"type":"AppendEntriesRes","res":true,"term":17,"next":3,"commit":0},"id":363}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":94,"type":"RequestVote","term":18,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":366}
INFO:root:log atual
[(('pass', None), 0)]
prevlog index
0
 last log term
0

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 102, "in_reply_to": 94, "type": "RequestVoteRes", "term": 18, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520579101245

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":99,"type":"AppendEntries","term":18,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":374}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 103, "in_reply_to": 99, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 1, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":102,"type":"AppendEntries","term":18,"entries":[[["write",[1,3]],18]],"prevIndex":0,"prevTerm":0,"commit":0},"id":381}
INFO:root:commiting command
[['write', [1, 3]], 18]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 104, "in_reply_to": 102, "type": "AppendEntriesRes", "res": true, "term": 18, "next": 2, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
19
sec, min max hb
0.21721735516373078
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 105, "type": "RequestVote", "term": 19, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 106, "type": "RequestVote", "term": 19, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 107, "type": "RequestVote", "term": 19, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 108, "type": "RequestVote", "term": 19, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 109, "type": "RequestVote", "term": 19, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":107,"type":"RequestVote","term":19,"prevLogIndex":1,"lastLogTerm":18,"candidateId":"n3"},"id":386}
INFO:root:voting for myself
n3
at time
1651671520680542853
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 110, "in_reply_to": 107, "type": "RequestVoteRes", "term": 19, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":61,"in_reply_to":105,"type":"RequestVoteRes","term":18,"res":false},"id":389}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":104,"in_reply_to":106,"type":"RequestVoteRes","term":19,"res":true},"id":390}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":110,"in_reply_to":107,"type":"RequestVoteRes","term":19,"res":true},"id":391}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":61,"in_reply_to":108,"type":"RequestVoteRes","term":18,"res":false},"id":392}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520681370213, 'n2': 1651671520641419503, 'n3': 1651671520680539362, 'n4': 1651671520533610227, 'n5': 1651671519916364010}
curr time
1651671520681474518

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520681370213, 'n2': 1651671520681573598, 'n3': 1651671520680539362, 'n4': 1651671520533610227, 'n5': 1651671519916364010}
curr time
1651671520681601232

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520681370213, 'n2': 1651671520681573598, 'n3': 1651671520681717368, 'n4': 1651671520533610227, 'n5': 1651671519916364010}
curr time
1651671520681742026

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 111, "type": "AppendEntries", "term": 19, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 112, "type": "AppendEntries", "term": 19, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 113, "type": "AppendEntries", "term": 19, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 114, "type": "AppendEntries", "term": 19, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
19
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520681370213, 'n2': 1651671520681573598, 'n3': 1651671520681717368, 'n4': 1651671520682627843, 'n5': 1651671519916364010}
curr time
1651671520682680616

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":62,"in_reply_to":111,"type":"AppendEntriesRes","res":false,"term":18},"id":397}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":62,"in_reply_to":113,"type":"AppendEntriesRes","res":false,"term":18},"id":398}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":105,"in_reply_to":112,"type":"AppendEntriesRes","res":true,"term":19,"next":2,"commit":0},"id":399}
INFO:root:387##########:
node
n3
current term
19
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 115, "type": "AppendEntries", "term": 19, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
19
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 1, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 116, "type": "AppendEntries", "term": 19, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":63,"in_reply_to":115,"type":"AppendEntriesRes","res":true,"term":19,"next":4,"commit":0},"id":402}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":63,"in_reply_to":116,"type":"AppendEntriesRes","res":true,"term":19,"next":4,"commit":0},"id":403}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 4, 'n2': 2, 'n3': 2, 'n4': 4, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

Exception in thread Thread-20:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":108,"type":"RequestVote","term":20,"prevLogIndex":1,"lastLogTerm":18,"candidateId":"n2"},"id":406}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18]]
prevlog index
1
 last log term
18

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 117, "in_reply_to": 108, "type": "RequestVoteRes", "term": 20, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520717164635

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":113,"type":"AppendEntries","term":20,"prevIndex":1,"prevTerm":18,"entries":[],"commit":0},"id":414}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 118, "in_reply_to": 113, "type": "AppendEntriesRes", "res": true, "term": 20, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":119,"type":"AppendEntries","term":20,"prevIndex":1,"prevTerm":18,"entries":[],"commit":0},"id":424}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 119, "in_reply_to": 119, "type": "AppendEntriesRes", "res": true, "term": 20, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
21
sec, min max hb
0.2073655330921038
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 120, "type": "RequestVote", "term": 21, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 121, "type": "RequestVote", "term": 21, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 122, "type": "RequestVote", "term": 21, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 123, "type": "RequestVote", "term": 21, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 124, "type": "RequestVote", "term": 21, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":122,"type":"RequestVote","term":21,"prevLogIndex":1,"lastLogTerm":18,"candidateId":"n3"},"id":433}
INFO:root:voting for myself
n3
at time
1651671520757019787
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 125, "in_reply_to": 122, "type": "RequestVoteRes", "term": 21, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":125,"in_reply_to":122,"type":"RequestVoteRes","term":21,"res":true},"id":438}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":68,"in_reply_to":120,"type":"RequestVoteRes","term":20,"res":false},"id":437}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":68,"in_reply_to":123,"type":"RequestVoteRes","term":20,"res":false},"id":439}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520684950732, 'n2': 1651671520721628055, 'n3': 1651671520757709036, 'n4': 1651671520684984658, 'n5': 1651671519916364010}
curr time
1651671520757838986

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":122,"in_reply_to":121,"type":"RequestVoteRes","term":21,"res":true},"id":436}
INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520758276439, 'n2': 1651671520721628055, 'n3': 1651671520757709036, 'n4': 1651671520684984658, 'n5': 1651671519916364010}
curr time
1651671520758319294

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520758276439, 'n2': 1651671520721628055, 'n3': 1651671520757709036, 'n4': 1651671520758429923, 'n5': 1651671519916364010}
curr time
1651671520758466221

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
21
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520758276439, 'n2': 1651671520758565367, 'n3': 1651671520757709036, 'n4': 1651671520758429923, 'n5': 1651671519916364010}
curr time
1651671520758601003

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 126, "type": "AppendEntries", "term": 21, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 127, "type": "AppendEntries", "term": 21, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 128, "type": "AppendEntries", "term": 21, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 129, "type": "AppendEntries", "term": 21, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":69,"in_reply_to":126,"type":"AppendEntriesRes","res":false,"term":20},"id":444}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":123,"in_reply_to":127,"type":"AppendEntriesRes","res":true,"term":21,"next":2,"commit":0},"id":445}
INFO:root:387##########:
node
n3
current term
21
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
dest
n1

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":69,"in_reply_to":128,"type":"AppendEntriesRes","res":false,"term":20},"id":446}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 130, "type": "AppendEntries", "term": 21, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
21
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 1, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 131, "type": "AppendEntries", "term": 21, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":70,"in_reply_to":130,"type":"AppendEntriesRes","res":true,"term":21,"next":6,"commit":0},"id":449}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":70,"in_reply_to":131,"type":"AppendEntriesRes","res":true,"term":21,"next":6,"commit":0},"id":450}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":126,"type":"RequestVote","term":22,"prevLogIndex":1,"lastLogTerm":18,"candidateId":"n2"},"id":453}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18]]
prevlog index
1
 last log term
18

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 132, "in_reply_to": 126, "type": "RequestVoteRes", "term": 22, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520782648602

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":131,"type":"AppendEntries","term":22,"prevIndex":1,"prevTerm":18,"entries":[],"commit":0},"id":461}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 133, "in_reply_to": 131, "type": "AppendEntriesRes", "res": true, "term": 22, "next": 2, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
23
sec, min max hb
0.4585836219082172
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 134, "type": "RequestVote", "term": 23, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 135, "type": "RequestVote", "term": 23, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 136, "type": "RequestVote", "term": 23, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 137, "type": "RequestVote", "term": 23, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 138, "type": "RequestVote", "term": 23, "prevLogIndex": 1, "lastLogTerm": 18, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":136,"type":"RequestVote","term":23,"prevLogIndex":1,"lastLogTerm":18,"candidateId":"n3"},"id":473}
INFO:root:voting for myself
n3
at time
1651671520799249991
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 139, "in_reply_to": 136, "type": "RequestVoteRes", "term": 23, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":139,"in_reply_to":136,"type":"RequestVoteRes","term":23,"res":true},"id":476}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":136,"in_reply_to":135,"type":"RequestVoteRes","term":23,"res":true},"id":477}
INFO:root:Got a response to the vote Request #475

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":74,"in_reply_to":134,"type":"RequestVoteRes","term":22,"res":false},"id":478}
INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
23
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520761667927, 'n2': 1651671520785253969, 'n3': 1651671520799867710, 'n4': 1651671520761760778, 'n5': 1651671519916364010}
curr time
1651671520799978274

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":74,"in_reply_to":137,"type":"RequestVoteRes","term":22,"res":false},"id":479}
INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
23
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520761667927, 'n2': 1651671520800292142, 'n3': 1651671520799867710, 'n4': 1651671520761760778, 'n5': 1651671519916364010}
curr time
1651671520800320279

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 140, "type": "AppendEntries", "term": 23, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 141, "type": "AppendEntries", "term": 23, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 142, "type": "AppendEntries", "term": 23, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 2, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 143, "type": "AppendEntries", "term": 23, "prevIndex": 1, "prevTerm": 18, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
23
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520801127065, 'n2': 1651671520800292142, 'n3': 1651671520799867710, 'n4': 1651671520761760778, 'n5': 1651671519916364010}
curr time
1651671520801178602

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
23
log 
[(('pass', None), 0), [['write', [1, 3]], 18]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520801127065, 'n2': 1651671520800292142, 'n3': 1651671520799867710, 'n4': 1651671520801296284, 'n5': 1651671519916364010}
curr time
1651671520801333164

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":75,"in_reply_to":140,"type":"AppendEntriesRes","res":false,"term":22},"id":484}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":137,"in_reply_to":141,"type":"AppendEntriesRes","res":true,"term":23,"next":2,"commit":0},"id":485}
INFO:root:387##########:
node
n3
current term
23
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
dest
n1

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":75,"in_reply_to":142,"type":"AppendEntriesRes","res":false,"term":22},"id":486}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 144, "type": "AppendEntries", "term": 23, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
23
next I
{'n1': 1, 'n2': 2, 'n3': 2, 'n4': 1, 'n5': 2}
log
[(('pass', None), 0), [['write', [1, 3]], 18]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 145, "type": "AppendEntries", "term": 23, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":76,"in_reply_to":144,"type":"AppendEntriesRes","res":true,"term":23,"next":8,"commit":0},"id":489}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":76,"in_reply_to":145,"type":"AppendEntriesRes","res":true,"term":23,"next":8,"commit":0},"id":490}
INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":140,"type":"RequestVote","term":24,"prevLogIndex":1,"lastLogTerm":18,"candidateId":"n2"},"id":493}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18]]
prevlog index
1
 last log term
18

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 146, "in_reply_to": 140, "type": "RequestVoteRes", "term": 24, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520858613824

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":145,"type":"AppendEntries","term":24,"prevIndex":1,"prevTerm":18,"entries":[],"commit":0},"id":501}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 147, "in_reply_to": 145, "type": "AppendEntriesRes", "res": true, "term": 24, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":150,"type":"AppendEntries","term":24,"entries":[[["cas",[0,[0,1]]],24]],"prevIndex":1,"prevTerm":18,"commit":0},"id":512}
INFO:root:commiting command
[['cas', [0, [0, 1]]], 24]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 148, "in_reply_to": 150, "type": "AppendEntriesRes", "res": true, "term": 24, "next": 3, "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
25
sec, min max hb
0.21177838489172182
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 149, "type": "RequestVote", "term": 25, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 150, "type": "RequestVote", "term": 25, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 151, "type": "RequestVote", "term": 25, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 152, "type": "RequestVote", "term": 25, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 153, "type": "RequestVote", "term": 25, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":151,"type":"RequestVote","term":25,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n3"},"id":517}
INFO:root:voting for myself
n3
at time
1651671520884352392
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 154, "in_reply_to": 151, "type": "RequestVoteRes", "term": 25, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":154,"in_reply_to":151,"type":"RequestVoteRes","term":25,"res":true},"id":521}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":81,"in_reply_to":152,"type":"RequestVoteRes","term":24,"res":false},"id":523}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520803130063, 'n2': 1651671520872902008, 'n3': 1651671520885447555, 'n4': 1651671520803207002, 'n5': 1651671519916364010}
curr time
1651671520885512549

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520803130063, 'n2': 1651671520872902008, 'n3': 1651671520885447555, 'n4': 1651671520885720826, 'n5': 1651671519916364010}
curr time
1651671520885765213

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":80,"in_reply_to":149,"type":"RequestVoteRes","term":24,"res":false},"id":524}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":152,"in_reply_to":150,"type":"RequestVoteRes","term":25,"res":true},"id":525}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520886117711, 'n2': 1651671520872902008, 'n3': 1651671520885447555, 'n4': 1651671520885720826, 'n5': 1651671519916364010}
curr time
1651671520886155999

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
25
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520886117711, 'n2': 1651671520886274470, 'n3': 1651671520885447555, 'n4': 1651671520885720826, 'n5': 1651671519916364010}
curr time
1651671520886313021

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 155, "type": "AppendEntries", "term": 25, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 156, "type": "AppendEntries", "term": 25, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 157, "type": "AppendEntries", "term": 25, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 158, "type": "AppendEntries", "term": 25, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":153,"in_reply_to":156,"type":"AppendEntriesRes","res":true,"term":25,"next":3,"commit":0},"id":530}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":82,"in_reply_to":157,"type":"AppendEntriesRes","res":false,"term":24},"id":531}
INFO:root:387##########:
node
n3
current term
25
next I
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 159, "type": "AppendEntries", "term": 25, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":81,"in_reply_to":155,"type":"AppendEntriesRes","res":false,"term":24},"id":532}
INFO:root:387##########:
node
n3
current term
25
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 160, "type": "AppendEntries", "term": 25, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":83,"in_reply_to":159,"type":"AppendEntriesRes","res":false,"term":24},"id":534}
INFO:root:387##########:
node
n3
current term
25
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 161, "type": "AppendEntries", "term": 25, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":82,"in_reply_to":160,"type":"AppendEntriesRes","res":false,"term":24},"id":537}
INFO:root:387##########:
node
n3
current term
25
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 162, "type": "AppendEntries", "term": 25, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":84,"in_reply_to":161,"type":"AppendEntriesRes","res":true,"term":25,"next":11,"commit":0},"id":539}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":83,"in_reply_to":162,"type":"AppendEntriesRes","res":true,"term":25,"next":11,"commit":0},"id":540}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":156,"type":"RequestVote","term":26,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":543}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 163, "in_reply_to": 156, "type": "RequestVoteRes", "term": 26, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520901867398

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":161,"type":"AppendEntries","term":26,"prevIndex":2,"prevTerm":24,"entries":[],"commit":0},"id":551}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 164, "in_reply_to": 161, "type": "AppendEntriesRes", "res": true, "term": 26, "next": 3, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
27
sec, min max hb
0.4461240466824432
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 165, "type": "RequestVote", "term": 27, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 166, "type": "RequestVote", "term": 27, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 167, "type": "RequestVote", "term": 27, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 168, "type": "RequestVote", "term": 27, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 169, "type": "RequestVote", "term": 27, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":167,"type":"RequestVote","term":27,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n3"},"id":567}
INFO:root:voting for myself
n3
at time
1651671520959795155
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 170, "in_reply_to": 167, "type": "RequestVoteRes", "term": 27, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":170,"in_reply_to":167,"type":"RequestVoteRes","term":27,"res":true},"id":570}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":88,"in_reply_to":165,"type":"RequestVoteRes","term":26,"res":false},"id":571}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":168,"in_reply_to":166,"type":"RequestVoteRes","term":27,"res":true},"id":572}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":89,"in_reply_to":168,"type":"RequestVoteRes","term":26,"res":false},"id":573}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
27
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671520893694711, 'n2': 1651671520904810593, 'n3': 1651671520960440529, 'n4': 1651671520892702713, 'n5': 1651671519916364010}
curr time
1651671520960538632

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
27
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520960665630, 'n2': 1651671520904810593, 'n3': 1651671520960440529, 'n4': 1651671520892702713, 'n5': 1651671519916364010}
curr time
1651671520960687035

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
27
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671520960665630, 'n2': 1651671520960750577, 'n3': 1651671520960440529, 'n4': 1651671520892702713, 'n5': 1651671519916364010}
curr time
1651671520960771333

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 171, "type": "AppendEntries", "term": 27, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 172, "type": "AppendEntries", "term": 27, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 173, "type": "AppendEntries", "term": 27, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 174, "type": "AppendEntries", "term": 27, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
27
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651671520960665630, 'n2': 1651671520960750577, 'n3': 1651671520960440529, 'n4': 1651671520961462892, 'n5': 1651671519916364010}
curr time
1651671520961526934

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":89,"in_reply_to":171,"type":"AppendEntriesRes","res":false,"term":26},"id":578}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":90,"in_reply_to":173,"type":"AppendEntriesRes","res":false,"term":26},"id":579}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":169,"in_reply_to":172,"type":"AppendEntriesRes","res":true,"term":27,"next":3,"commit":0},"id":580}
INFO:root:387##########:
node
n3
current term
27
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 175, "type": "AppendEntries", "term": 27, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
INFO:root:election ended

INFO:root:387##########:
node
n3
current term
27
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 176, "type": "AppendEntries", "term": 27, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":90,"in_reply_to":175,"type":"AppendEntriesRes","res":false,"term":26},"id":583}
INFO:root:387##########:
node
n3
current term
27
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 177, "type": "AppendEntries", "term": 27, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":91,"in_reply_to":176,"type":"AppendEntriesRes","res":false,"term":26},"id":584}
INFO:root:387##########:
node
n3
current term
27
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 178, "type": "AppendEntries", "term": 27, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":91,"in_reply_to":177,"type":"AppendEntriesRes","res":true,"term":27,"next":15,"commit":0},"id":587}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":92,"in_reply_to":178,"type":"AppendEntriesRes","res":true,"term":27,"next":15,"commit":0},"id":588}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":172,"type":"RequestVote","term":28,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":591}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 179, "in_reply_to": 172, "type": "RequestVoteRes", "term": 28, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671520986775783

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":177,"type":"AppendEntries","term":28,"prevIndex":2,"prevTerm":24,"entries":[],"commit":0},"id":599}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 180, "in_reply_to": 177, "type": "AppendEntriesRes", "res": true, "term": 28, "next": 3, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 15, 'n2': 3, 'n3': 3, 'n4': 15, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

Exception in thread Thread-34:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 15, 'n2': 3, 'n3': 3, 'n4': 15, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

Exception in thread Thread-29:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
29
sec, min max hb
0.30098165791155307
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 181, "type": "RequestVote", "term": 29, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 182, "type": "RequestVote", "term": 29, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 183, "type": "RequestVote", "term": 29, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 184, "type": "RequestVote", "term": 29, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 185, "type": "RequestVote", "term": 29, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":183,"type":"RequestVote","term":29,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n3"},"id":615}
INFO:root:voting for myself
n3
at time
1651671521003349647
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 186, "in_reply_to": 183, "type": "RequestVoteRes", "term": 29, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":96,"in_reply_to":181,"type":"RequestVoteRes","term":28,"res":false},"id":618}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":184,"in_reply_to":182,"type":"RequestVoteRes","term":29,"res":true},"id":619}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":97,"in_reply_to":184,"type":"RequestVoteRes","term":28,"res":false},"id":620}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":186,"in_reply_to":183,"type":"RequestVoteRes","term":29,"res":true},"id":621}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671521004333498, 'n2': 1651671520988635656, 'n3': 1651671521003345900, 'n4': 1651671520966657741, 'n5': 1651671519916364010}
curr time
1651671521004406735

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671521004333498, 'n2': 1651671521004564407, 'n3': 1651671521003345900, 'n4': 1651671520966657741, 'n5': 1651671519916364010}
curr time
1651671521004610626

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521004333498, 'n2': 1651671521004564407, 'n3': 1651671521003345900, 'n4': 1651671521004816902, 'n5': 1651671519916364010}
curr time
1651671521004858355

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
29
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521004333498, 'n2': 1651671521004564407, 'n3': 1651671521004977979, 'n4': 1651671521004816902, 'n5': 1651671519916364010}
curr time
1651671521005016720

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 187, "type": "AppendEntries", "term": 29, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 188, "type": "AppendEntries", "term": 29, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 189, "type": "AppendEntries", "term": 29, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 190, "type": "AppendEntries", "term": 29, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":97,"in_reply_to":187,"type":"AppendEntriesRes","res":false,"term":28},"id":626}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":185,"in_reply_to":188,"type":"AppendEntriesRes","res":true,"term":29,"next":3,"commit":0},"id":627}
INFO:root:387##########:
node
n3
current term
29
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":98,"in_reply_to":189,"type":"AppendEntriesRes","res":false,"term":28},"id":628}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 191, "type": "AppendEntries", "term": 29, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
29
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 192, "type": "AppendEntries", "term": 29, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":98,"in_reply_to":191,"type":"AppendEntriesRes","res":false,"term":28},"id":631}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":99,"in_reply_to":192,"type":"AppendEntriesRes","res":false,"term":28},"id":632}
INFO:root:387##########:
node
n3
current term
29
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 193, "type": "AppendEntries", "term": 29, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
29
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 194, "type": "AppendEntries", "term": 29, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":99,"in_reply_to":193,"type":"AppendEntriesRes","res":true,"term":29,"next":19,"commit":0},"id":635}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":100,"in_reply_to":194,"type":"AppendEntriesRes","res":true,"term":29,"next":19,"commit":0},"id":636}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":188,"type":"RequestVote","term":30,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":639}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 195, "in_reply_to": 188, "type": "RequestVoteRes", "term": 30, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671521061696313

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":193,"type":"AppendEntries","term":30,"prevIndex":2,"prevTerm":24,"entries":[],"commit":0},"id":647}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 196, "in_reply_to": 193, "type": "AppendEntriesRes", "res": true, "term": 30, "next": 3, "commit": 0}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
31
sec, min max hb
0.39200757347208726
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 197, "type": "RequestVote", "term": 31, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 198, "type": "RequestVote", "term": 31, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 199, "type": "RequestVote", "term": 31, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 200, "type": "RequestVote", "term": 31, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 201, "type": "RequestVote", "term": 31, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":199,"type":"RequestVote","term":31,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n3"},"id":663}
INFO:root:voting for myself
n3
at time
1651671521087875535
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 202, "in_reply_to": 199, "type": "RequestVoteRes", "term": 31, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":202,"in_reply_to":199,"type":"RequestVoteRes","term":31,"res":true},"id":666}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":104,"in_reply_to":197,"type":"RequestVoteRes","term":30,"res":false},"id":667}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":105,"in_reply_to":200,"type":"RequestVoteRes","term":30,"res":false},"id":668}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":200,"in_reply_to":198,"type":"RequestVoteRes","term":31,"res":true},"id":669}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671521009972132, 'n2': 1651671521064326888, 'n3': 1651671521088565099, 'n4': 1651671521010009779, 'n5': 1651671519916364010}
curr time
1651671521088621759

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521088802937, 'n2': 1651671521064326888, 'n3': 1651671521088565099, 'n4': 1651671521010009779, 'n5': 1651671519916364010}
curr time
1651671521088835578

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521088802937, 'n2': 1651671521064326888, 'n3': 1651671521088565099, 'n4': 1651671521088928515, 'n5': 1651671519916364010}
curr time
1651671521088957661

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
31
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521088802937, 'n2': 1651671521089044748, 'n3': 1651671521088565099, 'n4': 1651671521088928515, 'n5': 1651671519916364010}
curr time
1651671521089088663

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 203, "type": "AppendEntries", "term": 31, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 204, "type": "AppendEntries", "term": 31, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 205, "type": "AppendEntries", "term": 31, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 206, "type": "AppendEntries", "term": 31, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":105,"in_reply_to":203,"type":"AppendEntriesRes","res":false,"term":30},"id":674}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":201,"in_reply_to":204,"type":"AppendEntriesRes","res":true,"term":31,"next":3,"commit":0},"id":675}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":106,"in_reply_to":205,"type":"AppendEntriesRes","res":false,"term":30},"id":676}
INFO:root:387##########:
node
n3
current term
31
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 207, "type": "AppendEntries", "term": 31, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
31
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 208, "type": "AppendEntries", "term": 31, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":106,"in_reply_to":207,"type":"AppendEntriesRes","res":false,"term":30},"id":679}
INFO:root:387##########:
node
n3
current term
31
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":107,"in_reply_to":208,"type":"AppendEntriesRes","res":false,"term":30},"id":680}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 209, "type": "AppendEntries", "term": 31, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
INFO:root:387##########:
node
n3
current term
31
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 210, "type": "AppendEntries", "term": 31, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":107,"in_reply_to":209,"type":"AppendEntriesRes","res":true,"term":31,"next":23,"commit":0},"id":683}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":108,"in_reply_to":210,"type":"AppendEntriesRes","res":true,"term":31,"next":23,"commit":0},"id":684}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":204,"type":"RequestVote","term":32,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":687}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 211, "in_reply_to": 204, "type": "RequestVoteRes", "term": 32, "res": true}}
INFO:root:election started and voted vor
n2
at time
1651671521095738574

INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
33
sec, min max hb
0.32642884602764577
0.2
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 212, "type": "RequestVote", "term": 33, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 213, "type": "RequestVote", "term": 33, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 214, "type": "RequestVote", "term": 33, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 215, "type": "RequestVote", "term": 33, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 216, "type": "RequestVote", "term": 33, "prevLogIndex": 2, "lastLogTerm": 24, "candidateId": "n3"}}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":214,"type":"RequestVote","term":33,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n3"},"id":696}
INFO:root:voting for myself
n3
at time
1651671521097924301
nr votes
1

DEBUG:root:sending {"dest": "n3", "src": "n3", "body": {"msg_id": 217, "in_reply_to": 214, "type": "RequestVoteRes", "term": 33, "res": true}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":209,"type":"AppendEntries","term":32,"prevIndex":2,"prevTerm":24,"entries":[],"commit":0},"id":700}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":109,"in_reply_to":212,"type":"RequestVoteRes","term":31,"res":false},"id":702}
DEBUG:root:received {"dest":"n3","src":"n3","body":{"msg_id":217,"in_reply_to":214,"type":"RequestVoteRes","term":33,"res":true},"id":703}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 218, "in_reply_to": 209, "type": "AppendEntriesRes", "res": false, "term": 33}}
INFO:root:msg term
32
current term
33
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
msg entries
[]

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671521099146318, 'n2': 1651671521098645263, 'n3': 1651671521097921775, 'n4': 1651671521093003692, 'n5': 1651671519916364010}
curr time
1651671521099189111

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n3
timeout dict
{'n1': 1651671521099146318, 'n2': 1651671521098645263, 'n3': 1651671521099306368, 'n4': 1651671521093003692, 'n5': 1651671519916364010}
curr time
1651671521099341537

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":110,"in_reply_to":215,"type":"RequestVoteRes","term":31,"res":false},"id":706}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":212,"in_reply_to":213,"type":"RequestVoteRes","term":33,"res":true},"id":709}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521099146318, 'n2': 1651671521098645263, 'n3': 1651671521099306368, 'n4': 1651671521099639588, 'n5': 1651671519916364010}
curr time
1651671521099780494

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n3
leader
n3
kvsotr
{}
cur term
33
log 
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n3
timeout dict
{'n1': 1651671521099146318, 'n2': 1651671521099928800, 'n3': 1651671521099306368, 'n4': 1651671521099639588, 'n5': 1651671519916364010}
curr time
1651671521099977224

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 219, "type": "AppendEntries", "term": 33, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n2
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 220, "type": "AppendEntries", "term": 33, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 221, "type": "AppendEntries", "term": 33, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 3, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]

DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 222, "type": "AppendEntries", "term": 33, "prevIndex": 2, "prevTerm": 24, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":111,"in_reply_to":219,"type":"AppendEntriesRes","res":false,"term":31},"id":715}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":112,"in_reply_to":221,"type":"AppendEntriesRes","res":false,"term":31},"id":717}
INFO:root:387##########:
node
n3
current term
33
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":215,"type":"AppendEntries","term":33,"prevIndex":1,"prevTerm":18,"entries":[[["cas",[0,[0,1]]],24]],"commit":0},"id":718}
DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 223, "type": "AppendEntries", "term": 33, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":216,"in_reply_to":220,"type":"AppendEntriesRes","res":true,"term":33,"next":3,"commit":0},"id":720}
INFO:root:387##########:
node
n3
current term
33
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 2, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 224, "type": "AppendEntries", "term": 33, "prevIndex": 1, "prevTerm": 18, "entries": [[["cas", [0, [0, 1]]], 24]], "commit": 0}}
INFO:root:commiting command
[['cas', [0, [0, 1]]], 24]

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 225, "in_reply_to": 215, "type": "AppendEntriesRes", "res": true, "term": 33, "next": 4, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":221,"type":"RequestVote","term":34,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":729}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 226, "in_reply_to": 221, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":116,"in_reply_to":224,"type":"AppendEntriesRes","res":false,"term":33},"id":736}
INFO:root:387##########:
node
n3
current term
33
next I
{'n1': 2, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
dest
n4

DEBUG:root:sending {"dest": "n4", "src": "n3", "body": {"msg_id": 227, "type": "AppendEntries", "term": 33, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":115,"in_reply_to":223,"type":"AppendEntriesRes","res":false,"term":33},"id":738}
INFO:root:387##########:
node
n3
current term
33
next I
{'n1': 1, 'n2': 3, 'n3': 3, 'n4': 1, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
dest
n1

DEBUG:root:sending {"dest": "n1", "src": "n3", "body": {"msg_id": 228, "type": "AppendEntries", "term": 33, "prevIndex": 0, "prevTerm": 0, "entries": [[["write", [1, 3]], 18], [["cas", [0, [0, 1]]], 24], [["cas", [0, [0, 1]]], 24]], "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n4","body":{"msg_id":117,"in_reply_to":227,"type":"AppendEntriesRes","res":true,"term":33,"next":28,"commit":0},"id":742}
DEBUG:root:received {"dest":"n3","src":"n1","body":{"msg_id":116,"in_reply_to":228,"type":"AppendEntriesRes","res":true,"term":33,"next":28,"commit":0},"id":743}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]

Exception in thread Thread-47:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":227,"type":"RequestVote","term":35,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":746}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 229, "in_reply_to": 227, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":233,"type":"RequestVote","term":36,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":757}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 230, "in_reply_to": 233, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":239,"type":"RequestVote","term":37,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":766}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 231, "in_reply_to": 239, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]

Exception in thread Thread-38:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":245,"type":"RequestVote","term":38,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":775}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 232, "in_reply_to": 245, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:election ended

INFO:root:leader alive, resuming timeout checker

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]

Exception in thread Thread-41:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":251,"type":"RequestVote","term":39,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":784}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 233, "in_reply_to": 251, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]

Exception in thread Thread-58:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":257,"type":"RequestVote","term":40,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":793}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24]]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 234, "in_reply_to": 257, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","body":{"key":0,"from":1,"to":4,"type":"cas","msg_id":1},"src":"c19","id":800}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 235, "type": "AppendEntries", "term": 33, "entries": [[["cas", [0, [0, 1]]], 24], [["cas", [0, [1, 4]]], 33]], "prevIndex": 2, "prevTerm": 24, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 236, "type": "AppendEntries", "term": 33, "entries": [[["cas", [0, [0, 1]]], 24], [["cas", [0, [1, 4]]], 33]], "prevIndex": 2, "prevTerm": 24, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":261,"in_reply_to":235,"type":"AppendEntriesRes","res":false,"term":40},"id":803}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33)]

Exception in thread Thread-53:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":264,"type":"RequestVote","term":41,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":806}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 237, "in_reply_to": 264, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":269,"type":"RequestVote","term":42,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":814}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 238, "in_reply_to": 269, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:leader alive, resuming timeout checker

INFO:root:election ended

INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33)]

Exception in thread Thread-65:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
DEBUG:root:received {"dest":"n3","body":{"key":1,"value":0,"type":"write","msg_id":1},"src":"c20","id":822}
DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 239, "type": "AppendEntries", "term": 33, "entries": [[["cas", [0, [0, 1]]], 24], [["cas", [0, [1, 4]]], 33], [["write", [1, 0]], 33]], "prevIndex": 2, "prevTerm": 24, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n3", "body": {"msg_id": 240, "type": "AppendEntries", "term": 33, "entries": [[["cas", [0, [0, 1]]], 24], [["cas", [0, [1, 4]]], 33], [["write", [1, 0]], 33]], "prevIndex": 2, "prevTerm": 24, "commit": 0}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":274,"in_reply_to":239,"type":"AppendEntriesRes","res":false,"term":42},"id":825}
INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 28, 'n2': 3, 'n3': 3, 'n4': 28, 'n5': 3}
log
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]

Exception in thread Thread-62:
Traceback (most recent call last):
  File "/usr/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.10/threading.py", line 1371, in run
    self.function(*self.args, **self.kwargs)
  File "/home/peter/Documents/tf/lab3/raft.py", line 135, in recursive_heartbeats
    heartbeat(dest)
  File "/home/peter/Documents/tf/lab3/raft.py", line 124, in heartbeat
    prevTerm=log[nextIndex[dest]-1][1]
IndexError: list index out of range
INFO:root:leader alive, resuming timeout checker

INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":277,"type":"RequestVote","term":43,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":828}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 241, "in_reply_to": 277, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":283,"type":"RequestVote","term":44,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":837}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 242, "in_reply_to": 283, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":288,"type":"RequestVote","term":45,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":845}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 243, "in_reply_to": 288, "type": "RequestVoteRes", "term": 33, "res": false}}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":295,"type":"RequestVote","term":46,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":858}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 244, "in_reply_to": 295, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":301,"type":"RequestVote","term":47,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":867}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 245, "in_reply_to": 301, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":307,"type":"RequestVote","term":48,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":876}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 246, "in_reply_to": 307, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":313,"type":"RequestVote","term":49,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":885}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 247, "in_reply_to": 313, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":319,"type":"RequestVote","term":50,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":894}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 248, "in_reply_to": 319, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":325,"type":"RequestVote","term":51,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":903}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 249, "in_reply_to": 325, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":331,"type":"RequestVote","term":52,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":912}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 250, "in_reply_to": 331, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":337,"type":"RequestVote","term":53,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":921}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 251, "in_reply_to": 337, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":343,"type":"RequestVote","term":54,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":930}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 252, "in_reply_to": 343, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":349,"type":"RequestVote","term":55,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":939}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 253, "in_reply_to": 349, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":355,"type":"RequestVote","term":56,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":948}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 254, "in_reply_to": 355, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":361,"type":"RequestVote","term":57,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":957}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 255, "in_reply_to": 361, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":367,"type":"RequestVote","term":58,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":966}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 256, "in_reply_to": 367, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":373,"type":"RequestVote","term":59,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":975}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 257, "in_reply_to": 373, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":379,"type":"RequestVote","term":60,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":984}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 258, "in_reply_to": 379, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":385,"type":"RequestVote","term":61,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":993}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 259, "in_reply_to": 385, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":391,"type":"RequestVote","term":62,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1002}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 260, "in_reply_to": 391, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":397,"type":"RequestVote","term":63,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1011}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 261, "in_reply_to": 397, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":403,"type":"RequestVote","term":64,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1020}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 262, "in_reply_to": 403, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":409,"type":"RequestVote","term":65,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1029}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 263, "in_reply_to": 409, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":415,"type":"RequestVote","term":66,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1038}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 264, "in_reply_to": 415, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":421,"type":"RequestVote","term":67,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1047}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 265, "in_reply_to": 421, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":427,"type":"RequestVote","term":68,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1056}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 266, "in_reply_to": 427, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":433,"type":"RequestVote","term":69,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1065}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 267, "in_reply_to": 433, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":439,"type":"RequestVote","term":70,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1074}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 268, "in_reply_to": 439, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":445,"type":"RequestVote","term":71,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1083}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 269, "in_reply_to": 445, "type": "RequestVoteRes", "term": 33, "res": false}}
DEBUG:root:received {"dest":"n3","src":"n2","body":{"msg_id":451,"type":"RequestVote","term":72,"prevLogIndex":2,"lastLogTerm":24,"candidateId":"n2"},"id":1092}
INFO:root:log atual
[(('pass', None), 0), [['write', [1, 3]], 18], [['cas', [0, [0, 1]]], 24], [['cas', [0, [0, 1]]], 24], (('cas', (0, (1, 4))), 33), (('write', (1, 0)), 33)]
prevlog index
2
 last log term
24

DEBUG:root:sending {"dest": "n2", "src": "n3", "body": {"msg_id": 270, "in_reply_to": 451, "type": "RequestVoteRes", "term": 33, "res": false}}

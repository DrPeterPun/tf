DEBUG:root:received {"dest":"n2","body":{"type":"init","node_id":"n2","node_ids":["n1","n2","n3","n4","n5"],"msg_id":1},"src":"c0","id":0}
INFO:root:node n2 initialized
DEBUG:root:sending {"dest": "c0", "src": "n2", "body": {"msg_id": 1, "in_reply_to": 1, "type": "init_ok"}}
INFO:root:node
n1
current time
1651673231226537868
node_time
1651673231226521752
dif
16116
True

INFO:root:LEADER IS DEAD bit of a aldrabation tho 
n1

INFO:root:lead is dead

INFO:root:starting new elections, new term
1
sec, min max hb
0.3850958301263308
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 2, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 3, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 4, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 5, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 6, "type": "RequestVote", "term": 1, "prevLogIndex": 0, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":3,"type":"RequestVote","term":1,"prevLogIndex":0,"lastLogTerm":0,"candidateId":"n2"},"id":9}
INFO:root:voting for myself
n2
at time
1651673231272534550
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 7, "in_reply_to": 3, "type": "RequestVoteRes", "term": 1, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":2,"in_reply_to":4,"type":"RequestVoteRes","term":1,"res":true},"id":13}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231226521752, 'n2': 1651673231272523624, 'n3': 1651673231278049072, 'n4': 1651673231226521752, 'n5': 1651673231226521752}
curr time
1651673231278289206

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":2,"in_reply_to":6,"type":"RequestVoteRes","term":1,"res":true},"id":14}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":7,"in_reply_to":3,"type":"RequestVoteRes","term":1,"res":true},"id":15}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651673231226521752, 'n2': 1651673231272523624, 'n3': 1651673231278049072, 'n4': 1651673231226521752, 'n5': 1651673231284622767}
curr time
1651673231284870080

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n1
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651673231226521752, 'n2': 1651673231285728390, 'n3': 1651673231278049072, 'n4': 1651673231226521752, 'n5': 1651673231284622767}
curr time
1651673231285891393

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
2

INFO:root:depois  #489
3

INFO:root:became leader
log
[(('pass', None), 0)]
match index
{'n1': 0, 'n2': 0, 'n3': 0, 'n4': 0, 'n5': 0}

INFO:root:vote ended, new leader is
n2

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 8, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 9, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 10, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 11, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":2,"in_reply_to":5,"type":"RequestVoteRes","term":1,"res":true},"id":17}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673231226521752, 'n2': 1651673231285728390, 'n3': 1651673231278049072, 'n4': 1651673231290844969, 'n5': 1651673231284622767}
curr time
1651673231291072403

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":3,"in_reply_to":9,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":22}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":3,"in_reply_to":10,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":23}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":3,"in_reply_to":11,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":24}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":2,"type":"AppendEntries","term":0,"prevIndex":0,"prevTerm":0,"entries":[],"commit":0},"id":26}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 12, "in_reply_to": 2, "type": "AppendEntriesRes", "res": false, "term": 1}}
INFO:root:msg term
0
current term
1
log
[(('pass', None), 0)]
msg entries
[]

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":6,"in_reply_to":2,"type":"RequestVoteRes","term":1,"res":true},"id":33}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
1
log 
[(('pass', None), 0)]
commit indez e last applied
0
0
candidate, votes, voted for
False
None
None
timeout dict
{'n1': 1651673231346134733, 'n2': 1651673231285728390, 'n3': 1651673231296734999, 'n4': 1651673231297581701, 'n5': 1651673231298838807}
curr time
1651673231346368039

INFO:root:resposta
True
majority
3

DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":7,"in_reply_to":8,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":35}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":8,"type":"AppendEntries","term":1,"prevIndex":-1,"prevTerm":0,"entries":[[["pass",null],0]],"commit":0},"id":36}
INFO:root:commiting command
[['pass', None], 0]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 13, "in_reply_to": 8, "type": "AppendEntriesRes", "res": true, "term": 1, "next": 2, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 14, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 15, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 16, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 1, 'n4': 1, 'n5': 1}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 17, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":12,"in_reply_to":14,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":48}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":6,"in_reply_to":17,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":49}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":6,"in_reply_to":15,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":50}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":6,"in_reply_to":16,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":51}
INFO:root:election ended

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 18, "type": "AppendEntries", "term": 1, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 19, "type": "AppendEntries", "term": 1, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 20, "type": "AppendEntries", "term": 1, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 21, "type": "AppendEntries", "term": 1, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":13,"in_reply_to":18,"type":"AppendEntriesRes","res":true,"term":1,"next":1,"commit":0},"id":56}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":8,"in_reply_to":19,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":57}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":7,"in_reply_to":20,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":60}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":7,"in_reply_to":21,"type":"AppendEntriesRes","res":true,"term":1,"next":2,"commit":0},"id":61}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":10,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":63}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 22, "in_reply_to": 10, "type": "RequestVoteRes", "term": 2, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651673231532189871

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":9,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":70}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 23, "in_reply_to": 9, "type": "RequestVoteRes", "term": 2, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":11,"type":"RequestVote","term":2,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":79}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 24, "in_reply_to": 11, "type": "RequestVoteRes", "term": 2, "res": false}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 25, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":17,"in_reply_to":25,"type":"AppendEntriesRes","res":true,"term":2,"next":1,"commit":0},"id":93}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 26, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 27, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":17,"in_reply_to":26,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":95}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 28, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":16,"in_reply_to":27,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":97}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":16,"in_reply_to":28,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":99}
DEBUG:root:received {"dest":"n2","body":{"key":0,"type":"read","msg_id":1},"src":"c11","id":100}
DEBUG:root:sending {"dest": "c11", "src": "n2", "body": {"msg_id": 29, "in_reply_to": 1, "type": "error", "code": 20, "text": "Invalid Key"}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 30, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 31, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 32, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 33, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":18,"in_reply_to":31,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":106}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":17,"in_reply_to":32,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":107}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":18,"in_reply_to":30,"type":"AppendEntriesRes","res":true,"term":2,"next":1,"commit":0},"id":108}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":17,"in_reply_to":33,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":109}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 34, "type": "AppendEntries", "term": 2, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 35, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 36, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 37, "type": "AppendEntries", "term": 2, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":19,"in_reply_to":34,"type":"AppendEntriesRes","res":true,"term":2,"next":1,"commit":0},"id":114}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":19,"in_reply_to":35,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":115}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":18,"in_reply_to":37,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":117}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":18,"in_reply_to":36,"type":"AppendEntriesRes","res":true,"term":2,"next":2,"commit":0},"id":118}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":21,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n3"},"id":119}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
3
sec, min max hb
0.44329454735359947
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 38, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 39, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 40, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 41, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 42, "type": "RequestVote", "term": 3, "prevLogIndex": 1, "lastLogTerm": 0, "candidateId": "n2"}}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 43, "in_reply_to": 21, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:election started and voted vor
n3
at time
1651673231789813959

DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":20,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n5"},"id":125}
INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 44, "in_reply_to": 20, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":39,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n2"},"id":126}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":22,"in_reply_to":38,"type":"RequestVoteRes","term":3,"res":false},"id":136}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":21,"in_reply_to":41,"type":"RequestVoteRes","term":2,"res":false},"id":138}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":27,"in_reply_to":40,"type":"RequestVoteRes","term":3,"res":false},"id":142}
INFO:root:voting for myself
n2
at time
1651673231814665920
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 45, "in_reply_to": 39, "type": "RequestVoteRes", "term": 3, "res": true}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231815408609, 'n2': 1651673231814655636, 'n3': 1651673231787061312, 'n4': 1651673231786984238, 'n5': 1651673231809743685}
curr time
1651673231815588843

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231815408609, 'n2': 1651673231814655636, 'n3': 1651673231787061312, 'n4': 1651673231816068285, 'n5': 1651673231809743685}
curr time
1651673231816247119

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231815408609, 'n2': 1651673231814655636, 'n3': 1651673231816713531, 'n4': 1651673231816068285, 'n5': 1651673231809743685}
curr time
1651673231816875346

INFO:root:resposta
False
majority
3

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":45,"in_reply_to":39,"type":"RequestVoteRes","term":3,"res":true},"id":144}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":23,"type":"RequestVote","term":3,"prevLogIndex":1,"lastLogTerm":0,"candidateId":"n4"},"id":146}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231815408609, 'n2': 1651673231828801795, 'n3': 1651673231816713531, 'n4': 1651673231816068285, 'n5': 1651673231809743685}
curr time
1651673231829017704

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0]]
prevlog index
1
 last log term
0

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 46, "in_reply_to": 23, "type": "RequestVoteRes", "term": 3, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":29,"type":"AppendEntries","term":3,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":153}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":25,"in_reply_to":42,"type":"RequestVoteRes","term":3,"res":false},"id":157}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 47, "in_reply_to": 29, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 2, "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
3
log 
[(('pass', None), 0), [['pass', None], 0]]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651673231815408609, 'n2': 1651673231828801795, 'n3': 1651673231838335673, 'n4': 1651673231829831834, 'n5': 1651673231839003122}
curr time
1651673231839234477

INFO:root:resposta
False
majority
3

INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 48, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 49, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 50, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 2, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0]]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 51, "type": "AppendEntries", "term": 3, "prevIndex": 1, "prevTerm": 0, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":33,"in_reply_to":49,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":169}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":29,"in_reply_to":50,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":170}
DEBUG:root:received {"dest":"n2","src":"n1","body":{"msg_id":24,"in_reply_to":48,"type":"AppendEntriesRes","res":true,"term":3,"next":1,"commit":0},"id":171}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":29,"in_reply_to":51,"type":"AppendEntriesRes","res":true,"term":3,"next":2,"commit":0},"id":172}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":35,"type":"AppendEntries","term":3,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":174}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 52, "in_reply_to": 35, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 2, "commit": 0}}
DEBUG:root:received {"dest":"n2","body":{"key":0,"from":1,"to":3,"type":"cas","msg_id":1},"src":"c12","id":177}
DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 53, "type": "AppendEntries", "term": 3, "entries": [[["pass", null], 0], [["cas", [0, [1, 3]]], 3]], "prevIndex": 0, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 54, "type": "AppendEntries", "term": 3, "entries": [[["cas", [0, [1, 3]]], 3]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 55, "type": "AppendEntries", "term": 3, "entries": [[["cas", [0, [1, 3]]], 3]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 56, "type": "AppendEntries", "term": 3, "entries": [[["cas", [0, [1, 3]]], 3]], "prevIndex": 1, "prevTerm": 0, "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":31,"in_reply_to":56,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":185}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":38,"in_reply_to":54,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":186}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":31,"in_reply_to":55,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":187}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 57, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 58, "type": "AppendEntries", "term": 3, "prevIndex": 2, "prevTerm": 3, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 59, "type": "AppendEntries", "term": 3, "prevIndex": 2, "prevTerm": 3, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 60, "type": "AppendEntries", "term": 3, "prevIndex": 2, "prevTerm": 3, "entries": [], "commit": 0}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":32,"in_reply_to":59,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":192}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":32,"in_reply_to":60,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":193}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":39,"in_reply_to":58,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":194}
INFO:root:leader alive, resuming timeout checker

DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":41,"type":"AppendEntries","term":3,"prevIndex":1,"prevTerm":0,"entries":[],"commit":0},"id":196}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 61, "in_reply_to": 41, "type": "AppendEntriesRes", "res": true, "term": 3, "next": 3, "commit": 0}}
INFO:root:sending HB

INFO:root:HBdest
n1
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 62, "type": "AppendEntries", "term": 3, "prevIndex": 0, "prevTerm": 0, "entries": [], "commit": 0}}
INFO:root:HBdest
n3
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 63, "type": "AppendEntries", "term": 3, "prevIndex": 2, "prevTerm": 3, "entries": [], "commit": 0}}
INFO:root:HBdest
n4
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 64, "type": "AppendEntries", "term": 3, "prevIndex": 2, "prevTerm": 3, "entries": [], "commit": 0}}
INFO:root:HBdest
n5
nextIndex
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 3}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 65, "type": "AppendEntries", "term": 3, "prevIndex": 2, "prevTerm": 3, "entries": [], "commit": 0}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
4
sec, min max hb
0.3889922152797345
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 66, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":45,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":3,"candidateId":"n3"},"id":202}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 67, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 68, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 69, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 70, "type": "RequestVote", "term": 4, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
INFO:root:election timeout, starting new election

INFO:root:starting new elections, new term
5
sec, min max hb
0.48407309620434036
0.3333333333333333
0.5

INFO:root:Requesting new Vote

DEBUG:root:sending {"dest": "n1", "src": "n2", "body": {"msg_id": 71, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 72, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 73, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n4", "src": "n2", "body": {"msg_id": 74, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 75, "type": "RequestVote", "term": 5, "prevLogIndex": 2, "lastLogTerm": 3, "candidateId": "n2"}}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":67,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":3,"candidateId":"n2"},"id":213}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":36,"type":"RequestVote","term":4,"prevLogIndex":2,"lastLogTerm":3,"candidateId":"n5"},"id":221}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":72,"type":"RequestVote","term":5,"prevLogIndex":2,"lastLogTerm":3,"candidateId":"n2"},"id":226}
DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 76, "in_reply_to": 45, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673232076058416

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 77, "in_reply_to": 67, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673232076695888

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 78, "in_reply_to": 36, "type": "RequestVoteRes", "term": 5, "res": false}}
INFO:root:Bad election request, term is not up to date
None
at time
1651673232077252571

INFO:root:voting for myself
n2
at time
1651673232078287959
nr votes
0

DEBUG:root:sending {"dest": "n2", "src": "n2", "body": {"msg_id": 79, "in_reply_to": 72, "type": "RequestVoteRes", "term": 5, "res": true}}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":35,"in_reply_to":64,"type":"AppendEntriesRes","res":true,"term":3,"next":3,"commit":0},"id":227}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":36,"in_reply_to":69,"type":"RequestVoteRes","term":3,"res":false},"id":228}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":40,"in_reply_to":65,"type":"AppendEntriesRes","res":false,"term":4},"id":232}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":41,"in_reply_to":70,"type":"RequestVoteRes","term":4,"res":true},"id":233}
DEBUG:root:received {"dest":"n2","src":"n4","body":{"msg_id":38,"in_reply_to":74,"type":"RequestVoteRes","term":3,"res":false},"id":234}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":50,"in_reply_to":63,"type":"AppendEntriesRes","res":false,"term":4},"id":235}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":51,"in_reply_to":68,"type":"RequestVoteRes","term":4,"res":false},"id":236}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":54,"type":"AppendEntries","term":4,"entries":[[["write",[1,4]],4]],"prevIndex":2,"prevTerm":3,"commit":0},"id":239}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232078279281, 'n3': 1651673232075597057, 'n4': 1651673232082050651, 'n5': 1651673232076949399}
curr time
1651673232082244561

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
5
next I
{'n1': 1, 'n2': 1, 'n3': 3, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
dest
n5

DEBUG:root:sending {"dest": "n5", "src": "n2", "body": {"msg_id": 80, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [[["cas", [0, [1, 3]]], 3]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
0
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232078279281, 'n3': 1651673232075597057, 'n4': 1651673232082050651, 'n5': 1651673232083355064}
curr time
1651673232083527593

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
0

INFO:root:depois  #489
1

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232078279281, 'n3': 1651673232075597057, 'n4': 1651673232084919984, 'n5': 1651673232083355064}
curr time
1651673232085103163

INFO:root:resposta
False
majority
3

INFO:root:387##########:
node
n2
current term
5
next I
{'n1': 1, 'n2': 1, 'n3': 2, 'n4': 3, 'n5': 2}
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
dest
n3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 81, "type": "AppendEntries", "term": 5, "prevIndex": 1, "prevTerm": 0, "entries": [[["cas", [0, [1, 3]]], 3]], "commit": 0}}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232078279281, 'n3': 1651673232086251858, 'n4': 1651673232084919984, 'n5': 1651673232083355064}
curr time
1651673232086429761

INFO:root:resposta
False
majority
3

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 82, "in_reply_to": 54, "type": "AppendEntriesRes", "res": false, "term": 5}}
INFO:root:msg term
4
current term
5
log
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
msg entries
[[['write', [1, 4]], 4]]

DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":77,"in_reply_to":67,"type":"RequestVoteRes","term":5,"res":false},"id":245}
DEBUG:root:received {"dest":"n2","src":"n2","body":{"msg_id":79,"in_reply_to":72,"type":"RequestVoteRes","term":5,"res":true},"id":247}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":57,"in_reply_to":73,"type":"RequestVoteRes","term":4,"res":false},"id":250}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":44,"in_reply_to":75,"type":"RequestVoteRes","term":4,"res":false},"id":252}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":59,"type":"RequestVote","term":5,"prevLogIndex":3,"lastLogTerm":4,"candidateId":"n3"},"id":256}
INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232097446106, 'n3': 1651673232086862465, 'n4': 1651673232084919984, 'n5': 1651673232083355064}
curr time
1651673232097709551

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
1
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232098229952, 'n3': 1651673232086862465, 'n4': 1651673232084919984, 'n5': 1651673232083355064}
curr time
1651673232098388238

INFO:root:resposta
True
majority
3

INFO:root:antes  #487
1

INFO:root:depois  #489
2

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232098229952, 'n3': 1651673232099115944, 'n4': 1651673232084919984, 'n5': 1651673232083355064}
curr time
1651673232099266328

INFO:root:resposta
False
majority
3

INFO:root:Got a response to the vote Request #475

INFO:root:node id:
n2
leader
n2
kvsotr
{}
cur term
5
log 
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
commit indez e last applied
0
0
candidate, votes, voted for
True
2
n2
timeout dict
{'n1': 1651673231882565952, 'n2': 1651673232098229952, 'n3': 1651673232099115944, 'n4': 1651673232084919984, 'n5': 1651673232099726752}
curr time
1651673232099879796

INFO:root:resposta
False
majority
3

INFO:root:log atual
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
prevlog index
3
 last log term
4

DEBUG:root:sending {"dest": "n3", "src": "n2", "body": {"msg_id": 83, "in_reply_to": 59, "type": "RequestVoteRes", "term": 5, "res": false}}
DEBUG:root:received {"dest":"n2","src":"n5","body":{"msg_id":45,"in_reply_to":80,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":260}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":63,"in_reply_to":81,"type":"AppendEntriesRes","res":true,"term":5,"next":5,"commit":0},"id":263}
DEBUG:root:received {"dest":"n2","src":"n3","body":{"msg_id":64,"type":"AppendEntries","term":5,"prevIndex":1,"prevTerm":0,"entries":[[["cas",[0,[1,3]]],3],[["write",[1,4]],4],[["cas",[0,[1,3]]],3]],"commit":0},"id":264}
INFO:root:355
[(('pass', None), 0), [['pass', None], 0], (('cas', (0, (1, 3))), 3)]
[[['cas', [0, [1, 3]]], 3], [['write', [1, 4]], 4], [['cas', [0, [1, 3]]], 3]]
1
0
n2
(('cas', (0, (1, 3))), 3)
[['cas', [0, [1, 3]]], 3]
1

ERROR:root:fatal exception in handler
Traceback (most recent call last):
  File "/home/peter/Documents/tf/lab3/ms.py", line 27, in exitOnError
    fn(*args)
  File "/home/peter/Documents/tf/lab3/raft.py", line 354, in handle
    buildString([ "355", log,msg.body.entries ,msg.body.prevIndex ,commitIndex ,node_id, log[msg.body.prevIndex+i], msg.body.entries[i-1] ,i ])
IndexError: list index out of range
